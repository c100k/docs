
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="An FAQ page of using Branch in your Facebook Ad campaigns.">
      
      
        <link rel="canonical" href="https://docs.branch.io/pages/deep-linked-ads/facebook-ads-faq/">
      
      
        <meta name="author" content="Branch">
      
      
        <link rel="shortcut icon" href="../../../img/favicon-96x96.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.10.1">
    
    
      
        <title>Facebook Ads FAQ and Advanced Options</title>
      
    
    
      <script src="../../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <style>.async-hide{opacity:0!important}</style>
      <script>!function(e,n,t,a,o,c,i,s,m){n.className+=" "+t,c.start=1*new Date,c.end=i=function(){n.className=n.className.replace(RegExp(" ?"+t),"")},(e[a]=e[a]||[]).hide=c,setTimeout(function(){i(),c.end=null},o),c.timeout=o}(window,document.documentElement,"async-hide","dataLayer",1e3,{"GTM-PCPBXCN":!0})</script>
    
    
      <script>!function(e,t){if(!t.__SV){var n=window;try{var i,a,p,o=n.location,r=o.hash;i=function(e,t){return(a=e.match(RegExp(t+"=([^&]*)")))?a[1]:null},r&&i(r,"state")&&(p=JSON.parse(decodeURIComponent(i(r,"state"))),"mpeditor"===p.action&&(n.sessionStorage.setItem("_mpcehash",r),history.replaceState(p.desiredHash||"",e.title,o.pathname+o.search)))}catch(e){}var l,s;window.mixpanel=t,t._i=[],t.init=function(e,n,i){function a(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var p=t;for("undefined"!=typeof i?p=t[i]=[]:i="mixpanel",p.people=p.people||[],p.toString=function(e){var t="mixpanel";return"mixpanel"!==i&&(t+="."+i),e||(t+=" (stub)"),t},p.people.toString=function(){return p.toString(1)+".people (stub)"},l="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),s=0;s<l.length;s++)a(p,l[s]);t._i.push([e,n,i])},t.__SV=1.2,n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",i=e.getElementsByTagName("script")[0],i.parentNode.insertBefore(n,i)}}(document,window.mixpanel||[]),mixpanel.init("47ec8ea9ac102b1370221dcda476091c")</script>
    
    
      <script>function getCookie(e){var i="; "+document.cookie,t=i.split("; "+e+"=");if(t.length>=2)return t.pop().split(";").shift()}function setCookie(e,i,t){var o=new Date;o=new Date(o.getTime()+864e5*t),document.cookie=e+"="+i+"; expires="+o.toGMTString()+"; path=/; domain=.branch.io"}var returning_visitor=getCookie("bnc_returning_visitor"),page_url=window.location.host+window.location.pathname;setCookie("bnc_returning_visitor","1",30),function(e,i,t,o,n,a,r){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,a=i.createElement(t),r=i.getElementsByTagName(t)[0],a.async=1,a.src=o,r.parentNode.insertBefore(a,r)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-53307642-1","auto"),ga("require","GTM-PCPBXCN"),ga("send","pageview"),ga("require","linkid","linkid.js"),returning_visitor||ga("set","dimension1",page_url)</script>
    
    
      <script>!function(e,t,n,o,c,a,f){e.fbq||(c=e.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},e._fbq||(e._fbq=c),c.push=c,c.loaded=!0,c.version="2.0",c.queue=[],a=t.createElement(n),a.async=!0,a.src=o,f=t.getElementsByTagName(n)[0],f.parentNode.insertBefore(a,f))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","1040694199304729"),fbq("track","PageView")</script>
      <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1040694199304729&ev=PageView&noscript=1"></noscript>
    
    
      <script>_linkedin_data_partner_id="21211",function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",e.parentNode.insertBefore(t,e)}()</script>
    
    
      <script src="//cdn.bizible.com/scripts/bizible.js" async></script>
    
    
      <script>!function(e,n,s,t,a){var c=n.createElement(s),d=n.getElementsByTagName(s)[0];c.async=1,c.id=a,c.src=t,d.parentNode.insertBefore(c,d)}(window,document,"script","https://scripts.demandbase.com/ucA8pUay.min.js","demandbase_js_lib")</script>
    
    
      <script>!function(){function e(){n===!1&&(n=!0,Munchkin.init("315-FTT-121",{domainLevel:2}))}var n=!1,t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//munchkin.marketo.net/munchkin.js",t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||e()},t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)}()</script>
    
    
      <script>!function(e,t,n,o,c,p){e.qp||(o=e.qp=function(){o.qp?o.qp.apply(o,arguments):o.queue.push(arguments)},o.queue=[],c=document.createElement(t),c.async=!0,c.src=n,p=document.getElementsByTagName(t)[0],p.parentNode.insertBefore(c,p))}(window,"script","https://a.quora.com/qevents.js"),qp("init","247e840cafa44cae9ac4b50a0cc1965a"),qp("track","ViewContent")</script>
      <noscript><img height="1" width="1" style="display:none" src="https://q.quora.com/_/ad/247e840cafa44cae9ac4b50a0cc1965a/pixel?tag=ViewContent&noscript=1"></noscript>
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css">
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application-a20f419c8e.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-23f75ab9c7.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../../css/main.css">
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.branch.io" title="Branch documentation" class="md-header-nav__button md-logo">
          
            
              <img src="../../../img/logo.svg">
            
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <a href="https://docs.branch.io" title="Branch documentation">
            <div class="branch-header-subtitle">&nbsp;|&nbsp;Docs</div>
          </a>
        </div>
      
      
        <div class="md-flex__cell md-flex__cell--stretch">
          <span class="md-flex__ellipsis md-header-nav__title">
            
              
                
                  <span class="md-header-nav__parent">
                    Hidden
                  </span>
                
              
              Facebook FAQ and Advanced Options
            
          </span>
        </div>
      
      
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-helpful" id="header-helpful" title="Helpful">
            <i class="branch-header-icon md-icon material-icons">thumb_up</i>
            <p class="branch-header-label">Helpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-unhelpful" id="header-unhelpful" title="Unhelpful">
            <i class="branch-header-icon md-icon material-icons">thumb_down</i>
            <p class="branch-header-label">Unhelpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="improve-doc" title="Improve This Doc">
            <i class="branch-header-icon md-icon material-icons">mode_edit</i>
            <p class="branch-header-label">Improve</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="contact-support" title="Contact support">
            <i class="branch-header-icon md-icon material-icons">help_outline</i>
            <p class="branch-header-label">Support</p>
          </a>
        </div>
      
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <a href="#dialog-search" id="header-search" title="Search">
              <label class="md-icon md-icon--search md-header-nav__button"></label>
              
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      
        <i class="branch-header-search md-icon material-icons">search</i>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
            </a>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        
          <img src="../../../img/logo.svg">
        
      
    </div>
    Branch documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/branchmetrics/docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Branch documentation
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../.." title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

      
    
      
      
      
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic integration
          </li>
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../dashboard/integrate/" title="Configure your dashboard" class="md-nav__link">
      Configure your dashboard
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Configure your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Configure your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/ios/" title="iOS" class="md-nav__link">
      iOS
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/cordova-phonegap-ionic/" title="Cordova PhoneGap Ionic" class="md-nav__link">
      Cordova PhoneGap Ionic
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/mparticle-android/" title="mParticle Android" class="md-nav__link">
      mParticle Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/mparticle-ios/" title="mParticle iOS" class="md-nav__link">
      mParticle iOS
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/titanium/" title="Titanium" class="md-nav__link">
      Titanium
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/react-native/" title="React Native" class="md-nav__link">
      React Native
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/unity/" title="Unity" class="md-nav__link">
      Unity
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/xamarin/" title="Xamarin" class="md-nav__link">
      Xamarin
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Configure your deep linking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Configure your deep linking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/universal-links/" title="iOS Universal Links" class="md-nav__link">
      iOS Universal Links
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/android-app-links/" title="Android App Links" class="md-nav__link">
      Android App Links
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/routing/" title="In-app deep link routing" class="md-nav__link">
      In-app deep link routing
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Launch your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Launch your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/ios-launch/" title="Apple App Store" class="md-nav__link">
      Apple App Store
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/android-launch/" title="Google Play" class="md-nav__link">
      Google Play
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../web/integrate/" title="Configure your website" class="md-nav__link">
      Configure your website
    </a>
  </li>

      
    
      
      
      
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic usage
          </li>
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../links/integrate/" title="Create deep links" class="md-nav__link">
      Create deep links
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Track analytics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Track analytics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/analytics/" title="Dashboard analytics" class="md-nav__link">
      Dashboard analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/unified-analytics/" title="New Dashboard Analytics" class="md-nav__link">
      New Dashboard Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/timezone/" title="Time zone support" class="md-nav__link">
      Time zone support
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Advanced usage
          </li>
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Links on your website
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Links on your website
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/deep-views/" title="Deepviews" class="md-nav__link">
      Deepviews
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/journeys/" title="Journeys App Banners" class="md-nav__link">
      Journeys App Banners
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/amp-journeys/" title="AMP Journeys" class="md-nav__link">
      AMP Journeys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/text-me-the-app/" title="Text Me The App" class="md-nav__link">
      Text Me The App
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/hosted-data/" title="Hosted Deep Link Data" class="md-nav__link">
      Hosted Deep Link Data
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Links in your paid ads
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Links in your paid ads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../dynamic-product-feeds/" title="Dynamic Product Feeds" class="md-nav__link">
      Dynamic Product Feeds
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../branch-universal-ads/" title="Branch Universal Ads" class="md-nav__link">
      Branch Universal Ads
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../apple/" title="Apple Search" class="md-nav__link">
      Apple Search
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../doubleclick/" title="Doubleclick" class="md-nav__link">
      Doubleclick
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../google-ads-overview/" title="Google" class="md-nav__link">
      Google
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../facebook-ads-overview/" title="Facebook" class="md-nav__link">
      Facebook
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../twitter/" title="Twitter" class="md-nav__link">
      Twitter
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Links in your emails
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Links in your emails
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/get-started/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/amazon-ses/" title="Amazon SES" class="md-nav__link">
      Amazon SES
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/betaout/" title="Betaout" class="md-nav__link">
      Betaout
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/blueshift/" title="Blueshift" class="md-nav__link">
      Blueshift
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/braze/" title="Braze (formerly Appboy)" class="md-nav__link">
      Braze (formerly Appboy)
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/bronto/" title="Bronto" class="md-nav__link">
      Bronto
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/campaign-monitor/" title="Campaign Monitor" class="md-nav__link">
      Campaign Monitor
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/epsilon/" title="Epsilon" class="md-nav__link">
      Epsilon
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/kahuna/" title="Kahuna" class="md-nav__link">
      Kahuna
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/leanplum/" title="Leanplum" class="md-nav__link">
      Leanplum
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mailgun/" title="Mailgun" class="md-nav__link">
      Mailgun
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mailjet/" title="Mailjet" class="md-nav__link">
      Mailjet
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mandrill/" title="Mandrill" class="md-nav__link">
      Mandrill
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/moengage/" title="MoEngage" class="md-nav__link">
      MoEngage
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/postup/" title="PostUp" class="md-nav__link">
      PostUp
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/responsys/" title="Responsys" class="md-nav__link">
      Responsys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sailthru/" title="Sailthru" class="md-nav__link">
      Sailthru
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/salesforce/" title="Salesforce" class="md-nav__link">
      Salesforce
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sender/" title="Sender" class="md-nav__link">
      Sender
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sendgrid/" title="SendGrid" class="md-nav__link">
      SendGrid
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sparkpost/" title="SparkPost" class="md-nav__link">
      SparkPost
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/vero/" title="Vero" class="md-nav__link">
      Vero
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/zeta/" title="Zeta" class="md-nav__link">
      Zeta
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/support/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/self-serve/" title="Self Serve" class="md-nav__link">
      Self Serve
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../advance/push-notifications/" title="Links in push notifications" class="md-nav__link">
      Links in push notifications
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Links in organic search
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Links in organic search
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/firebase/" title="Firebase App Indexing" class="md-nav__link">
      Firebase App Indexing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/spotlight/" title="Spotlight Search" class="md-nav__link">
      Spotlight Search
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/branch-seo/" title="General SEO Compatibility" class="md-nav__link">
      General SEO Compatibility
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Links for viral & referral
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Links for viral & referral
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/content-sharing/" title="Content sharing" class="md-nav__link">
      Content sharing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/referrals/" title="Referral programs" class="md-nav__link">
      Referral programs
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Links in new app platforms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        Links in new app platforms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../app-to-app/android-instant-apps/" title="Android Instant Apps" class="md-nav__link">
      Android Instant Apps
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../app-to-app/imessage-apps/" title="iMessage Apps" class="md-nav__link">
      iMessage Apps
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Export Branch data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Export Branch data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16-1" type="checkbox" id="nav-16-1">
    
    <label class="md-nav__link" for="nav-16-1">
      Data Feeds
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-16-1">
        Data Feeds
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/data-feeds/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16-1-2" type="checkbox" id="nav-16-1-2">
    
    <label class="md-nav__link" for="nav-16-1-2">
      Data Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-16-1-2">
        Data Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/data-integrations/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adobe-analytics/" title="Adobe Analytics" class="md-nav__link">
      Adobe Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adjust/" title="Adjust" class="md-nav__link">
      Adjust
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/amplitude/" title="Amplitude" class="md-nav__link">
      Amplitude
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appmetrica/" title="AppMetrica" class="md-nav__link">
      AppMetrica
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appboy/" title="Braze" class="md-nav__link">
      Braze
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appsflyer/" title="Appsflyer" class="md-nav__link">
      Appsflyer
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/clevertap/" title="CleverTap" class="md-nav__link">
      CleverTap
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/fabric-answers/" title="Fabric Answers" class="md-nav__link">
      Fabric Answers
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/google-analytics/" title="Google Analytics" class="md-nav__link">
      Google Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/kochava/" title="Kochava" class="md-nav__link">
      Kochava
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/localytics/" title="Localytics" class="md-nav__link">
      Localytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/mixpanel/" title="Mixpanel" class="md-nav__link">
      Mixpanel
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/mparticle/" title="mParticle" class="md-nav__link">
      mParticle
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/segment/" title="Segment" class="md-nav__link">
      Segment
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/tune/" title="Tune" class="md-nav__link">
      Tune
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/api-v3/" title="Data Export API" class="md-nav__link">
      Data Export API
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/ua-webhooks/" title="Webhooks" class="md-nav__link">
      Webhooks
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/query-api/" title="Query API" class="md-nav__link">
      Query API
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/query-recipe-book/" title="Query Recipe Book" class="md-nav__link">
      Query Recipe Book
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/matching/" title="Branch Matching Overview" class="md-nav__link">
      Branch Matching Overview
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Resources
          </li>
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/validation-tools/" title="Validation Tools" class="md-nav__link">
      Validation Tools
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/case-studies/" title="Case Studies and Infographics" class="md-nav__link">
      Case Studies and Infographics
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#faq" title="FAQ" class="md-nav__link">
    FAQ
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-facebook-mmp" title="What is Facebook MMP?" class="md-nav__link">
    What is Facebook MMP?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-does-branch-attribute-events-to-facebook-ads" title="How does Branch attribute events to Facebook ads?" class="md-nav__link">
    How does Branch attribute events to Facebook ads?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-use-deep-links-in-facebook-ads" title="How can I use deep links in Facebook ads?" class="md-nav__link">
    How can I use deep links in Facebook ads?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-attribute-conversion-events-to-facebook-ads" title="How can I attribute conversion events to Facebook ads?" class="md-nav__link">
    How can I attribute conversion events to Facebook ads?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-are-the-permissions-you-ask-for-as-part-of-the-onboarding-process-and-why" title="What are the permissions you ask for as part of the onboarding process, and why?" class="md-nav__link">
    What are the permissions you ask for as part of the onboarding process, and why?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-each-piece-of-information-needed-during-the-onboarding-process-and-why" title="What is each piece of information needed during the onboarding process, and why?" class="md-nav__link">
    What is each piece of information needed during the onboarding process, and why?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#im-having-problems-finding-or-choosing-the-correct-ad-accounts" title="I'm having problems finding or choosing the correct ad account(s)" class="md-nav__link">
    I'm having problems finding or choosing the correct ad account(s)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-ad-account-i-want-to-select-is-greyed-out" title="The ad account I want to select is greyed out" class="md-nav__link">
    The ad account I want to select is greyed out
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-see-a-warning-underneath-my-ad-account-saying-that-i-need-to-be-an-admin" title="I see a warning underneath my ad account saying that I need to be an admin" class="md-nav__link">
    I see a warning underneath my ad account saying that I need to be an admin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-cant-see-the-ad-account-i-want-to-use-at-all" title="I can't see the ad account I want to use at all" class="md-nav__link">
    I can't see the ad account I want to use at all
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-the-difference-between-your-previous-facebook-ads-product-and-the-new-facebook-ads-product" title="What is the difference between your previous Facebook Ads product, and the new Facebook Ads product?" class="md-nav__link">
    What is the difference between your previous Facebook Ads product, and the new Facebook Ads product?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-upgrade-from-the-old-facebook-integration-to-the-new-facebook-integration" title="How do I upgrade from the old Facebook integration to the new Facebook integration?" class="md-nav__link">
    How do I upgrade from the old Facebook integration to the new Facebook integration?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-think-i-previously-had-facebook-enabled" title="I think I previously had Facebook enabled..." class="md-nav__link">
    I think I previously had Facebook enabled...
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-happens-to-campaigns-in-which-im-using-deep-links" title="What happens to campaigns in which I'm using deep links?" class="md-nav__link">
    What happens to campaigns in which I'm using deep links?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-i-need-to-remove-deep-links-from-my-facebook-ads" title="Do I need to remove deep links from my Facebook ads." class="md-nav__link">
    Do I need to remove deep links from my Facebook ads.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#does-this-new-facebook-mmp-functionality-cover-web-campaigns" title="Does this new Facebook MMP functionality cover web campaigns?" class="md-nav__link">
    Does this new Facebook MMP functionality cover web campaigns?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-i-get-the-data-out" title="Can I get the data out?" class="md-nav__link">
    Can I get the data out?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-data-on-facebook-and-the-data-on-branch-does-not-line-up" title="The data on Facebook and the data on Branch does not line up!" class="md-nav__link">
    The data on Facebook and the data on Branch does not line up!
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#facebook-ads-advanced-options" title="Facebook Ads Advanced Options" class="md-nav__link">
    Facebook Ads Advanced Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#facebook-mmp-event-options" title="Facebook MMP event options" class="md-nav__link">
    Facebook MMP event options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tracking-installs" title="Tracking installs" class="md-nav__link">
    Tracking installs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tracking-reinstalls-and-opens" title="Tracking reinstalls and opens" class="md-nav__link">
    Tracking reinstalls and opens
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tracking-other-conversion-events" title="Tracking other conversion events" class="md-nav__link">
    Tracking other conversion events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapping-of-branch-event-names-to-facebook-events" title="Mapping of Branch event names to Facebook events" class="md-nav__link">
    Mapping of Branch event names to Facebook events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapping-of-branch-metadata-to-facebook-metadata" title="Mapping of Branch metadata to Facebook metadata" class="md-nav__link">
    Mapping of Branch metadata to Facebook metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tracking-custom-events" title="Tracking custom events" class="md-nav__link">
    Tracking custom events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migrating-from-the-existing-facebook-integration-to-mmp" title="Migrating from the existing Facebook integration to MMP" class="md-nav__link">
    Migrating from the existing Facebook integration to MMP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sources-of-discrepancies-between-facebook-and-branch" title="Sources of Discrepancies between Facebook and Branch" class="md-nav__link">
    Sources of Discrepancies between Facebook and Branch
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attribution-windows" title="Attribution Windows" class="md-nav__link">
    Attribution Windows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timezones" title="Timezones" class="md-nav__link">
    Timezones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-common-issues" title="Other common issues" class="md-nav__link">
    Other common issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-with-ios-10-and-limit-ad-tracking" title="Issue with iOS 10 and Limit Ad Tracking" class="md-nav__link">
    Issue with iOS 10 and Limit Ad Tracking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#not-collecting-advertising-id" title="Not Collecting Advertising ID" class="md-nav__link">
    Not Collecting Advertising ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installs-counted-as-reinstalls-opens-on-branch" title="Installs Counted as Reinstalls, Opens on Branch" class="md-nav__link">
    Installs Counted as Reinstalls, Opens on Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-use-setdebug" title="Don't Use setDebug" class="md-nav__link">
    Don't Use setDebug
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discrepancies-with-impressions-and-clicks" title="Discrepancies with Impressions and Clicks" class="md-nav__link">
    Discrepancies with Impressions and Clicks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-i-dont-see-any-clicks-or-installs-on-the-branch-dashboard" title="1. I don't see any clicks or installs on the Branch Dashboard" class="md-nav__link">
    1. I don't see any clicks or installs on the Branch Dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-i-see-installs-on-the-facebook-dashboard-but-no-clicks" title="2. I see installs on the Facebook Dashboard, but no clicks" class="md-nav__link">
    2. I see installs on the Facebook Dashboard, but no clicks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-i-see-clicks-on-the-branch-dashboard-but-the-numbers-look-different-from-what-i-see-on-the-facebook-dashboard" title="3. I see clicks on the Branch Dashboard, but the numbers look different from what I see on the Facebook Dashboard." class="md-nav__link">
    3. I see clicks on the Branch Dashboard, but the numbers look different from what I see on the Facebook Dashboard.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discrepancies-with-installs-opens-and-conversion-events" title="Discrepancies with Installs, Opens and Conversion Events" class="md-nav__link">
    Discrepancies with Installs, Opens and Conversion Events
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-i-dont-see-any-installs-reinstalls-or-opens-on-the-branch-dashboard" title="1. I don't see any installs, reinstalls or opens on the Branch Dashboard" class="md-nav__link">
    1. I don't see any installs, reinstalls or opens on the Branch Dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-i-see-installs-reinstalls-or-opens-on-the-branch-dashboard-but-the-numbers-look-different-from-what-i-see-on-the-facebook-dashboard" title="2. I see installs, reinstalls or opens on the Branch Dashboard, but the numbers look different from what I see on the Facebook Dashboard" class="md-nav__link">
    2. I see installs, reinstalls or opens on the Branch Dashboard, but the numbers look different from what I see on the Facebook Dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-i-dont-see-any-conversion-events-on-the-branch-dashboard" title="3. I don't see any conversion events on the Branch Dashboard" class="md-nav__link">
    3. I don't see any conversion events on the Branch Dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-i-see-conversion-events-on-the-branch-dashboard-but-the-numbers-look-different-from-what-i-see-on-the-facebook-dashboard" title="4. I see conversion events on the Branch Dashboard, but the numbers look different from what I see on the Facebook Dashboard" class="md-nav__link">
    4. I see conversion events on the Branch Dashboard, but the numbers look different from what I see on the Facebook Dashboard
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-deep-linking" title="Troubleshooting deep linking" class="md-nav__link">
    Troubleshooting deep linking
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#intercepting-deep-links-before-branch" title="Intercepting Deep Links Before Branch" class="md-nav__link">
    Intercepting Deep Links Before Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-deep-linking-from-ads" title="Testing Deep Linking from Ads" class="md-nav__link">
    Testing Deep Linking from Ads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issues-reading-facebook-app-links" title="Issues Reading Facebook App Links" class="md-nav__link">
    Issues Reading Facebook App Links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#known-issue-with-app-restrictions" title="Known Issue with App Restrictions" class="md-nav__link">
    Known Issue with App Restrictions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
        <li class="md-nav__item">
          <a href="#__source" title="Source" class="md-nav__link md-nav__link--active">
            Source
          </a>
        </li>
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/branchmetrics/docs/edit/master/src/pages/deep-linked-ads/facebook-ads-faq.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="facebook-ads-faq-and-advanced-options">Facebook Ads FAQ and Advanced Options<a class="headerlink" href="#facebook-ads-faq-and-advanced-options" title="Permanent link">&para;</a></h1>
<h2 id="faq">FAQ<a class="headerlink" href="#faq" title="Permanent link">&para;</a></h2>
<h3 id="what-is-facebook-mmp">What is Facebook MMP?<a class="headerlink" href="#what-is-facebook-mmp" title="Permanent link">&para;</a></h3>
<p><em>"Work with a Facebook Marketing Partner to get deeper insights or measure across several ad networks" (<a href="https://developers.facebook.com/docs/app-ads/measuring" target="_blank">Facebook - "Measuring for App Ads"</a>).</em></p>
<p>The acronym MMP is used to mean either the broad category of Facebook Mobile Marketing Partners, or more narrowly to mean Mobile Measurement Partners. The latter is a special subset of Facebook partners that have access to device-level attribution data. Branch has been vetted by Facebook and joined this group of partners in order to provide both granular analytics and true cross-channel reporting. We help you measure which installs, opens and conversion events should be attributed to Facebook ad campaigns versus other marketing efforts.</p>
<h3 id="how-does-branch-attribute-events-to-facebook-ads">How does Branch attribute events to Facebook ads?<a class="headerlink" href="#how-does-branch-attribute-events-to-facebook-ads" title="Permanent link">&para;</a></h3>
<p>Facebook is a self-attributing network. This means that Facebook claims credit for installs and other events. This differs from some ad networks, which send a stream of impressions and clicks that Branch then matches to events. Branch then compares these claims against other ad networks, as well as traffic coming from email, your website, and other sources, choosing the most recent click to get credit. </p>
<p>The Branch SDK already helps you track installs and other events. When you enable the Facebook MMP integration, Branch sends events and advertising IDs to Facebook. Facebook then reports whether devices previously viewed or clicked a Facebook ad, including helpful information such as campaign, ad set, and ad. As stated above, Branch then dedupes these claims against other claims for attribution.</p>
<h3 id="how-can-i-use-deep-links-in-facebook-ads">How can I use deep links in Facebook ads?<a class="headerlink" href="#how-can-i-use-deep-links-in-facebook-ads" title="Permanent link">&para;</a></h3>
<p>Creating a deep link is easy! First, make sure you have <a href="../../../pages/deep-linked-ads/facebook-app-install-ads/#enable-facebook-as-an-ad-partner">set up the integration with Facebook MMP</a> on the Branch Dashboard. Then navigate to the <a href="https://dashboard.branch.io/ads/partner-management/a_facebook?tab=settings" target="_blank">Facebook page under Partner Management</a> and click "Create Facebook Link".</p>
<p>Longer instructions can be found in the guides linked to from the <a href="../../../pages/deep-linked-ads/facebook-ads-overview/">Facebook overview</a> page. For example, see <a href="../../../pages/deep-linked-ads/facebook-app-install-ads/#create-an-ad-link">this section of the App Installs guide</a>.</p>
<h3 id="how-can-i-attribute-conversion-events-to-facebook-ads">How can I attribute conversion events to Facebook ads?<a class="headerlink" href="#how-can-i-attribute-conversion-events-to-facebook-ads" title="Permanent link">&para;</a></h3>
<p>First, make sure you have <a href="../../../pages/deep-linked-ads/facebook-app-install-ads/#enable-facebook-as-an-ad-partner">set up the integration with Facebook MMP</a> on the Branch Dashboard. Second, <a href="../../../pages/apps/v2event/#v2-event">set up tracking for Standard Events</a>. It's that simple! We will automatically attribute events to Facebook ads. </p>
<p>There are advanced options for tracking events, which you can read more about <a href="../../../pages/deep-linked-ads/facebook-ads-faq/#facebook-mmp-event-options">below</a>.</p>
<h3 id="what-are-the-permissions-you-ask-for-as-part-of-the-onboarding-process-and-why">What are the permissions you ask for as part of the onboarding process, and why?<a class="headerlink" href="#what-are-the-permissions-you-ask-for-as-part-of-the-onboarding-process-and-why" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th><strong>Permissions (OAuth scopes)</strong></th>
<th><strong>Why</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ads_read</td>
<td>Pulling marketing insights data (e.g. impressions, clicks) to present on the Branch Dashboard. Also used for pulling creative name and id, etc., to provide richer analytics for installs, opens and other events.</td>
</tr>
<tr>
<td>business_management</td>
<td>(1) We pull in ad accounts for you to choose from. (2) At the end of the login process, we add our System User to your business and ad account with REPORTS_ONLY permissions. Then we deauthorize the access token that has all 3 of these permissions. In the future, we can easily quarantine/decommission the System User if we detect unusual or unauthorized activity.</td>
</tr>
</tbody>
</table>
<h3 id="what-is-each-piece-of-information-needed-during-the-onboarding-process-and-why">What is each piece of information needed during the onboarding process, and why?<a class="headerlink" href="#what-is-each-piece-of-information-needed-during-the-onboarding-process-and-why" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th><strong>Identifier</strong></th>
<th><strong>Why</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Ad account</td>
<td>Pulling marketing insights data (e.g. impressions, clicks) to present on the Branch Dashboard.</td>
</tr>
<tr>
<td>Facebook App ID</td>
<td>Sending installs, opens and other events to Facebook in order to see whether they were driven by a Facebook ad campaign.</td>
</tr>
</tbody>
</table>
<h3 id="im-having-problems-finding-or-choosing-the-correct-ad-accounts">I'm having problems finding or choosing the correct ad account(s)<a class="headerlink" href="#im-having-problems-finding-or-choosing-the-correct-ad-accounts" title="Permanent link">&para;</a></h3>
<h4 id="the-ad-account-i-want-to-select-is-greyed-out">The ad account I want to select is greyed out<a class="headerlink" href="#the-ad-account-i-want-to-select-is-greyed-out" title="Permanent link">&para;</a></h4>
<p><img alt="Not admin" src="../../../img/pages/deep-linked-ads/facebook-ads-faq/not-business-admin.png" /></p>
<p>If you are not an admin of the <em>business</em> linked to an ad account, you will not be able to add it. This is because we will not be able to add our System User for attribution and analytics purposes. To check whether you are a business admin, please visit the <a href="https://business.facebook.com/settings/people" target="_blank">business's settings page</a>. If you can see yourself listed, and you can see that your role is shown as admin (see image below), you should be able to complete setup. Otherwise, please request that an admin at your business complete the setup on the Branch Dashboard.</p>
<p><img alt="admin" src="../../../img/pages/deep-linked-ads/facebook-ads-faq/business-admin.png" /></p>
<p>If you still have questions, please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and include "Facebook MMP + Business Admin" in the subject.</p>
<h4 id="i-see-a-warning-underneath-my-ad-account-saying-that-i-need-to-be-an-admin">I see a warning underneath my ad account saying that I need to be an admin<a class="headerlink" href="#i-see-a-warning-underneath-my-ad-account-saying-that-i-need-to-be-an-admin" title="Permanent link">&para;</a></h4>
<p><img alt="warning about admin" src="../../../img/pages/deep-linked-ads/facebook-ads-faq/standalone-ad-account.png" /></p>
<p>If an ad account is not linked to a business, then we cannot guarantee that this account setup will succeed. Please visit <a href="https://www.facebook.com/ads/manager/account_settings/information/">the ad account settings page</a>, navigate to the appropriate ad account, and ensure you are an admin (see image below). </p>
<p><img alt="Ensure admin" src="../../../img/pages/deep-linked-ads/facebook-ads-faq/adaccount-settings.png" /></p>
<p>If you still have questions, please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and include "Facebook MMP + Standalone Ad Account(s)" in the subject.</p>
<h4 id="i-cant-see-the-ad-account-i-want-to-use-at-all">I can't see the ad account I want to use at all<a class="headerlink" href="#i-cant-see-the-ad-account-i-want-to-use-at-all" title="Permanent link">&para;</a></h4>
<p>Please try logging out and logging back in on Facebook. Note the email address that you use. If you still do not see ad accounts, please visit <a href="https://business.facebook.com">business.facebook.com</a> and ensure that you use the same email address / Facebook account. If you still cannot figure this out, please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and include "Facebook MMP + Missing Ad Account(s)" in the subject.</p>
<h3 id="what-is-the-difference-between-your-previous-facebook-ads-product-and-the-new-facebook-ads-product">What is the difference between your previous Facebook Ads product, and the new Facebook Ads product?<a class="headerlink" href="#what-is-the-difference-between-your-previous-facebook-ads-product-and-the-new-facebook-ads-product" title="Permanent link">&para;</a></h3>
<p>Branch is now a Facebook Mobile Measurement Partner (MMP). This means we are partnering with Facebook to more accurately attribute your installs, opens and custom events back to Facebook ad campaigns! </p>
<p>The major differences: we can use this product without a Branch deep link. No need to manually create Branch links and add them to Facebook ads! </p>
<p>If you use a Branch deep link, we will still return the Branch deep link information in app so that you can deep link your users to content. Attributed events will <em>not</em> have the Branch deep link information, but rather the Facebook ad campaign information. This info cannot be passed along to third parties via our Data Integrations.</p>
<h3 id="how-do-i-upgrade-from-the-old-facebook-integration-to-the-new-facebook-integration">How do I upgrade from the old Facebook integration to the new Facebook integration?<a class="headerlink" href="#how-do-i-upgrade-from-the-old-facebook-integration-to-the-new-facebook-integration" title="Permanent link">&para;</a></h3>
<p>Easy. Navigate to <a href="https://dashboard.branch.io/ads/partner-management/a_facebook?tab=settings" target="_blank">Facebook within the Ads Management portal</a>. Choose "Connect with Facebook" and follow the guide to <a href="../../../pages/deep-linked-ads/facebook-app-install-ads/#enable-facebook-as-an-ad-partner">set up the integration with Facebook MMP</a>.</p>
<p>The moment you complete this signup flow, we will upgrade you to getting the full MMP functionality! Now installs and other analytics will include info on campaign, ad set, ad, and creative from Facebook.</p>
<h3 id="i-think-i-previously-had-facebook-enabled">I think I previously had Facebook enabled...<a class="headerlink" href="#i-think-i-previously-had-facebook-enabled" title="Permanent link">&para;</a></h3>
<p><em>...but now when I navigate to <a href="https://dashboard.branch.io/ads/partner-management/a_facebook?tab=settings" target="_blank">Facebook within the Ads Management portal</a>, I just see "Connect with Facebook". What gives?</em></p>
<p>We've hidden the old Facebook setup flow. Please choose "Connect with Facebook" and follow the guide to <a href="../../../pages/deep-linked-ads/facebook-app-install-ads/#enable-facebook-as-an-ad-partner">set up the integration with Facebook MMP</a>.</p>
<p>The previous signup flow is no longer supported. If for some reason you need to access the previous signup flow, please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and include "Facebook MMP + legacy signup flow" in the subject.</p>
<h3 id="what-happens-to-campaigns-in-which-im-using-deep-links">What happens to campaigns in which I'm using deep links?<a class="headerlink" href="#what-happens-to-campaigns-in-which-im-using-deep-links" title="Permanent link">&para;</a></h3>
<p>We still highly recommend you use links in ads. <a href="https://branch.io/resources/#case-studies" target="_blank">Studies have shown</a> that when you deep link your users, they have a better experience and retention is higher!</p>
<p>When you put a Branch link in a Facebook ad, we still return this link to your app, so that users can be deep linked. Deep linking functions exactly as it did before.</p>
<h3 id="do-i-need-to-remove-deep-links-from-my-facebook-ads">Do I need to remove deep links from my Facebook ads.<a class="headerlink" href="#do-i-need-to-remove-deep-links-from-my-facebook-ads" title="Permanent link">&para;</a></h3>
<p>No. In fact we recommend you use deep links. See the previous question.</p>
<h3 id="does-this-new-facebook-mmp-functionality-cover-web-campaigns">Does this new Facebook MMP functionality cover web campaigns?<a class="headerlink" href="#does-this-new-facebook-mmp-functionality-cover-web-campaigns" title="Permanent link">&para;</a></h3>
<p>Generally, no. Facebook MMP allows us to measure Facebook app install and app engagement ads. However, in some cases, we are able to attribute web events that occur <em>after</em> an app install/engagement ad <em>back</em> to that ad. This is because we can link together web and app user identifiers as part of our People-Based Attribution product.</p>
<h3 id="can-i-get-the-data-out">Can I get the data out?<a class="headerlink" href="#can-i-get-the-data-out" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Data Integrations will never include events attributed to Facebook. This is because we cannot share device-level Facebook attribution data with third parties.</p>
</div>
<p>There are many ways to access data pertaining to Facebook. </p>
<p>You can see analytics on impressions, clicks, installs, opens and conversion events on various pages of the <a href="https://dashboard.branch.io" target="_blank">Branch Dashboard</a>, as well as the <a href="../pages/exports/query-api">Query API</a>.</p>
<p>If you have signed Facebook's <a href="https://www.facebook.com/ads/manage/advanced_mobile_measurement/tos" target="_blank">"Advanced Mobile Measurement" agreement ("Data Use Terms for Advanced Mobile App Measurement")</a>, then you can get device level data out via <a href="../pages/exports/ua-webhooks/">Webhooks</a>, the <a href="../pages/exports/api-v3/">Data Export API</a>, and <a href="https://dashboard.branch.io/data-import-export/csv-exports" target="_blank">CSV Exports</a>. If you have not signed this agreement, any event attributed to a Facebook ad will look like an organic event when accessed via Webhooks, the Data Export API, and CSV Exports.</p>
<p>We cannot send device-level Facebook attribution data to third parties. Thus we cannot send events attributed to Facebook via Data Integrations. Please instead consider analyzing this data in-house (using Webhooks, the Data Export API, or CSV Exports), or using the Branch Dashboard for all of your analytics and attribution needs. If you have analytics needs that are not met by the Branch Dashboard, please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and include "Facebook MMP + Feature Request" in the subject.</p>
<table>
<thead>
<tr>
<th><strong>Branch feature</strong></th>
<th><strong>Facebook data included</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://dashboard.branch.io/" target="_blank">Dashboard visualizations</a></td>
<td>Pre-aggregated analytics</td>
</tr>
<tr>
<td><a href="../pages/exports/query-api/">Query API</a></td>
<td>Pre-aggregated analytics</td>
</tr>
<tr>
<td><a href="https://dashboard.branch.io/liveview" target="_blank">Liveview</a></td>
<td>Device-level analytics *</td>
</tr>
<tr>
<td><a href="../pages/exports/api-v3/">Data Export API</a></td>
<td>Device-level analytics *</td>
</tr>
<tr>
<td><a href="https://branch.dashboard.branch.io/data-import-export/csv-exports" target="_blank">CSV Exports</a></td>
<td>Device-level analytics *</td>
</tr>
<tr>
<td><a href="../pages/exports/ua-webhooks/">Webhooks</a></td>
<td>Device-level analytics *</td>
</tr>
<tr>
<td><a href="../pages/integrations/data-integrations/">Data Integrations</a></td>
<td>Not supported</td>
</tr>
</tbody>
</table>
<p>(*) You must have signed you have signed Facebook's <a href="https://www.facebook.com/ads/manage/advanced_mobile_measurement/tos" target="_blank">"Advanced Mobile Measurement" agreement ("Data Use Terms for Advanced Mobile App Measurement")</a> to view this data</p>
<h3 id="the-data-on-facebook-and-the-data-on-branch-does-not-line-up">The data on Facebook and the data on Branch does not line up!<a class="headerlink" href="#the-data-on-facebook-and-the-data-on-branch-does-not-line-up" title="Permanent link">&para;</a></h3>
<p>Please see the section below, <a href="../pages/deep-linked-ads/facebook-ads-faq/#sources-of-discrepancies-between-facebook-and-branch">Sources of Discrepancies between Facebook and Branch</a>.</p>
<h2 id="facebook-ads-advanced-options">Facebook Ads Advanced Options<a class="headerlink" href="#facebook-ads-advanced-options" title="Permanent link">&para;</a></h2>
<h3 id="facebook-mmp-event-options">Facebook MMP event options<a class="headerlink" href="#facebook-mmp-event-options" title="Permanent link">&para;</a></h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To see the options below on the Branch Dashboard, <a href="https://dashboard.branch.io/ads/partner-management/a_facebook?tab=events" target="_blank">click here</a>.</p>
</div>
<p>Branch + Facebook MMP allows you to attribute events back to your Facebook ad campaigns. Branch sends events to Facebook, along with metadata including advertising ID. Facebook then returns info on the ad that the user last viewed or clicked, if any. Branch then surfaces this on our Dashboard, and conditionally* makes this data available in our <a href="../../../pages/exports/data-feeds/">Data Feeds</a> product.</p>
<p>Partners have several options when it comes to sending events to Facebook. These are discussed below.</p>
<p>(*) You must have signed the <a href="https://www.facebook.com/ads/manage/advanced_mobile_measurement/tos" target="_blank">Data Use Terms for Advanced Mobile App Measurement</a></p>
<h4 id="tracking-installs">Tracking installs<a class="headerlink" href="#tracking-installs" title="Permanent link">&para;</a></h4>
<p>Branch sends all installs to Facebook. Facebook de-duplicates installs on their end. If you have the Facebook SDK and/or another MMP, these also send installs to Facebook's backend. This will not result in duplicate installs, since Facebook de-dupes them.</p>
<h4 id="tracking-reinstalls-and-opens">Tracking reinstalls and opens<a class="headerlink" href="#tracking-reinstalls-and-opens" title="Permanent link">&para;</a></h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Facebook does not de-duplicate custom app events on their backend. So if you have the Facebook SDK integrated or another MMP tracking app opens, choose option 1 below.</p>
</div>
<p>When tracking reinstalls and opens, you have 3 options:</p>
<ol>
<li><em>use Branch name (branch_open)</em>: This allows us to get attribution data from Facebook, but without it counting as an app open. Use this option if you have the Facebook SDK integrated or are testing with another MMP. Since the Facebook SDK or other MMP is already sending fb_mobile_activate_app, you do not want Branch to send this a second time. (Default)</li>
<li><em>use Facebook name (fb_mobile_activate_app)</em>: Branch will send the exact event used by Facebook for tracking app opens. Use this option if you do not have the Facebook SDK and you are not tracking opens with another MMP, and you would like Branch to help Facebook record opens.</li>
<li><em>disable</em>: Use this option if you do not want Branch attributing opens at all. In some cases, we may still be able to attribute opens based on previously retrieved attribution data from Facebook. But we will not send any opens to Facebook in order to get attribution data back.</li>
</ol>
<h4 id="tracking-other-conversion-events">Tracking other conversion events<a class="headerlink" href="#tracking-other-conversion-events" title="Permanent link">&para;</a></h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Facebook does not de-duplicate custom app events on their backend. If you are tracking conversion events with the Facebook SDK or another MMP, choose option 1 below.</p>
</div>
<p>It's possible to track app events using only Branch! You can <a href="../../../pages/apps/v2event/#v2-event">track the events</a> with Branch once, and then we send them to Facebook as well as other analytics systems. Use the <a href="../../../pages/apps/v2event/#v2-event">v2/event logging methods</a> outlined here.</p>
<p>When tracking add to cart, purchase, and other Facebook app events, you have 3 options:</p>
<ol>
<li><em>use Branch name</em>: This allows us to get attribution data from Facebook, but without it counting as a purchase, add to cart, etc. Use this option if you have the Facebook SDK integrated or are testing with another MMP, and you already track app events via one of those two methods. Since the Facebook SDK or other MMP is already sending events to Facebook, you do not want Branch to send these a second time. (Default)</li>
<li><em>use Facebook name</em>: Branch will send the exact event used by Facebook for tracking app events. Use this option if you are not already tracking app events with the Facebook SDK or another MMP, and you would like Branch to help Facebook record these events.</li>
<li><em>disable</em>: Use this option if you do not want Branch attributing these conversion events. In some cases, we may still be able to attribute these conversion events based on previously retrieved attribution data from Facebook. But we will not send any conversion events to Facebook in order to get attribution data back.</li>
</ol>
<h4 id="mapping-of-branch-event-names-to-facebook-events">Mapping of Branch event names to Facebook events<a class="headerlink" href="#mapping-of-branch-event-names-to-facebook-events" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Branch event name</th>
<th>Facebook MMP _eventName</th>
</tr>
</thead>
<tbody>
<tr>
<td>ACHIEVE_LEVEL</td>
<td>fb_mobile_level_achieved</td>
</tr>
<tr>
<td>ADD_PAYMENT_INFO</td>
<td>fb_mobile_add_payment_info</td>
</tr>
<tr>
<td>ADD_TO_CART</td>
<td>fb_mobile_add_to_cart</td>
</tr>
<tr>
<td>ADD_TO_WISHLIST</td>
<td>fb_mobile_add_to_wishlist</td>
</tr>
<tr>
<td>COMPLETE_REGISTRATION</td>
<td>fb_mobile_complete_registration</td>
</tr>
<tr>
<td>COMPLETE_TUTORIAL</td>
<td>fb_mobile_tutorial_completion</td>
</tr>
<tr>
<td>INITIATE_PURCHASE</td>
<td>fb_mobile_initiated_checkout</td>
</tr>
<tr>
<td>PURCHASE</td>
<td>fb_mobile_purchase</td>
</tr>
<tr>
<td>RATE</td>
<td>fb_mobile_rate</td>
</tr>
<tr>
<td>SEARCH</td>
<td>fb_mobile_search</td>
</tr>
<tr>
<td>SPEND_CREDITS</td>
<td>fb_mobile_spent_credits</td>
</tr>
<tr>
<td>UNLOCK_ACHIEVEMENT</td>
<td>fb_mobile_achievement_unlocked</td>
</tr>
<tr>
<td>VIEW_ITEM</td>
<td>fb_mobile_content_view</td>
</tr>
</tbody>
</table>
<h4 id="mapping-of-branch-metadata-to-facebook-metadata">Mapping of Branch metadata to Facebook metadata<a class="headerlink" href="#mapping-of-branch-metadata-to-facebook-metadata" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Branch Key-Value Pair</th>
<th>Facebook MMP Key-Value Pair</th>
<th>Facebook event(s) supported</th>
</tr>
</thead>
<tbody>
<tr>
<td>commerce_data.revenue</td>
<td>_valueToSum</td>
<td>fb_mobile_add_to_cart, fb_mobile_add_to_wishlist, fb_mobile_initiated_checkout, fb_mobile_purchase, fb_mobile_spent_credits, fb_mobile_content_view</td>
</tr>
<tr>
<td>commerce_data.currency</td>
<td>fb_currency</td>
<td>fb_mobile_add_to_cart, fb_mobile_add_to_wishlist, fb_mobile_initiated_checkout, fb_mobile_purchase, fb_mobile_content_view</td>
</tr>
<tr>
<td>content_items[0].$sku</td>
<td>fb_content_id</td>
<td>fb_mobile_add_to_cart, fb_mobile_add_to_wishlist, fb_mobile_tutorial_completion, fb_mobile_initiated_checkout, fb_mobile_purchase, fb_mobile_rate, fb_mobile_spent_credits, fb_mobile_content_view</td>
</tr>
<tr>
<td>content_items[0].$product_category</td>
<td>fb_content_type</td>
<td>fb_mobile_add_to_cart, fb_mobile_add_to_wishlist, fb_mobile_initiated_checkout, fb_mobile_purchase, fb_mobile_rate, fb_mobile_search, fb_mobile_spent_credits, fb_mobile_content_view</td>
</tr>
<tr>
<td>content_items[0].$quantity</td>
<td>fb_num_items</td>
<td>fb_mobile_initiated_checkout, fb_mobile_purchase</td>
</tr>
<tr>
<td>content_items[0].$rating</td>
<td>_valueToSum</td>
<td>fb_mobile_rate</td>
</tr>
<tr>
<td>content_items[0].$rating_max</td>
<td>fb_max_rating_value</td>
<td>fb_mobile_rate</td>
</tr>
<tr>
<td>event_data.search_query</td>
<td>fb_search_string</td>
<td>fb_mobile_search</td>
</tr>
<tr>
<td>content_items[0].$og_description</td>
<td>fb_description</td>
<td>fb_mobile_achievement_unlocked</td>
</tr>
<tr>
<td>custom_data.fb_payment_info_available</td>
<td>fb_payment_info_available</td>
<td>fb_mobile_initiated_checkout</td>
</tr>
<tr>
<td>custom_data.level</td>
<td>fb_level</td>
<td>fb_mobile_level_achieved</td>
</tr>
<tr>
<td>custom_data.fb_success</td>
<td>fb_success</td>
<td>fb_mobile_add_payment_info, fb_mobile_tutorial_completion, fb_mobile_search</td>
</tr>
<tr>
<td>custom_data.fb_registration_method</td>
<td>fb_registration_method</td>
<td>fb_mobile_complete_registration</td>
</tr>
</tbody>
</table>
<p>Currently Facebook appears to only support sending one fb_content_id (etc) per event, whereas Branch allows you to send many. To provide as much functionality as possible, we choose the first content_item and search it for key-value pairs that can be sent to Facebook.</p>
<h4 id="tracking-custom-events">Tracking custom events<a class="headerlink" href="#tracking-custom-events" title="Permanent link">&para;</a></h4>
<p>In addition to tracking installs and Facebook app events (see <a href="#tracking-other-conversion-events">Tracking other conversion events</a> above), you can also have Branch attribute custom events. To do so, we must send those events to Facebook.</p>
<p>When tracking custom events that have no equivalent <a href="https://developers.facebook.com/docs/marketing-api/app-event-api" target="_blank">Facebook App Event</a>, you have 2 options:</p>
<ol>
<li><em>enable</em>: Branch will send custom events to Facebook. this allows us to get attribution data from Facebook. (default)</li>
<li><em>disable</em>: Use this option if you do not want Branch attributing custom events. In some cases, we may still be able to attribute these custom events based on previously retrieved attribution data from Facebook. But we will not send any custom events to Facebook in order to get attribution data back. </li>
</ol>
<h3 id="migrating-from-the-existing-facebook-integration-to-mmp">Migrating from the existing Facebook integration to MMP<a class="headerlink" href="#migrating-from-the-existing-facebook-integration-to-mmp" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can no longer see the previous Facebook onboarding flow that required you to copy-paste your Facebook app secret. Please use the "Authenticate with Facebook" option instead.</p>
</div>
<p>If you have been using our integration with Facebook prior to February 14, 2018, then we highly recommend that you upgrade to our new integration that includes MMP. </p>
<p>We are now certified by Facebook as a Mobile Measurement Partner! Branch can now help you attribute installs, opens, and conversion events to Facebook like never before.</p>
<p>This integration includes full support for Facebook, Instagram, and the Audience Network. We also automatically pull in impressions and clicks from Facebook and surface those alongside your clicks on Branch links. The deep linking experience your users love is still supported. </p>
<p>Instructions on how to get set up with Facebook MMP are <a href="../../../pages/deep-linked-ads/facebook-app-install-ads/#enable-facebook-as-an-ad-partner">here</a>. Note that this will replace your existing credentials on our backend. Instead of copy-pasting your Facebook app secret into the Branch Dashboard, you can now simply click through the normal Facebook login flow.</p>
<p>Branch will now automatically surface Facebook campaign, ad set, and ad information on the Branch Dashboard's visualizations! This isn't limited to <a href="https://dashboard.branch.io/ads/analytics" target="_blank">Ads Analytics</a> -- it also includes cross-channel analytics such as <a href="https://dashboard.branch.io/sources" target="_blank">Source Analytics</a>.</p>
<h3 id="sources-of-discrepancies-between-facebook-and-branch">Sources of Discrepancies between Facebook and Branch<a class="headerlink" href="#sources-of-discrepancies-between-facebook-and-branch" title="Permanent link">&para;</a></h3>
<p>When using Branch as your Facebook MMP, you may notice some data discrepancies between the Branch dashboard and the Facebook dashboard if not configured correctly. We have highlighted several sources of discrepancies if they are present after you have onboarded with Facebook on the Branch dashboard. </p>
<p>There are many reasons why you may see different numbers on Facebook and Branch. Please note that we have one system for tracking impressions and clicks (via the Facebook Insights API) and a different system for tracking installs, reinstalls, opens and conversion events (via a private Facebook API). When trying to figure out differences, it's best to pick one event at a time (e.g. clicks or installs) and focus on causes of discrepancies there.</p>
<p>The first two sections below covers common causes of discrepancies: attribution windows and timezones. The following sections then provide more steps on diagnosing and troubleshooting specific problems.</p>
<h4 id="attribution-windows">Attribution Windows<a class="headerlink" href="#attribution-windows" title="Permanent link">&para;</a></h4>
<p>An attribution window is the maxiumum amount of time between an initial action (click or impression) and a conversion event (install or open) for which you attribute that conversion event as occuring <em>because of</em> that initial action.</p>
<p>Example with 3 day view attribution window: If a user views your ad and 2 days later installs your app, that install would be attributed to that ad view. However if the user views your ad and 4 days later installs the app, that install would be considered an organic install and would NOT be attributed to that ad view.  You can read more in our documentation here: <a href="https://docs.branch.io/pages/dashboard/unified-analytics/#attribution-windows">https://docs.branch.io/pages/dashboard/unified-analytics/#attribution-windows</a></p>
<p>If one of your attribution windows on the Branch dashboard is different than the corresponding window on the Facebook dashboard, the data between the two will not align. You can mitigate this by changing one of more of your attribution windows on the Branch dashboard, or changing your Facebook dashboard for the given ad account.</p>
<p>There are four Branch attribution windows, and two Facebook attribution windows. This chart shows which Facebook window name each Branch window name corresponds to:</p>
<table>
<thead>
<tr>
<th>Branch window name</th>
<th>Facebook window name</th>
</tr>
</thead>
<tbody>
<tr>
<td>Click to install</td>
<td>Click Window</td>
</tr>
<tr>
<td>Click to session start</td>
<td>Click Window</td>
</tr>
<tr>
<td>Click to conversion event</td>
<td>Click Window</td>
</tr>
<tr>
<td>Impression to install</td>
<td>View Window</td>
</tr>
<tr>
<td>Impression to session start</td>
<td>View Window</td>
</tr>
<tr>
<td>Impression to conversion event</td>
<td>View Window</td>
</tr>
</tbody>
</table>
<p><em>Change your Facebook attribution windows</em></p>
<p>In order to update your Facebook Attribution window for a particular ad account, you can go to <a href="https://business.facebook.com/ads/manager/account_settings/information">https://business.facebook.com/ads/manager/account_settings/information</a>. Choose the account in the dropdown in the upper-left corner. As long as you're an admin on that account, you should see a section 'Attribution' at the top-right, and an ability to edit the Click or View window or both.</p>
<p><em>Change your Branch attribution windows</em></p>
<p>Alternatively or in addition, you could update any of your four Branch attribution windows. To do so go to the <a href="https://dashboard.branch.io/link-settings">Link Settings</a> section of the Branch dashboard, and scroll down to the 'Attribution Windows' section and expand it. Alter any of the four windows listed in the chart above to match the corresponding Facebook window, and then save at the bottom of the page.</p>
<p><em>Reporting based on time of impression or time of conversion</em></p>
<p>Facebook and Branch may report the same install as occurring on different days, if the impression is on one day but the install is on another day.</p>
<p>Background:</p>
<p>Facebook by defaults reports installs based on the day that the impression occurred. They also allow you to see reports based on the day that the install occurred.</p>
<p>Branch always reports installs based on the date of install, never the date of impression.</p>
<p>Let's illustrate this with a scenario:</p>
<p>User views an ad on Apil 1, clicks it, then installs the app on April 2.</p>
<p>By default, Facebook reports the install as occurring on April 1. However, when pulling data from the insights API, you can specify option action_report_time=conversion. This causes Facebook to report that the install occurred on April 2.</p>
<p>Branch will always report the install as having occurred on April 2.</p>
<h4 id="timezones">Timezones<a class="headerlink" href="#timezones" title="Permanent link">&para;</a></h4>
<p>Please make sure the timezone is the same for your Facebook ad account and your Branch account. </p>
<p>You can see the timezone used by your Branch account <a href="https://dashboard.branch.io/account-settings/app" target="_blank">here</a>.</p>
<p>You can see the timezone used by your Facebook ad account <a href="https://www.facebook.com/ads/manager/account_settings/information/" target="_blank">here</a>. If you are using multiple ad accounts with Branch, be sure to align the timezones of each of them.</p>
<p>If you are unable to align all timezones, you may notice some data on the Branch Dashboard does not line up exactly with data on the Facebook Dashboard. However, data will not be lost, but merely shifted between days. Summing figures over longer periods of time should greatly diminish the effect of having inconsistent time zones.</p>
<h4 id="other-common-issues">Other common issues<a class="headerlink" href="#other-common-issues" title="Permanent link">&para;</a></h4>
<h5 id="issue-with-ios-10-and-limit-ad-tracking">Issue with iOS 10 and Limit Ad Tracking<a class="headerlink" href="#issue-with-ios-10-and-limit-ad-tracking" title="Permanent link">&para;</a></h5>
<p>In iOS 10, Apple broke the ability for app developers to collect the <code>IDFA</code> if the user had enabled <code>Limit Ad Tracking</code>. In this case, Branch and Facebook cannot compare notes to see who drove the install. This will account for about 15% discrepancy in counts across both platforms, where Branch's tracked installs will be lower.</p>
<h5 id="not-collecting-advertising-id">Not Collecting Advertising ID<a class="headerlink" href="#not-collecting-advertising-id" title="Permanent link">&para;</a></h5>
<p>If you see absolutely 0 data coming through from your integration, it's possible that you're not collecting Google Advertising ID (GAID) on Android or IDFA on iOS.</p>
<ul>
<li>iOS: Add the AdSupport.framework and read this extra info about <a href="https://dev.branch.io/getting-started/sdk-integration-guide/guide/ios/#submitting-to-the-app-store TODO">submitting</a> to the store.</li>
<li>Android: Add Google Play Services so that we can collect GAID. See <a href="https://dev.branch.io/getting-started/sdk-integration-guide/advanced/android/#use-google-advertising-id TODO">here</a>.</li>
</ul>
<h5 id="installs-counted-as-reinstalls-opens-on-branch">Installs Counted as Reinstalls, Opens on Branch<a class="headerlink" href="#installs-counted-as-reinstalls-opens-on-branch" title="Permanent link">&para;</a></h5>
<p>One discrepancy root cause we've seen before is the scenario where Branch will classify an install as a reinstall or open. We remember the history of a particular user via their IDFA or Google Advertising ID (in addition to using a few other methods) and will detect whether the user is actually a new user or a returning user who had previously uninstalled your app. Facebook has a different mechanism that is limited to 180 days. Branch in some cases has detected reinstalls that occurred more than a year later.</p>
<h5 id="dont-use-setdebug">Don't Use setDebug<a class="headerlink" href="#dont-use-setdebug" title="Permanent link">&para;</a></h5>
<p>Facebook ads are incompatible with <a href="../../../pages/apps/ios/#simulate-an-install">debug mode</a>, as this prevents us from sending the correct hardware ID to Facebook.</p>
<h4 id="discrepancies-with-impressions-and-clicks">Discrepancies with Impressions and Clicks<a class="headerlink" href="#discrepancies-with-impressions-and-clicks" title="Permanent link">&para;</a></h4>
<h5 id="1-i-dont-see-any-clicks-or-installs-on-the-branch-dashboard">1. I don't see any clicks or installs on the Branch Dashboard<a class="headerlink" href="#1-i-dont-see-any-clicks-or-installs-on-the-branch-dashboard" title="Permanent link">&para;</a></h5>
<p>First, be sure you've set up the Facebook integration! Work through <a href="../pages/deep-linked-ads/facebook-app-install-ads/#enable-facebook-as-an-ad-partner">these steps</a> and ensure you reach the bottom. You should have at least one ad account enabled, and a Facebook app id listed.</p>
<p>Second, make sure you're running ads that are resulting in installs, reinstalls, or opens. Once you see installs, you should shortly start seeing clicks. For more, see the next FAQ item.</p>
<p>If you're unable to see installs, reinstalls, or opens on the Branch Dashboard, skip down to the section below: <a href="../pages/deep-linked-ads/facebook-ads-faq/#1-i-dont-see-any-installs-reinstalls-or-opens-on-the-branch-dashboard">I don't see any installs, reinstalls or opens on the Branch Dashboard</a>.</p>
<h5 id="2-i-see-installs-on-the-facebook-dashboard-but-no-clicks">2. I see installs on the Facebook Dashboard, but no clicks<a class="headerlink" href="#2-i-see-installs-on-the-facebook-dashboard-but-no-clicks" title="Permanent link">&para;</a></h5>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Branch will only show impressions and clicks for campaigns that have installs, reinstalls, or opens. If you have campaigns that have not resulted in these app-based outcomes, we will hide them. This is to prevent massively inflating analytics on the Branch Dashboard with data that is not relevant. If you have feedback on this, please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and include "Facebook MMP + clicks" in the subject.</p>
</div>
<p>If you turned on the integration within the last hour, then you may need to refresh the Branch Dashboard to see clicks. We automatically start a background job to pull in impressions and clicks from Facebook the first time you visit the <a href="https://dashboard.branch.io/ads/analytics" target="_blank">Ads Analytics</a> page after enabling Facebook.</p>
<p>If it has been longer than an hour since you (1) enabled the MMP integration then (2) visited the Ads Analytics page then (3) pressed refresh and (4) see installs but still no clicks, then please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and put "Facebook MMP + 0 clicks" in the subject. Please include: </p>
<ul>
<li>Branch app id</li>
<li>Facebook ad account id</li>
<li>One Facebook campaign name for which you have clicks and installs</li>
<li>Date range</li>
<li>For every day in date range, the number of clicks Facebook is reporting for this campaign - include both a table and a screenshot</li>
<li>For every day in date range, the number of installs Facebook is reporting for this campaign - include both a table and a screenshot</li>
</ul>
<h5 id="3-i-see-clicks-on-the-branch-dashboard-but-the-numbers-look-different-from-what-i-see-on-the-facebook-dashboard">3. I see clicks on the Branch Dashboard, but the numbers look different from what I see on the Facebook Dashboard.<a class="headerlink" href="#3-i-see-clicks-on-the-branch-dashboard-but-the-numbers-look-different-from-what-i-see-on-the-facebook-dashboard" title="Permanent link">&para;</a></h5>
<p><em>If you are looking at impressions/clicks for the current day:</em></p>
<p>If the numbers line up pretty closely between Branch and Facebook, then it's possible the Facebook numbers are slightly more recent. The Facebook Insights API refreshes every 15 minutes. Branch tries to pull updated numbers as often as possible.</p>
<p>If the numbers do not line up closely, but you recently started a new campaign, it may be that Branch has not yet pulled in data for that campaign. The numbers should line up much more closely within an hour. If they do not, then please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and put "Facebook MMP + Click Dicrepancies" in the subject. Please include: </p>
<ul>
<li>Branch app id</li>
<li>Facebook ad account id</li>
<li>One Facebook campaign name for which you have clicks and installs</li>
<li>Date range</li>
<li>For every day in date range, the number of clicks Facebook is reporting for this campaign - include both a table and a screenshot</li>
<li>For every day in date range, the number of installs Facebook is reporting for this campaign - include both a table and a screenshot </li>
</ul>
<p><em>If you are looking at impressions/clicks for a past day:</em></p>
<p>When you initially enable the Facebook integration, then visit the <a href="https://dashboard.branch.io/ads/analytics" target="_blank">Ads Analytics</a> page, Branch will start fetching impressions and clicks for the most recent several days. If you go back beyond 7 days, we may not have impressions and click data. If you need this data, please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and include "Facebook MMP + Loading Old Clicks" in the subject. Please include:</p>
<ul>
<li>Branch app id</li>
<li>Facebook ad account id</li>
<li>One Facebook campaign name for which you have clicks and installs</li>
<li>Date range</li>
</ul>
<h4 id="discrepancies-with-installs-opens-and-conversion-events">Discrepancies with Installs, Opens and Conversion Events<a class="headerlink" href="#discrepancies-with-installs-opens-and-conversion-events" title="Permanent link">&para;</a></h4>
<h5 id="1-i-dont-see-any-installs-reinstalls-or-opens-on-the-branch-dashboard">1. I don't see any installs, reinstalls or opens on the Branch Dashboard<a class="headerlink" href="#1-i-dont-see-any-installs-reinstalls-or-opens-on-the-branch-dashboard" title="Permanent link">&para;</a></h5>
<p>First, be sure you've set up the Facebook integration! Work through <a href="../pages/deep-linked-ads/facebook-app-install-ads/#enable-facebook-as-an-ad-partner">these steps</a> and ensure you reach the bottom. You should have at least one ad account enabled, and a Facebook app id listed.</p>
<p>Second, make sure you're running ads that are resulting in installs, reinstalls, or opens.</p>
<p>Third, on the Facebook Dashboard, locate a campaign with installs, reinstalls, or opens. Determine the ad account id for which you are running an app campaign. Then navigate to the <a href="https://dashboard.branch.io/ads/partner-management/a_facebook?tab=settings" target="_blank">Facebook page under Partner Management</a> and make sure that ad account id is listed as part of the completed signup process. It should appear here (two ad accounts are shown as enabled in the screenshot, though the ad account ids are blurred out):</p>
<p><img alt="complete" src="../../../img/ingredients/deep-linked-ads/enable-facebook-ad-partner/9-complete.png" /></p>
<p>Fourth, make sure you have installs, reinstalls, or opens that have occurred after you enabled the Branch + Facebook integration. We cannot pull historical device-level data, as that's not how the Facebook APIs are architected. You should enable Branch + Facebook, wait for new installs to occur, then check the <a href="https://dashboard.branch.io/ads/analytics" target="_blank">Ads Analytics</a> page.</p>
<p>If after all this you're still not seeing installs, please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and include "Facebook MMP + 0 installs" in the subject. Please include:</p>
<ul>
<li>Branch app id</li>
<li>Facebook ad account id</li>
<li>One Facebook campaign name for which you have installs</li>
<li>Date range</li>
<li>For every day in date range, the number of installs Facebook is reporting - include both a table and a screenshot</li>
</ul>
<h5 id="2-i-see-installs-reinstalls-or-opens-on-the-branch-dashboard-but-the-numbers-look-different-from-what-i-see-on-the-facebook-dashboard">2. I see installs, reinstalls or opens on the Branch Dashboard, but the numbers look different from what I see on the Facebook Dashboard<a class="headerlink" href="#2-i-see-installs-reinstalls-or-opens-on-the-branch-dashboard-but-the-numbers-look-different-from-what-i-see-on-the-facebook-dashboard" title="Permanent link">&para;</a></h5>
<p>If you've made it this far, the integration between Branch + Facebook is at least somewhat functional! Time to identify why numbers are not lining up.</p>
<p>Try comparing (1) just installs, and (2) just for one campaign. On the Branch <a href="https://dashboard.branch.io/ads/analytics" target="_blank">Ads Analytics</a> page, you can view data for just one campaign by choosing "Add Filter", selecting "campaign" from the first dropdown, and the individual campaign name from the second dropdown. Again, try to get numbers to line up between Facebook and Branch just for installs on one campaign.</p>
<p>First, make sure the attribution windows line up between Facebook and Branch. You can read more on this <a href="../pages/deep-linked-ads/facebook-ads-faq/#attribution-windows">above</a>.</p>
<p>Second, make sure the timezones line up between Facebook and Branch. You can read more on this <a href="../pages/deep-linked-ads/facebook-ads-faq/#timezones">above</a>.</p>
<p>Note that attribution windows are not applied to events that occurred in the past. So if you have a 30-day attribution window for click-to-install on Branch, and a 7-day window for clicks on Facebook, once you change the Branch click-to-install attribution window to 7 days, it will not automatically update historical numbers. Instead, you'll need to wait for new installs to occur under the stricter 7-day Branch click-to-install attribution window. The next day you should be able to come back and look at just the current day's install numbers, and they should line up more closely.</p>
<p>If after all this you're still seeing discrepancies, please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and include "Facebook MMP + Install Discrepancies" in the subject. Please include:</p>
<ul>
<li>Branch app id</li>
<li>Facebook ad account id</li>
<li>One Facebook campaign name for which you have clicks and installs</li>
<li>Date range</li>
<li>Your Facebook attribution window - include both a table and a screenshot</li>
<li>For every day in date range, the number of installs Facebook is reporting - include both a table and a screenshot</li>
<li>For every day in date range, the number of installs Branch is reporting - include both a table and a screenshot</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In some rare cases, we've seen partners running multiple Facebook campaigns with the same name. In this case, the Branch Dashboard will combine stats for all of these campaigns under the same name. We still retain this data separately on our backend, as there are different Facebook campaign ids. While we do not expose this on the Branch Dashboard, you can pull statistics by campaign id via the <a href="../pages/exports/query-api">Query API</a>.</p>
</div>
<h5 id="3-i-dont-see-any-conversion-events-on-the-branch-dashboard">3. I don't see any conversion events on the Branch Dashboard<a class="headerlink" href="#3-i-dont-see-any-conversion-events-on-the-branch-dashboard" title="Permanent link">&para;</a></h5>
<p>Be sure you are tracking v2/events - <a href="../pages/apps/v2event/#v2-event">learn more from our v2/event docs</a>.</p>
<p>Be sure you are opting to send conversion events to Facebook - learn more from the section <a href="../pages/deep-linked-ads/facebook-ads-faq/#facebook-mmp-event-options">Facebook MMP event options</a> above.</p>
<p>Be reasonably confident that users coming from Facebook ads are completing conversion events. If you have, for example, only a small percentage of users completing purchases, and only a small percentage of users downloading your app from Facebook, it's possible that there is no overlap between users making purchases and users coming from Facebook.</p>
<p>If after all this you're still seeing discrepancies, please <a href="https://support.branch.io/support/tickets/new" target="_blank">contact us</a> and include "Facebook MMP + Install Discrepancies" in the subject. Please include:</p>
<ul>
<li>Branch app id</li>
<li>Facebook ad account id</li>
<li>One Facebook campaign name for which you have clicks and installs</li>
<li>Date range</li>
<li>Your Facebook attribution window - include both a table and a screenshot</li>
<li>For every day in date range, the number of installs Facebook is reporting - include both a table and a screenshot</li>
<li>For every day in date range, the number of installs Branch is reporting - include both a table and a screenshot</li>
<li>For every day in date range, the number of conversion events Facebook is reporting - include both a table and a screenshot</li>
<li>For every day in date range, the number of conversion events Branch is reporting - include both a table and a screenshot</li>
</ul>
<h5 id="4-i-see-conversion-events-on-the-branch-dashboard-but-the-numbers-look-different-from-what-i-see-on-the-facebook-dashboard">4. I see conversion events on the Branch Dashboard, but the numbers look different from what I see on the Facebook Dashboard<a class="headerlink" href="#4-i-see-conversion-events-on-the-branch-dashboard-but-the-numbers-look-different-from-what-i-see-on-the-facebook-dashboard" title="Permanent link">&para;</a></h5>
<p>We have not encountered any issues here so far. Please see <a href="../pages/deep-linked-ads/facebook-ads-faq/#1-i-dont-see-any-installs-reinstalls-or-opens-on-the-branch-dashboard">I see installs, reinstalls or opens on the Branch Dashboard, but the numbers look different from what I see on the Facebook Dashboard</a> for steps to follow, and for information to send to us if we need to debug together.</p>
<h3 id="troubleshooting-deep-linking">Troubleshooting deep linking<a class="headerlink" href="#troubleshooting-deep-linking" title="Permanent link">&para;</a></h3>
<h4 id="intercepting-deep-links-before-branch">Intercepting Deep Links Before Branch<a class="headerlink" href="#intercepting-deep-links-before-branch" title="Permanent link">&para;</a></h4>
<p>If you use Branch deep links in Facebook app ads, please check the following.</p>
<p>We recently discovered an issue where an app was calling Facebook's SDK to fetch the deferred app link within their iOS and Android app. Branch calls uses this same mechanism via a direct API integration, but if Facebook's SDK retrieves it before we do, Branch will not see any deep link data. Please ensure to comment out any calls to the following API within your app:</p>
<ul>
<li><a href="https://developers.facebook.com/docs/reference/android/current/class/AppLinkData/">Android: fetchDeferredAppLink</a></li>
<li><a href="https://developers.facebook.com/docs/reference/ios/current/class/FBSDKAppLinkUtility/">iOS: fetchDeferredAppLink</a></li>
</ul>
<h4 id="testing-deep-linking-from-ads">Testing Deep Linking from Ads<a class="headerlink" href="#testing-deep-linking-from-ads" title="Permanent link">&para;</a></h4>
<p>Unfortunately, the demo/preview ads used during the ads creation flow on Facebook use a different mechanism than live Facebook ads. <strong>This prevents you from testing deep linking from your Facebook ads</strong>. Do not waste time trying to get this to work. We've confirmed with Facebook representatives that this is broken.</p>
<p>The only way to test the deep linking functionality is outside of the actual ads system is a helper tool from Facebook. Follow these instructions to test the deep linking functionality:</p>
<ol>
<li>Head to the <a href="https://developers.facebook.com/tools/app-ads-helper/" target="_blank">Ads tester tool</a></li>
<li>Choose the app that you're advertising with</li>
<li>Scroll down to the button that says 'Test Deep Link'</li>
<li>Paste in the Branch link</li>
<li>Check 'Send Deferred'</li>
<li>Click 'Send to iOS/Android'</li>
<li>Install the app and it should deep link!</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note the following common mistakes for testing</p>
<ol>
<li>If you reset the GAID or IDFA on a device, you must uninstall Facebook and re-install prior to testing. Facebook does not update the IDFA/GAID every time it's opened.</li>
<li>Send deferred does not require a notification to be sent or to be clicked. Checking "Send Deferred" will automatically queue up a match for the test device with the deep link data. The notifiation is completely separate from deferred deep linking.</li>
<li>The Facebook account on the desktop where you click "Send Deferred" must match the account logged into the test device for deferred deep link data to be queued up. Note that we've observed issues where you log in and out of multiple accounts on test devices that cause Facebook to not correctly queue up a match.</li>
<li>If you see that someone liked your ad, do not bother trying to click and test it. Clicking your own, live advertisement that shows up in notifications will not deep link.</li>
</ol>
</div>
<h4 id="issues-reading-facebook-app-links">Issues Reading Facebook App Links<a class="headerlink" href="#issues-reading-facebook-app-links" title="Permanent link">&para;</a></h4>
<p>If Facebook is having trouble reading the App Links from the Branch link, you might see messages like these while trying to test out the flow. This means that there is something corrupted in the OG tags causing Facebook to not parse your link.</p>
<p><img src="/img/ingredients/deep-linked-ads/fb-ads-support/invalid-app-links-error.png" alt="Invalid App Links" class="center three-quarters">
<img src="/img/ingredients/deep-linked-ads/fb-ads-support/missing_applinks.png" alt="Troubleshooting" class="center"></p>
<p><strong>Rescrape the OG Tags</strong></p>
<p>You can test the OG tags using the <a href="https://developers.facebook.com/tools/debug/og/object">OG tag tester tool</a> provided by Facebook:</p>
<ol>
<li>Paste the Branch Link into the Input URL box.</li>
<li>Click on the Show existing scrape information button.</li>
<li>Examine errors regarding App Links from the output window.</li>
<li>Click on the Fetch New Scrape Information button. This last step typically resolves this problem if you are certain that your Branch Link Settings are correct.</li>
</ol>
<div class="admonition tip">
<p>You can further automate the rescraping process by using this command after you create a new link and before you use it for any ads:</p>
<div class="codehilite"><pre><span></span>curl --insecure <span class="s2">&quot;https://graph.facebook.com/?id=[YOUR-URL-TO-SCRAPE]&amp;scrape=true&quot;</span>
</pre></div>

</div>
<p><strong>If the OG tag tester continues to report problems</strong></p>
<ol>
<li>Examine your <a href="https://dashboard.branch.io/#/settings/link" target="_blank">Link Settings</a> and ensure that for all platforms (for which an app is available), that a URI scheme and a link to the app in the Play/App Store is configured. If you are using a Custom URL for your iOS Redirect, then you need to append <code>?id[10-digit App Store ID]</code> to the URL. This is necessary in order to fully generate the App Links and OG tags that the Facebook scraper expects to find.<ul>
<li>For example, if your App Store URL is <code>https://itunes.apple.com/us/app/my-app-name/id1234567890</code>, then your Custom URL value should be <code>https://example.com?id1234567890</code></li>
</ul>
</li>
<li>If errors from the output window pertain to OG tags i.e. missing title, description etc. then examine link OG tags by appending <code>?debug=true</code> as described on the <a href="../{{base.url}}/getting-started/integration-testing/guide/#debugging-an-individual-link">Integration Testing page</a>.</li>
<li>If you haven't set OG tags on a per link level, then please check your Dashboard's global Social Media Display Customization settings from the <a href="https://dashboard.branch.io/#/settings/link" target="_blank">Link Settings</a> page.</li>
</ol>
<p><strong>Use a direct deep link</strong></p>
<p>As a last resort, you can manually input a direct deep link. To retrieve this:</p>
<ol>
<li>Go to Facebook's <a href="https://developers.facebook.com/tools/debug/og/object/">Open Graph Object Debugger</a></li>
<li>Input the Branch link you want to use for your ad</li>
<li>Click <strong>Fetch new scrape information</strong></li>
<li>Find the <code>al:ios:url</code> line (it should look like <code>&lt;meta property="al:ios:url" content="myapp://open?link_click_id=link-242052337263342024" /&gt;</code>)</li>
<li>Copy the value of this (<code>myapp://open?link_click_id=link-242052337263342024</code>) and input it as the Deep Link value of your ad</li>
</ol>
<p>If none of these approaches work, please reach out to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#105;&#110;&#116;&#101;&#103;&#114;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#98;&#114;&#97;&#110;&#99;&#104;&#46;&#105;&#111;">&#105;&#110;&#116;&#101;&#103;&#114;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#98;&#114;&#97;&#110;&#99;&#104;&#46;&#105;&#111;</a> immediately.</p>
<h4 id="known-issue-with-app-restrictions">Known Issue with App Restrictions<a class="headerlink" href="#known-issue-with-app-restrictions" title="Permanent link">&para;</a></h4>
<p>We recently discovered a bug within the Facebook system that prevents App Links from being read by the robot if you change any of these values from the defaults in your Advanced Facebook App Settings tab. Please make sure</p>
<ul>
<li>Contains Alcohol is set to <strong>No</strong></li>
<li>Age Restriction is set to <strong>Anyone (13+)</strong></li>
<li>Social Discovery is set to <strong>Yes</strong></li>
<li>Country Restricted is set to <strong>No</strong></li>
</ul>
<p>It has to look like this <strong>exactly</strong>:</p>
<p><img alt="App Restrictions Troubleshooting" src="../../../img/ingredients/deep-linked-ads/fb-ads-support/app_restrictions.png" /></p>
<p><strong>No IP Whitelists</strong></p>
<p>Because Branch has a large distribution of API servers that will be making requests to Facebook on behalf of your app, you cannot have an IP whitelist in your <a href="https://developers.facebook.com/apps/390736167768543/settings/advanced/">Facebook advanced settings</a> and still have this integration work. Please remove any IPs from this setting if they are present.</p>
                
                  
                    <h2 id="__source">Source</h2>
                    
                    
                      <a href="https://github.com/branchmetrics/docs/tree/master/src/pages/deep-linked-ads/facebook-ads-faq.md" title="facebook-ads-faq.md" class="md-source-file">
                        facebook-ads-faq.md
                      </a>
                    
                  
                
              
              
                
                  <h2 id="__comments">Comments</h2>
                  <div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = "https://docs.branch.io/pages/deep-linked-ads/facebook-ads-faq/";
    this.page.identifier =
      "/pages/deep-linked-ads/facebook-ads-faq/";
  };
  (function() {
    var d = document, s = d.createElement("script");
    s.src = "//branch-docs.disqus.com/embed.js";
    s.setAttribute("data-timestamp", +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
                
              
            </article>
          </div>
        </div>
      </main>
      
        
        
      
      
        <div class="modals">
          <div id="modal-search" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content" id="algolia-search-container">
              <i class="material-icons modal-close right">close</i>
              <h2>Search</h2>
              <input type="text" placeholder="search docs..." id="algolia-doc-search" autofocus>
            </div>
          </div>
          <div id="modal-unhelpful" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Unhelpful?</h2>
              <p>How can we improve or assist you?</p>
              <a href="#" class="improve-doc" title="Improve This Doc">Improve this doc</a>
              <a href="#" class="contact-support" title="Contact support">Contact support</a>
            </div>
          </div>
          <div id="modal-choose-app" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Choose your app</h2>
              <button type="button">iOS</button>
              <button type="button">Android</button>
              <button type="button">Cordova Ionic PhoneGap</button>
              <button type="button">React Native</button>
            </div>
          </div>
          <div id="modal-helpful" class="modal notification">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Thank you</h2>
            </div>
          </div>
          <div id="modal-image" class="modal dialog image">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Image</h2>
              <a id="modal-image-link" href="#">
                <img id="modal-image-img">
              </a>
            </div>
          </div>
          <div id="modal-code" class="modal dialog code">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Select your platform</h2>
              <div class="flex">
                <button id="modal-code-ios">iOS</button>
                <button id="modal-code-android">Android</button>
              </div>
              <div class="flex">
                <button id="modal-code-cordova">Cordova PhoneGap Ionic</button>
                <button id="modal-code-react">React Native</button>
              </div>
              <div class="flex">
                <button id="modal-code-mparticle-android">mParticle Android</button>
                <button id="modal-code-mparticle-ios">mParticle iOS</button>
              </div>
              <div class="flex">
                <button id="modal-code-titanium">Titanium</button>
                <button id="modal-code-unity">Unity</button>
              </div>
              <div class="flex">
                <button id="modal-code-xamarin">Xamarin</button>
                <button id="modal-code-adobe" class="vanish">Adobe</button>
              </div>
            </div>
          </div>
        </div>
      
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="https://branch.io">Branch</a>
          </div>
        
        All rights reserved
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://branch.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/branchmetrics/docs" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/branchmetrics" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.facebook.com/branchmetrics" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.linkedin.com/company-beta/3813083" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application-26aeb842c9.js"></script>
      <script>app.initialize({url:{base:"../../.."}})</script>
      
        <script src="../../../js/router.js"></script>
      
        <script src="../../../js/events.js"></script>
      
        <script src="../../../js/modals.js"></script>
      
        <script src="../../../js/images.js"></script>
      
        <script src="../../../js/buttons.js"></script>
      
        <script src="../../../js/progress.js"></script>
      
        <script src="../../../js/tabs.js"></script>
      
        <script src="../../../js/languages.js"></script>
      
        <script src="../../../js/utils.js"></script>
      
        <script src="../../../js/main.js"></script>
      
      
        <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
        <script>docsearch({apiKey:"887017d17a2c1e9490ad2c44caa7e817",indexName:"branchmetrics",inputSelector:"#algolia-doc-search",debug:"True",algoliaOptions:{hitsPerPage:"15"}})</script>
      
    
  </body>
</html>