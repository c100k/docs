
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Branch documentation for mobile deep linking">
      
      
        <link rel="canonical" href="https://docs.branch.io/pages/apps/ios/">
      
      
        <meta name="author" content="Branch">
      
      
        <link rel="shortcut icon" href="../../../img/favicon-96x96.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.10.1">
    
    
      
        <title>iOS - Branch documentation</title>
      
    
    
      <script src="../../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <style>.async-hide{opacity:0!important}</style>
      <script>!function(e,n,t,a,o,c,i,s,m){n.className+=" "+t,c.start=1*new Date,c.end=i=function(){n.className=n.className.replace(RegExp(" ?"+t),"")},(e[a]=e[a]||[]).hide=c,setTimeout(function(){i(),c.end=null},o),c.timeout=o}(window,document.documentElement,"async-hide","dataLayer",1e3,{"GTM-PCPBXCN":!0})</script>
    
    
      <script>!function(e,t){if(!t.__SV){var n=window;try{var i,a,p,o=n.location,r=o.hash;i=function(e,t){return(a=e.match(RegExp(t+"=([^&]*)")))?a[1]:null},r&&i(r,"state")&&(p=JSON.parse(decodeURIComponent(i(r,"state"))),"mpeditor"===p.action&&(n.sessionStorage.setItem("_mpcehash",r),history.replaceState(p.desiredHash||"",e.title,o.pathname+o.search)))}catch(e){}var l,s;window.mixpanel=t,t._i=[],t.init=function(e,n,i){function a(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var p=t;for("undefined"!=typeof i?p=t[i]=[]:i="mixpanel",p.people=p.people||[],p.toString=function(e){var t="mixpanel";return"mixpanel"!==i&&(t+="."+i),e||(t+=" (stub)"),t},p.people.toString=function(){return p.toString(1)+".people (stub)"},l="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),s=0;s<l.length;s++)a(p,l[s]);t._i.push([e,n,i])},t.__SV=1.2,n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",i=e.getElementsByTagName("script")[0],i.parentNode.insertBefore(n,i)}}(document,window.mixpanel||[]),mixpanel.init("47ec8ea9ac102b1370221dcda476091c")</script>
    
    
      <script>function getCookie(e){var i="; "+document.cookie,t=i.split("; "+e+"=");if(t.length>=2)return t.pop().split(";").shift()}function setCookie(e,i,t){var o=new Date;o=new Date(o.getTime()+864e5*t),document.cookie=e+"="+i+"; expires="+o.toGMTString()+"; path=/; domain=.branch.io"}var returning_visitor=getCookie("bnc_returning_visitor"),page_url=window.location.host+window.location.pathname;setCookie("bnc_returning_visitor","1",30),function(e,i,t,o,n,a,r){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,a=i.createElement(t),r=i.getElementsByTagName(t)[0],a.async=1,a.src=o,r.parentNode.insertBefore(a,r)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-53307642-1","auto"),ga("require","GTM-PCPBXCN"),ga("send","pageview"),ga("require","linkid","linkid.js"),returning_visitor||ga("set","dimension1",page_url)</script>
    
    
      <script>!function(e,t,n,o,c,a,f){e.fbq||(c=e.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},e._fbq||(e._fbq=c),c.push=c,c.loaded=!0,c.version="2.0",c.queue=[],a=t.createElement(n),a.async=!0,a.src=o,f=t.getElementsByTagName(n)[0],f.parentNode.insertBefore(a,f))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","1040694199304729"),fbq("track","PageView")</script>
      <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1040694199304729&ev=PageView&noscript=1"></noscript>
    
    
      <script>_linkedin_data_partner_id="21211",function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",e.parentNode.insertBefore(t,e)}()</script>
    
    
      <script src="//cdn.bizible.com/scripts/bizible.js" async></script>
    
    
      <script>!function(e,n,s,t,a){var c=n.createElement(s),d=n.getElementsByTagName(s)[0];c.async=1,c.id=a,c.src=t,d.parentNode.insertBefore(c,d)}(window,document,"script","https://scripts.demandbase.com/ucA8pUay.min.js","demandbase_js_lib")</script>
    
    
      <script>!function(){function e(){n===!1&&(n=!0,Munchkin.init("315-FTT-121",{domainLevel:2}))}var n=!1,t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//munchkin.marketo.net/munchkin.js",t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||e()},t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)}()</script>
    
    
      <script>!function(e,t,n,o,c,p){e.qp||(o=e.qp=function(){o.qp?o.qp.apply(o,arguments):o.queue.push(arguments)},o.queue=[],c=document.createElement(t),c.async=!0,c.src=n,p=document.getElementsByTagName(t)[0],p.parentNode.insertBefore(c,p))}(window,"script","https://a.quora.com/qevents.js"),qp("init","247e840cafa44cae9ac4b50a0cc1965a"),qp("track","ViewContent")</script>
      <noscript><img height="1" width="1" style="display:none" src="https://q.quora.com/_/ad/247e840cafa44cae9ac4b50a0cc1965a/pixel?tag=ViewContent&noscript=1"></noscript>
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css">
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application-a20f419c8e.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-23f75ab9c7.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../../css/main.css">
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.branch.io" title="Branch documentation" class="md-header-nav__button md-logo">
          
            
              <img src="../../../img/logo.svg">
            
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <a href="https://docs.branch.io" title="Branch documentation">
            <div class="branch-header-subtitle">&nbsp;|&nbsp;Docs</div>
          </a>
        </div>
      
      
        <div class="md-flex__cell md-flex__cell--stretch">
          <span class="md-flex__ellipsis md-header-nav__title">
            
              
                
                  <span class="md-header-nav__parent">
                    Configure your app
                  </span>
                
              
              iOS
            
          </span>
        </div>
      
      
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-helpful" id="header-helpful" title="Helpful">
            <i class="branch-header-icon md-icon material-icons">thumb_up</i>
            <p class="branch-header-label">Helpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-unhelpful" id="header-unhelpful" title="Unhelpful">
            <i class="branch-header-icon md-icon material-icons">thumb_down</i>
            <p class="branch-header-label">Unhelpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="improve-doc" title="Improve This Doc">
            <i class="branch-header-icon md-icon material-icons">mode_edit</i>
            <p class="branch-header-label">Improve</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="contact-support" title="Contact support">
            <i class="branch-header-icon md-icon material-icons">help_outline</i>
            <p class="branch-header-label">Support</p>
          </a>
        </div>
      
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <a href="#dialog-search" id="header-search" title="Search">
              <label class="md-icon md-icon--search md-header-nav__button"></label>
              
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      
        <i class="branch-header-search md-icon material-icons">search</i>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
            </a>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        
          <img src="../../../img/logo.svg">
        
      
    </div>
    Branch documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/branchmetrics/docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Branch documentation
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../.." title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

      
    
      
      
      
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic integration
          </li>
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../dashboard/integrate/" title="Configure your dashboard" class="md-nav__link">
      Configure your dashboard
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Configure your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Configure your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        iOS
      </label>
    
    <a href="./" title="iOS" class="md-nav__link md-nav__link--active">
      iOS
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#integrate-branch" title="Integrate Branch" class="md-nav__link">
    Integrate Branch
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-branch" title="Configure Branch" class="md-nav__link">
    Configure Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-bundle-identifier" title="Configure bundle identifier" class="md-nav__link">
    Configure bundle identifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-associated-domains" title="Configure associated domains" class="md-nav__link">
    Configure associated domains
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-entitlements" title="Configure entitlements" class="md-nav__link">
    Configure entitlements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-infoplist" title="Configure info.pList" class="md-nav__link">
    Configure info.pList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#confirm-app-prefix" title="Confirm app prefix" class="md-nav__link">
    Confirm app prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-branch" title="Install Branch" class="md-nav__link">
    Install Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-branch" title="Initialize Branch" class="md-nav__link">
    Initialize Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-deep-link" title="Test deep link" class="md-nav__link">
    Test deep link
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implement-features" title="Implement features" class="md-nav__link">
    Implement features
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-content-reference" title="Create content reference" class="md-nav__link">
    Create content reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-link-reference" title="Create link reference" class="md-nav__link">
    Create link reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-deep-link" title="Create deep link" class="md-nav__link">
    Create deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#share-deep-link" title="Share deep link" class="md-nav__link">
    Share deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-deep-link" title="Read deep link" class="md-nav__link">
    Read deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigate-to-content" title="Navigate to content" class="md-nav__link">
    Navigate to content
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display" title="Display" class="md-nav__link">
    Display
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-content" title="Track content" class="md-nav__link">
    Track content
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-users" title="Track users" class="md-nav__link">
    Track users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-events" title="Track events" class="md-nav__link">
    Track events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-commerce" title="Track commerce" class="md-nav__link">
    Track commerce
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-referrals" title="Handle referrals" class="md-nav__link">
    Handle referrals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-push-notifications" title="Handle push notifications" class="md-nav__link">
    Handle push notifications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-links-in-your-own-app" title="Handle links in your own app" class="md-nav__link">
    Handle links in your own app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-apple-search-ads" title="Track Apple Search Ads" class="md-nav__link">
    Track Apple Search Ads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-100-matching" title="Enable 100% matching" class="md-nav__link">
    Enable 100% matching
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshoot-issues" title="Troubleshoot issues" class="md-nav__link">
    Troubleshoot issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#submitting-to-the-app-store" title="Submitting to the App Store" class="md-nav__link">
    Submitting to the App Store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-not-opening" title="App not opening" class="md-nav__link">
    App not opening
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-not-passing-data" title="App not passing data" class="md-nav__link">
    App not passing data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simulate-an-install" title="Simulate an install" class="md-nav__link">
    Simulate an install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deep-links-are-long" title="Deep links are long" class="md-nav__link">
    Deep links are long
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-apps" title="Sample apps" class="md-nav__link">
    Sample apps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-content-properties" title="Track content properties" class="md-nav__link">
    Track content properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-logging" title="Enable logging" class="md-nav__link">
    Enable logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-test-key" title="Use test key" class="md-nav__link">
    Use test key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#re-enable-universal-linking" title="Re-enable universal linking" class="md-nav__link">
    Re-enable universal linking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deep-link-routing-with-a-branch-viewcontroller" title="Deep link routing with a Branch ViewController" class="md-nav__link">
    Deep link routing with a Branch ViewController
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#determine-if-deep-link-is-from-branch-without-network" title="Determine if deep link is from Branch without network" class="md-nav__link">
    Determine if deep link is from Branch without network
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#share-to-email-options" title="Share to email options" class="md-nav__link">
    Share to email options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#share-message-dynamically" title="Share message dynamically" class="md-nav__link">
    Share message dynamically
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../adobe-air/" title="Adobe AIR" class="md-nav__link">
      Adobe AIR
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../cordova-phonegap-ionic/" title="Cordova PhoneGap Ionic" class="md-nav__link">
      Cordova PhoneGap Ionic
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../mparticle-android/" title="mParticle Android" class="md-nav__link">
      mParticle Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../mparticle-ios/" title="mParticle iOS" class="md-nav__link">
      mParticle iOS
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../titanium/" title="Titanium" class="md-nav__link">
      Titanium
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../react-native/" title="React Native" class="md-nav__link">
      React Native
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../unity/" title="Unity" class="md-nav__link">
      Unity
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../xamarin/" title="Xamarin" class="md-nav__link">
      Xamarin
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Configure your deep linking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Configure your deep linking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/universal-links/" title="iOS Universal Links" class="md-nav__link">
      iOS Universal Links
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/android-app-links/" title="Android App Links" class="md-nav__link">
      Android App Links
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/routing/" title="In-app deep link routing" class="md-nav__link">
      In-app deep link routing
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Launch your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Launch your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../ios-launch/" title="Apple App Store" class="md-nav__link">
      Apple App Store
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../android-launch/" title="Google Play" class="md-nav__link">
      Google Play
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../web/integrate/" title="Configure your website" class="md-nav__link">
      Configure your website
    </a>
  </li>

      
    
      
      
      
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic usage
          </li>
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../links/integrate/" title="Create deep links" class="md-nav__link">
      Create deep links
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Track analytics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Track analytics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/analytics/" title="Dashboard analytics" class="md-nav__link">
      Dashboard analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/unified-analytics/" title="New Dashboard Analytics" class="md-nav__link">
      New Dashboard Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/timezone/" title="Time zone support" class="md-nav__link">
      Time zone support
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Advanced usage
          </li>
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Links on your website
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Links on your website
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/deep-views/" title="Deepviews" class="md-nav__link">
      Deepviews
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/journeys/" title="Journeys App Banners" class="md-nav__link">
      Journeys App Banners
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/amp-journeys/" title="AMP Journeys" class="md-nav__link">
      AMP Journeys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/text-me-the-app/" title="Text Me The App" class="md-nav__link">
      Text Me The App
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/hosted-data/" title="Hosted Deep Link Data" class="md-nav__link">
      Hosted Deep Link Data
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Links in your paid ads
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Links in your paid ads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/dynamic-product-feeds/" title="Dynamic Product Feeds" class="md-nav__link">
      Dynamic Product Feeds
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/branch-universal-ads/" title="Branch Universal Ads" class="md-nav__link">
      Branch Universal Ads
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/apple/" title="Apple Search" class="md-nav__link">
      Apple Search
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/doubleclick/" title="Doubleclick" class="md-nav__link">
      Doubleclick
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-ads-overview/" title="Google" class="md-nav__link">
      Google
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/facebook-ads-overview/" title="Facebook" class="md-nav__link">
      Facebook
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/twitter/" title="Twitter" class="md-nav__link">
      Twitter
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Links in your emails
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Links in your emails
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/get-started/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/amazon-ses/" title="Amazon SES" class="md-nav__link">
      Amazon SES
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/betaout/" title="Betaout" class="md-nav__link">
      Betaout
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/blueshift/" title="Blueshift" class="md-nav__link">
      Blueshift
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/braze/" title="Braze (formerly Appboy)" class="md-nav__link">
      Braze (formerly Appboy)
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/bronto/" title="Bronto" class="md-nav__link">
      Bronto
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/campaign-monitor/" title="Campaign Monitor" class="md-nav__link">
      Campaign Monitor
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/epsilon/" title="Epsilon" class="md-nav__link">
      Epsilon
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/kahuna/" title="Kahuna" class="md-nav__link">
      Kahuna
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/leanplum/" title="Leanplum" class="md-nav__link">
      Leanplum
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mailgun/" title="Mailgun" class="md-nav__link">
      Mailgun
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mailjet/" title="Mailjet" class="md-nav__link">
      Mailjet
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mandrill/" title="Mandrill" class="md-nav__link">
      Mandrill
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/postup/" title="PostUp" class="md-nav__link">
      PostUp
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/responsys/" title="Responsys" class="md-nav__link">
      Responsys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sailthru/" title="Sailthru" class="md-nav__link">
      Sailthru
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/salesforce/" title="Salesforce" class="md-nav__link">
      Salesforce
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sendgrid/" title="SendGrid" class="md-nav__link">
      SendGrid
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sparkpost/" title="SparkPost" class="md-nav__link">
      SparkPost
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/vero/" title="Vero" class="md-nav__link">
      Vero
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/zeta/" title="Zeta" class="md-nav__link">
      Zeta
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/support/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/self-serve/" title="Self Serve" class="md-nav__link">
      Self Serve
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../advance/push-notifications/" title="Links in push notifications" class="md-nav__link">
      Links in push notifications
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Links in organic search
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Links in organic search
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/firebase/" title="Firebase App Indexing" class="md-nav__link">
      Firebase App Indexing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/spotlight/" title="Spotlight Search" class="md-nav__link">
      Spotlight Search
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/branch-seo/" title="General SEO Compatibility" class="md-nav__link">
      General SEO Compatibility
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Links for viral & referral
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Links for viral & referral
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/content-sharing/" title="Content sharing" class="md-nav__link">
      Content sharing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/referrals/" title="Referral programs" class="md-nav__link">
      Referral programs
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/facebook-app-invites/" title="Facebook App Invites" class="md-nav__link">
      Facebook App Invites
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Links in new app platforms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        Links in new app platforms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../app-to-app/android-instant-apps/" title="Android Instant Apps" class="md-nav__link">
      Android Instant Apps
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../app-to-app/imessage-apps/" title="iMessage Apps" class="md-nav__link">
      iMessage Apps
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Export Branch data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Export Branch data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16-1" type="checkbox" id="nav-16-1">
    
    <label class="md-nav__link" for="nav-16-1">
      Data Feeds
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-16-1">
        Data Feeds
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/data-feeds/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16-1-2" type="checkbox" id="nav-16-1-2">
    
    <label class="md-nav__link" for="nav-16-1-2">
      Data Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-16-1-2">
        Data Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/data-integrations/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adobe-analytics/" title="Adobe Analytics" class="md-nav__link">
      Adobe Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adjust/" title="Adjust" class="md-nav__link">
      Adjust
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/amplitude/" title="Amplitude" class="md-nav__link">
      Amplitude
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appmetrica/" title="AppMetrica" class="md-nav__link">
      AppMetrica
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appboy/" title="Appboy" class="md-nav__link">
      Appboy
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appsflyer/" title="Appsflyer" class="md-nav__link">
      Appsflyer
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/clevertap/" title="CleverTap" class="md-nav__link">
      CleverTap
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/fabric-answers/" title="Fabric Answers" class="md-nav__link">
      Fabric Answers
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/google-analytics/" title="Google Analytics" class="md-nav__link">
      Google Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/kochava/" title="Kochava" class="md-nav__link">
      Kochava
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/localytics/" title="Localytics" class="md-nav__link">
      Localytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/mixpanel/" title="Mixpanel" class="md-nav__link">
      Mixpanel
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/tune/" title="Tune" class="md-nav__link">
      Tune
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/api-v3/" title="Data Export API" class="md-nav__link">
      Data Export API
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/ua-webhooks/" title="Webhooks" class="md-nav__link">
      Webhooks
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/matching/" title="Branch Matching Overview" class="md-nav__link">
      Branch Matching Overview
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Resources
          </li>
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/validation-tools/" title="Validation Tools" class="md-nav__link">
      Validation Tools
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/case-studies/" title="Case Studies and Infographics" class="md-nav__link">
      Case Studies and Infographics
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#integrate-branch" title="Integrate Branch" class="md-nav__link">
    Integrate Branch
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-branch" title="Configure Branch" class="md-nav__link">
    Configure Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-bundle-identifier" title="Configure bundle identifier" class="md-nav__link">
    Configure bundle identifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-associated-domains" title="Configure associated domains" class="md-nav__link">
    Configure associated domains
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-entitlements" title="Configure entitlements" class="md-nav__link">
    Configure entitlements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-infoplist" title="Configure info.pList" class="md-nav__link">
    Configure info.pList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#confirm-app-prefix" title="Confirm app prefix" class="md-nav__link">
    Confirm app prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-branch" title="Install Branch" class="md-nav__link">
    Install Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-branch" title="Initialize Branch" class="md-nav__link">
    Initialize Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-deep-link" title="Test deep link" class="md-nav__link">
    Test deep link
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implement-features" title="Implement features" class="md-nav__link">
    Implement features
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-content-reference" title="Create content reference" class="md-nav__link">
    Create content reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-link-reference" title="Create link reference" class="md-nav__link">
    Create link reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-deep-link" title="Create deep link" class="md-nav__link">
    Create deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#share-deep-link" title="Share deep link" class="md-nav__link">
    Share deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-deep-link" title="Read deep link" class="md-nav__link">
    Read deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigate-to-content" title="Navigate to content" class="md-nav__link">
    Navigate to content
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display" title="Display" class="md-nav__link">
    Display
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-content" title="Track content" class="md-nav__link">
    Track content
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-users" title="Track users" class="md-nav__link">
    Track users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-events" title="Track events" class="md-nav__link">
    Track events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-commerce" title="Track commerce" class="md-nav__link">
    Track commerce
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-referrals" title="Handle referrals" class="md-nav__link">
    Handle referrals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-push-notifications" title="Handle push notifications" class="md-nav__link">
    Handle push notifications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-links-in-your-own-app" title="Handle links in your own app" class="md-nav__link">
    Handle links in your own app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-apple-search-ads" title="Track Apple Search Ads" class="md-nav__link">
    Track Apple Search Ads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-100-matching" title="Enable 100% matching" class="md-nav__link">
    Enable 100% matching
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshoot-issues" title="Troubleshoot issues" class="md-nav__link">
    Troubleshoot issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#submitting-to-the-app-store" title="Submitting to the App Store" class="md-nav__link">
    Submitting to the App Store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-not-opening" title="App not opening" class="md-nav__link">
    App not opening
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-not-passing-data" title="App not passing data" class="md-nav__link">
    App not passing data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simulate-an-install" title="Simulate an install" class="md-nav__link">
    Simulate an install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deep-links-are-long" title="Deep links are long" class="md-nav__link">
    Deep links are long
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-apps" title="Sample apps" class="md-nav__link">
    Sample apps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-content-properties" title="Track content properties" class="md-nav__link">
    Track content properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-logging" title="Enable logging" class="md-nav__link">
    Enable logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-test-key" title="Use test key" class="md-nav__link">
    Use test key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#re-enable-universal-linking" title="Re-enable universal linking" class="md-nav__link">
    Re-enable universal linking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deep-link-routing-with-a-branch-viewcontroller" title="Deep link routing with a Branch ViewController" class="md-nav__link">
    Deep link routing with a Branch ViewController
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#determine-if-deep-link-is-from-branch-without-network" title="Determine if deep link is from Branch without network" class="md-nav__link">
    Determine if deep link is from Branch without network
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#share-to-email-options" title="Share to email options" class="md-nav__link">
    Share to email options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#share-message-dynamically" title="Share message dynamically" class="md-nav__link">
    Share message dynamically
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/branchmetrics/docs/edit/master/src/pages/apps/ios.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>iOS</h1>
                
                <h2 id="integrate-branch">Integrate Branch<a class="headerlink" href="#integrate-branch" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Inconsistent Universal links behavior on iOS 11.2</p>
<p>After updating a device to iOS 11.2, we found that the app's AASA file is no longer downloaded reliably onto your user’s device after an app install. As a result, clicking on Universal links will no longer open the app consistenly. You can set <a href="../../../pages/links/integrate/#forced-redirections">forced uri redirect mode</a> on your Branch links to open the app with URI schemes. View details of the issue on the <a href="http://www.openradar.me/radar?id=4999496467480576">Apple Bug report</a>.</p>
</div>
<ul>
<li>
<h3 id="configure-branch">Configure Branch<a class="headerlink" href="#configure-branch" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Complete the <code>Basic integration</code> within <a href="../../../pages/dashboard/integrate/">Configure your dashboard</a></p>
</li>
<li>
<p>Make sure <code>I have an iOS app</code> is enabled</p>
<p><img alt="image" src="../../../img/pages/dashboard/ios.png" /></p>
</li>
</ul>
</li>
<li>
<h3 id="configure-bundle-identifier">Configure bundle identifier<a class="headerlink" href="#configure-bundle-identifier" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Make sure Bundle Id matches your <a href="https://dashboard.branch.io/settings/link">Branch Dashboard</a></p>
<p><img alt="image" src="../../../img/pages/apps/ios-bundle-id.png" /></p>
</li>
</ul>
</li>
<li>
<h3 id="configure-associated-domains">Configure associated domains<a class="headerlink" href="#configure-associated-domains" title="Permanent link">&para;</a></h3>
<ul>
<li>Add your link domains from your <a href="https://dashboard.branch.io/settings/link">Branch Dashboard</a></li>
<li><code>-alternate</code> is needed for Universal Linking with the <a href="../../../pages/web/integrate/">Web SDK</a> inside your Website</li>
<li><code>test-</code> is needed if you need use a <a href="#use-test-key">test key</a></li>
<li>
<p>If you use a <a href="../../../pages/dashboard/integrate/#change-link-domain">custom link domain</a>, you will need to include your old link domain, your <code>-alternate</code> link domain, and your new link domain</p>
<p><img alt="image" src="../../../img/pages/apps/ios-entitlements.png" /></p>
</li>
</ul>
</li>
<li>
<h3 id="configure-entitlements">Configure entitlements<a class="headerlink" href="#configure-entitlements" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Confirm entitlements are within target</p>
<p><img alt="image" src="../../../img/pages/apps/ios-package.png" /></p>
</li>
</ul>
</li>
<li>
<h3 id="configure-infoplist">Configure info.pList<a class="headerlink" href="#configure-infoplist" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Add <a href="https://dashboard.branch.io/account-settings/app">Branch Dashboard</a> values</p>
<ul>
<li>Add <code>branch_app_domain</code> with your live key domain</li>
<li>Add <code>branch_key</code> with your current Branch key</li>
<li>Add your URI scheme as <code>URL Types</code> -&gt; <code>Item 0</code> -&gt; <code>URL Schemes</code></li>
</ul>
<p><img alt="image" src="../../../img/pages/apps/ios-plist.png" /></p>
</li>
</ul>
</li>
<li>
<h3 id="confirm-app-prefix">Confirm app prefix<a class="headerlink" href="#confirm-app-prefix" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>From your <a href="https://developer.apple.com/account/ios/identifier/bundle">Apple Developer Account</a></p>
<p><img alt="image" src="../../../img/pages/apps/ios-team-id.png" /></p>
</li>
</ul>
</li>
<li>
<h3 id="install-branch">Install Branch<a class="headerlink" href="#install-branch" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Option 1: <a href="https://cocoapods.org/">CocoaPods</a></p>
<div class="codehilite"><pre><span></span>platform :ios, <span class="s1">&#39;8.0&#39;</span>

target <span class="s1">&#39;APP_NAME&#39;</span> <span class="k">do</span>
  <span class="c1"># if swift</span>
  use_frameworks!

<span class="hll">  pod <span class="s1">&#39;Branch&#39;</span>
</span>end
</pre></div>

<div class="codehilite"><pre><span></span>pod install <span class="o">&amp;&amp;</span> pod update
</pre></div>

</li>
<li>
<p>Option 2: <a href="https://github.com/Carthage/Carthage">Carthage</a></p>
<div class="codehilite"><pre><span></span>github <span class="s2">&quot;BranchMetrics/ios-branch-deep-linking&quot;</span>
</pre></div>

</li>
<li>
<p>Option 3: Manually install the <a href="https://github.com/BranchMetrics/ios-branch-deep-linking/releases">source code</a> with dependencies</p>
<ul>
<li>Drag and drop <code>Branch.framework</code> into <code>Embedded Binaries</code> (select <code>Copy items if needed</code>)</li>
<li>Import <code>AdSupport</code>, <code>SafariServices</code>, <code>MobileCoreServices</code>, <code>CoreSpotlight</code>, and <code>iAd</code> into <code>Linked Frameworks</code></li>
</ul>
<p><img alt="image" src="../../../img/pages/apps/ios-frameworks.png" /></p>
</li>
</ul>
</li>
<li>
<h3 id="initialize-branch">Initialize Branch<a class="headerlink" href="#initialize-branch" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="kd">import</span> <span class="nc">UIKit</span>
<span class="hll"><span class="kd">import</span> <span class="nc">Branch</span>
</span>
<span class="kr">@UIApplicationMain</span>
<span class="kd">class</span> <span class="nc">AppDelegate</span><span class="p">:</span> <span class="bp">UIResponder</span><span class="p">,</span> <span class="bp">UIApplicationDelegate</span> <span class="p">{</span>

<span class="kd">var</span> <span class="nv">window</span><span class="p">:</span> <span class="bp">UIWindow</span><span class="p">?</span>

<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="kc">_</span> <span class="n">application</span><span class="p">:</span> <span class="bp">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="n">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="n">UIApplicationLaunchOptionsKey</span><span class="p">:</span> <span class="nb">Any</span><span class="p">]?)</span> <span class="p">-&gt;</span> <span class="nb">Bool</span> <span class="p">{</span>
<span class="hll">  <span class="c1">// for debug and development only</span>
</span><span class="hll">  <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">setDebug</span><span class="p">()</span>
</span><span class="hll">  <span class="c1">// listener for Branch Deep Link data</span>
</span><span class="hll">  <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">initSession</span><span class="p">(</span><span class="n">launchOptions</span><span class="p">:</span> <span class="n">launchOptions</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
</span><span class="hll">    <span class="c1">// do stuff with deep link data (nav to page, display content, etc)</span>
</span><span class="hll">    <span class="bp">print</span><span class="p">(</span><span class="n">params</span> <span class="k">as</span><span class="p">?</span> <span class="p">[</span><span class="nb">String</span><span class="p">:</span> <span class="nb">AnyObject</span><span class="p">]</span> <span class="p">??</span> <span class="p">{})</span>
</span><span class="hll">  <span class="p">}</span>
</span>  <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="kc">_</span> <span class="n">app</span><span class="p">:</span> <span class="bp">UIApplication</span><span class="p">,</span> <span class="n">open</span> <span class="n">url</span><span class="p">:</span> <span class="n">URL</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="p">[</span><span class="n">UIApplicationOpenURLOptionsKey</span> <span class="p">:</span> <span class="nb">Any</span><span class="p">]</span> <span class="p">=</span> <span class="p">[:])</span> <span class="p">-&gt;</span> <span class="nb">Bool</span> <span class="p">{</span>
<span class="hll">  <span class="c1">// handler for URI Schemes (depreciated in iOS 9.2+, but still used by some apps)</span>
</span><span class="hll">  <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">application</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">open</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">options</span><span class="p">)</span>
</span>  <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="kc">_</span> <span class="n">application</span><span class="p">:</span> <span class="bp">UIApplication</span><span class="p">,</span> <span class="k">continue</span> <span class="n">userActivity</span><span class="p">:</span> <span class="bp">NSUserActivity</span><span class="p">,</span> <span class="n">restorationHandler</span><span class="p">:</span> <span class="p">@</span><span class="n">escaping</span> <span class="p">([</span><span class="nb">Any</span><span class="p">]?)</span> <span class="p">-&gt;</span> <span class="nb">Void</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Bool</span> <span class="p">{</span>
<span class="hll">  <span class="c1">// handler for Universal Links</span>
</span><span class="hll">  <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="k">continue</span><span class="p">(</span><span class="n">userActivity</span><span class="p">)</span>
</span>  <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="kc">_</span> <span class="n">application</span><span class="p">:</span> <span class="bp">UIApplication</span><span class="p">,</span> <span class="n">didReceiveRemoteNotification</span> <span class="n">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="n">AnyHashable</span> <span class="p">:</span> <span class="nb">Any</span><span class="p">],</span> <span class="n">fetchCompletionHandler</span> <span class="n">completionHandler</span><span class="p">:</span> <span class="p">@</span><span class="n">escaping</span> <span class="p">(</span><span class="n">UIBackgroundFetchResult</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Void</span><span class="p">)</span> <span class="p">{</span>
<span class="hll">  <span class="c1">// handler for Push Notifications</span>
</span><span class="hll">  <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">handlePushNotification</span><span class="p">(</span><span class="n">userInfo</span><span class="p">)</span>
</span><span class="p">}</span>
</pre></div>

</li>
<li>
<p><em>Objective-C</em></p>
<div class="codehilite"><pre><span></span><span class="cp">#import &quot;AppDelegate.h&quot;</span>
<span class="hll"><span class="cp">#import &quot;Branch/Branch.h&quot;</span>
</span>
<span class="k">@interface</span> <span class="nc">AppDelegate</span> <span class="p">()</span>

<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">AppDelegate</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span> <span class="p">{</span>
<span class="hll">  <span class="c1">// for debug and development only</span>
</span><span class="hll">  <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="n">setDebug</span><span class="p">];</span>
</span><span class="hll">  <span class="c1">// listener for Branch Deep Link data</span>
</span><span class="hll">  <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">initSessionWithLaunchOptions</span><span class="p">:</span><span class="n">launchOptions</span> <span class="nl">andRegisterDeepLinkHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">params</span><span class="p">,</span> <span class="bp">NSError</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">    <span class="c1">// do stuff with deep link data (nav to page, display content, etc)</span>
</span><span class="hll">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
</span><span class="hll">  <span class="p">}];</span>
</span>  <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">app</span> <span class="nf">openURL:</span><span class="p">(</span><span class="bp">NSURL</span> <span class="o">*</span><span class="p">)</span><span class="nv">url</span> <span class="nf">options:</span><span class="p">(</span><span class="bp">NSDictionary</span><span class="o">&lt;</span><span class="n">UIApplicationOpenURLOptionsKey</span><span class="p">,</span><span class="kt">id</span><span class="o">&gt;</span> <span class="o">*</span><span class="p">)</span><span class="nv">options</span> <span class="p">{</span>
<span class="hll">  <span class="c1">// handler for URI Schemes (depreciated in iOS 9.2+, but still used by some apps)</span>
</span><span class="hll">  <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">application</span><span class="p">:</span><span class="n">app</span> <span class="nl">openURL</span><span class="p">:</span><span class="n">url</span> <span class="nl">options</span><span class="p">:</span><span class="n">options</span><span class="p">];</span>
</span>  <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">continueUserActivity:</span><span class="p">(</span><span class="bp">NSUserActivity</span> <span class="o">*</span><span class="p">)</span><span class="nv">userActivity</span> <span class="nf">restorationHandler:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="bp">NSArray</span> <span class="o">*</span> <span class="n">_Nullable</span><span class="p">))</span><span class="nv">restorationHandler</span> <span class="p">{</span>
<span class="hll">  <span class="c1">// handler for Universal Links</span>
</span><span class="hll">  <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">continueUserActivity</span><span class="p">:</span><span class="n">userActivity</span><span class="p">];</span>
</span>  <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didReceiveRemoteNotification:</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">userInfo</span> <span class="p">{</span>
<span class="hll">  <span class="c1">// handler for Push Notifications</span>
</span><span class="hll">  <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">handlePushNotification</span><span class="p">:</span><span class="n">userInfo</span><span class="p">];</span>
</span><span class="p">}</span>

<span class="k">@end</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="test-deep-link">Test deep link<a class="headerlink" href="#test-deep-link" title="Permanent link">&para;</a></h3>
<ul>
<li>Create a deep link from the <a href="https://dashboard.branch.io/marketing">Branch Dashboard</a></li>
<li>Delete your app from the device</li>
<li>Compile and test on a device</li>
<li>Paste deep link in <code>Apple Notes</code></li>
<li>Long press on the deep link (not 3D Touch)</li>
<li>Click <code>Open in "APP_NAME"</code> to open your app (<a href="../../../img/pages/apps/ios-notes.png">example</a>)</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Testing deferred deep linking</p>
<p>Deferred deep linking is simply deep linking into an app that is not yet installed. Once the app is installed, the context is preserved and the user's first app-open will have the deep link data from the original Branch link. To test this, uninstall the app from your device, click the Branch link, and manually launch the app from Xcode. You should be routed to the correct content within your app.</p>
</div>
</li>
</ul>
<h2 id="implement-features">Implement features<a class="headerlink" href="#implement-features" title="Permanent link">&para;</a></h2>
<ul>
<li>
<h3 id="create-content-reference">Create content reference<a class="headerlink" href="#create-content-reference" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>The <code>Branch Universal Object</code> encapsulates the thing you want to share</p>
</li>
<li>
<p>Uses <a href="../../../pages/links/integrate/#universal-object">Universal Object properties</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// only canonicalIdentifier is required</span>
<span class="kd">let</span> <span class="nv">buo</span> <span class="p">=</span> <span class="n">BranchUniversalObject</span><span class="p">(</span><span class="n">canonicalIdentifier</span><span class="p">:</span> <span class="s">&quot;content/123&quot;</span><span class="p">)</span>
<span class="n">buo</span><span class="p">.</span><span class="n">canonicalUrl</span> <span class="p">=</span> <span class="s">&quot;https://example.com/content/123&quot;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">title</span> <span class="p">=</span> <span class="s">&quot;Content 123 Title&quot;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">contentDescription</span> <span class="p">=</span> <span class="s">&quot;Content 123 Description </span><span class="si">\(</span><span class="n">Date</span><span class="si">())</span><span class="s">&quot;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">imageUrl</span> <span class="p">=</span> <span class="s">&quot;http://lorempixel.com/400/400/&quot;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">price</span> <span class="p">=</span> <span class="mf">12.12</span>
<span class="n">buo</span><span class="p">.</span><span class="n">currency</span> <span class="p">=</span> <span class="s">&quot;USD&quot;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">contentIndexMode</span> <span class="p">=</span> <span class="p">.</span><span class="kd">public</span>
<span class="n">buo</span><span class="p">.</span><span class="n">automaticallyListOnSpotlight</span> <span class="p">=</span> <span class="kc">true</span>
<span class="n">buo</span><span class="p">.</span><span class="n">addMetadataKey</span><span class="p">(</span><span class="s">&quot;custom&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s">&quot;123&quot;</span><span class="p">)</span>
<span class="n">buo</span><span class="p">.</span><span class="n">addMetadataKey</span><span class="p">(</span><span class="s">&quot;anything&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s">&quot;everything&quot;</span><span class="p">)</span>
</pre></div>

</li>
<li>
<p><em>Objective-C</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// only canonical identifier is required</span>
<span class="n">BranchUniversalObject</span> <span class="o">*</span><span class="n">buo</span> <span class="o">=</span> <span class="p">[[</span><span class="n">BranchUniversalObject</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithCanonicalIdentifier</span><span class="p">:</span><span class="s">@&quot;content/123&quot;</span><span class="p">];</span>
<span class="n">buo</span><span class="p">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">@&quot;Content 123 Title&quot;</span><span class="p">;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">contentDescription</span> <span class="o">=</span> <span class="s">@&quot;Content 123 Description&quot;</span><span class="p">;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">imageUrl</span> <span class="o">=</span> <span class="s">@&quot;https://lorempixel.com/400/400&quot;</span><span class="p">;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">price</span> <span class="o">=</span> <span class="mf">12.12</span><span class="p">;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">currency</span> <span class="o">=</span> <span class="s">@&quot;USD&quot;</span><span class="p">;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">contentIndexMode</span> <span class="o">=</span> <span class="n">ContentIndexModePublic</span><span class="p">;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">automaticallyListOnSpotlight</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">[</span><span class="n">buo</span> <span class="nl">addMetadataKey</span><span class="p">:</span><span class="s">@&quot;custom&quot;</span> <span class="nl">value</span><span class="p">:[[</span><span class="bp">NSUUID</span> <span class="n">UUID</span><span class="p">]</span> <span class="n">UUIDString</span><span class="p">]];</span>
<span class="p">[</span><span class="n">buo</span> <span class="nl">addMetadataKey</span><span class="p">:</span><span class="s">@&quot;anything&quot;</span> <span class="nl">value</span><span class="p">:</span><span class="s">@&quot;everything&quot;</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="create-link-reference">Create link reference<a class="headerlink" href="#create-link-reference" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Generates the analytical properties for the deep link</p>
</li>
<li>
<p>Used for <a href="#create-deep-link">Create deep link</a> and <a href="#share-deep-link">Share deep link</a></p>
</li>
<li>
<p>Uses <a href="../../../pages/links/integrate/#configure-deep-links">Configure link data</a> and custom data</p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">lp</span><span class="p">:</span> <span class="n">BranchLinkProperties</span> <span class="p">=</span> <span class="n">BranchLinkProperties</span><span class="p">()</span>
<span class="n">lp</span><span class="p">.</span><span class="n">channel</span> <span class="p">=</span> <span class="s">&quot;facebook&quot;</span>
<span class="n">lp</span><span class="p">.</span><span class="n">feature</span> <span class="p">=</span> <span class="s">&quot;sharing&quot;</span>
<span class="n">lp</span><span class="p">.</span><span class="n">campaign</span> <span class="p">=</span> <span class="s">&quot;content 123 launch&quot;</span>
<span class="n">lp</span><span class="p">.</span><span class="n">stage</span> <span class="p">=</span> <span class="s">&quot;new user&quot;</span>
<span class="n">lp</span><span class="p">.</span><span class="n">tags</span> <span class="p">=</span> <span class="p">[</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">]</span>

<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;$desktop_url&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;http://example.com/desktop&quot;</span><span class="p">)</span>
<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;$ios_url&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;http://example.com/ios&quot;</span><span class="p">)</span>
<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;$ipad_url&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;http://example.com/ios&quot;</span><span class="p">)</span>
<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;$android_url&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;http://example.com/android&quot;</span><span class="p">)</span>
<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;$match_duration&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;2000&quot;</span><span class="p">)</span>

<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;custom_data&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;yes&quot;</span><span class="p">)</span>
<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;look_at&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;this&quot;</span><span class="p">)</span>
<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;nav_to&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;over here&quot;</span><span class="p">)</span>
<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;random&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="n">UUID</span><span class="p">.</span><span class="kd">init</span><span class="p">().</span><span class="n">uuidString</span><span class="p">)</span>
</pre></div>

</li>
<li>
<p><em>Objective-C</em></p>
<div class="codehilite"><pre><span></span><span class="n">BranchLinkProperties</span> <span class="o">*</span><span class="n">lp</span> <span class="o">=</span> <span class="p">[[</span><span class="n">BranchLinkProperties</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
<span class="n">lp</span><span class="p">.</span><span class="n">feature</span> <span class="o">=</span> <span class="s">@&quot;facebook&quot;</span><span class="p">;</span>
<span class="n">lp</span><span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="s">@&quot;sharing&quot;</span><span class="p">;</span>
<span class="n">lp</span><span class="p">.</span><span class="n">campaign</span> <span class="o">=</span> <span class="s">@&quot;content 123 launch&quot;</span><span class="p">;</span>
<span class="n">lp</span><span class="p">.</span><span class="n">stage</span> <span class="o">=</span> <span class="s">@&quot;new user&quot;</span><span class="p">;</span>
<span class="n">lp</span><span class="p">.</span><span class="n">tags</span> <span class="o">=</span> <span class="l">@[</span><span class="s">@&quot;one&quot;</span><span class="p">,</span> <span class="s">@&quot;two&quot;</span><span class="p">,</span> <span class="s">@&quot;three&quot;</span><span class="l">]</span><span class="p">;</span>

<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;$desktop_url&quot;</span> <span class="nl">withValue</span><span class="p">:</span> <span class="s">@&quot;http://example.com/desktop&quot;</span><span class="p">];</span>
<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;$ios_url&quot;</span> <span class="nl">withValue</span><span class="p">:</span> <span class="s">@&quot;http://example.com/ios&quot;</span><span class="p">];</span>
<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;$ipad_url&quot;</span> <span class="nl">withValue</span><span class="p">:</span> <span class="s">@&quot;http://example.com/ios&quot;</span><span class="p">];</span>
<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;$android_url&quot;</span> <span class="nl">withValue</span><span class="p">:</span> <span class="s">@&quot;http://example.com/android&quot;</span><span class="p">];</span>
<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;$match_duration&quot;</span> <span class="nl">withValue</span><span class="p">:</span> <span class="s">@&quot;2000&quot;</span><span class="p">];</span>

<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;custom_data&quot;</span> <span class="nl">withValue</span><span class="p">:</span> <span class="s">@&quot;yes&quot;</span><span class="p">];</span>
<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;look_at&quot;</span> <span class="nl">withValue</span><span class="p">:</span> <span class="s">@&quot;this&quot;</span><span class="p">];</span>
<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;nav_to&quot;</span> <span class="nl">withValue</span><span class="p">:</span> <span class="s">@&quot;over here&quot;</span><span class="p">];</span>
<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;random&quot;</span> <span class="nl">withValue</span><span class="p">:</span> <span class="p">[[</span><span class="bp">NSUUID</span> <span class="n">UUID</span><span class="p">]</span> <span class="n">UUIDString</span><span class="p">]];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="create-deep-link">Create deep link<a class="headerlink" href="#create-deep-link" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Generates a deep link within your app</p>
</li>
<li>
<p>Needs a <a href="#create-content-reference">Create content reference</a></p>
</li>
<li>
<p>Needs a <a href="#create-link-reference">Create link reference</a></p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/links">Branch Dashboard</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">buo</span><span class="p">.</span><span class="n">getShortUrl</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">lp</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
  <span class="bp">print</span><span class="p">(</span><span class="n">url</span> <span class="p">??</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><em>Objective-C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[</span><span class="n">buo</span> <span class="nl">getShortUrlWithLinkProperties</span><span class="p">:</span><span class="n">lp</span> <span class="nl">andCallback</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSString</span><span class="o">*</span> <span class="n">url</span><span class="p">,</span> <span class="bp">NSError</span><span class="o">*</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;@&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="share-deep-link">Share deep link<a class="headerlink" href="#share-deep-link" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Will generate a Branch deep link and tag it with the channel the user selects</p>
</li>
<li>
<p>Needs a <a href="#create-content-reference">Create content reference</a></p>
</li>
<li>
<p>Needs a <a href="#create-link-reference">Create link reference</a></p>
</li>
<li>
<p>Uses <a href="../../../pages/links/integrate/">Deep Link Properties</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">message</span> <span class="p">=</span> <span class="s">&quot;Check out this link&quot;</span>
<span class="n">buo</span><span class="p">.</span><span class="n">showShareSheet</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">lp</span><span class="p">,</span> <span class="n">andShareText</span><span class="p">:</span> <span class="n">message</span><span class="p">,</span> <span class="n">from</span><span class="p">:</span> <span class="kc">self</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">activityType</span><span class="p">,</span> <span class="n">completed</span><span class="p">)</span> <span class="k">in</span>
  <span class="bp">print</span><span class="p">(</span><span class="n">activityType</span> <span class="p">??</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[</span><span class="n">buo</span> <span class="nl">showShareSheetWithLinkProperties</span><span class="p">:</span><span class="n">lp</span> <span class="nl">andShareText</span><span class="p">:</span><span class="s">@&quot;Super amazing thing I want to share!&quot;</span> <span class="nl">fromViewController</span><span class="p">:</span><span class="nb">self</span> <span class="nl">completion</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSString</span><span class="o">*</span> <span class="n">activityType</span><span class="p">,</span> <span class="kt">BOOL</span> <span class="n">completed</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;finished presenting&quot;</span><span class="p">);</span>
<span class="p">}];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="read-deep-link">Read deep link<a class="headerlink" href="#read-deep-link" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Retrieve Branch data from a deep link</p>
</li>
<li>
<p>Best practice to receive data from the <code>listener</code> (to prevent a race condition)</p>
</li>
<li>
<p>Returns <a href="../../../pages/links/integrate/#read-deep-links">deep link properties</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// listener (within AppDelegate didFinishLaunchingWithOptions)</span>
<span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">initSession</span><span class="p">(</span><span class="n">launchOptions</span><span class="p">:</span> <span class="n">launchOptions</span><span class="p">)</span> <span class="p">{</span> <span class="n">params</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="bp">print</span><span class="p">(</span><span class="n">params</span> <span class="k">as</span><span class="p">?</span> <span class="p">[</span><span class="nb">String</span><span class="p">:</span> <span class="nb">AnyObject</span><span class="p">]</span> <span class="p">??</span> <span class="p">{})</span>
<span class="p">}</span>

<span class="c1">// latest</span>
<span class="kd">let</span> <span class="nv">sessionParams</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">getLatestReferringParams</span><span class="p">()</span>

<span class="c1">// first</span>
<span class="kd">let</span> <span class="nv">installParams</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">getFirstReferringParams</span><span class="p">()</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">initSessionWithLaunchOptions</span><span class="p">:</span><span class="n">launchOptions</span>
                        <span class="nl">andRegisterDeepLinkHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">params</span><span class="p">,</span>
                                                     <span class="bp">NSError</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//Referring params</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Referring link params %@&quot;</span><span class="p">,</span><span class="n">params</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}];</span>

<span class="c1">// latest</span>
<span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">sessionParams</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="n">getLatestReferringParams</span><span class="p">];</span>

<span class="c1">// first</span>
<span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">installParams</span> <span class="o">=</span>  <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="n">getFirstReferringParams</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="navigate-to-content">Navigate to content<a class="headerlink" href="#navigate-to-content" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Handled within <code>Branch.initSession()</code></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// within AppDelegate application.didFinishLaunchingWithOptions</span>
<span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">initSession</span><span class="p">(</span><span class="n">launchOptions</span><span class="p">:</span> <span class="n">launchOptions</span><span class="p">)</span> <span class="p">{</span> <span class="n">params</span> <span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="c1">// Option 1: read deep link data</span>
  <span class="k">guard</span> <span class="kd">let</span> <span class="nv">data</span> <span class="p">=</span> <span class="n">params</span> <span class="k">as</span><span class="p">?</span> <span class="p">[</span><span class="nb">String</span><span class="p">:</span> <span class="nb">AnyObject</span><span class="p">]</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>

  <span class="c1">// Option 2: save deep link data to global model</span>
  <span class="n">SomeCustomClass</span><span class="p">.</span><span class="n">sharedInstance</span><span class="p">.</span><span class="n">branchData</span> <span class="p">=</span> <span class="n">data</span>

  <span class="c1">// Option 3: display data</span>
  <span class="kd">let</span> <span class="nv">alert</span> <span class="p">=</span> <span class="bp">UIAlertController</span><span class="p">(</span><span class="n">title</span><span class="p">:</span> <span class="s">&quot;Deep link data&quot;</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="s">&quot;</span><span class="si">\(</span><span class="n">data</span><span class="si">)</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">preferredStyle</span><span class="p">:</span> <span class="p">.</span><span class="n">alert</span><span class="p">)</span>
  <span class="n">alert</span><span class="p">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">UIAlertAction</span><span class="p">(</span><span class="n">title</span><span class="p">:</span> <span class="s">&quot;Okay&quot;</span><span class="p">,</span> <span class="n">style</span><span class="p">:</span> <span class="p">.</span><span class="k">default</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="kc">nil</span><span class="p">))</span>
  <span class="kc">self</span><span class="p">.</span><span class="n">window</span><span class="p">?.</span><span class="n">rootViewController</span><span class="p">?.</span><span class="n">present</span><span class="p">(</span><span class="n">alert</span><span class="p">,</span> <span class="n">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="n">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

  <span class="c1">// Option 4: navigate to view controller</span>
  <span class="k">guard</span> <span class="kd">let</span> <span class="nv">options</span> <span class="p">=</span> <span class="n">data</span><span class="p">[</span><span class="s">&quot;nav_to&quot;</span><span class="p">]</span> <span class="k">as</span><span class="p">?</span> <span class="nb">String</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
  <span class="k">switch</span> <span class="n">options</span> <span class="p">{</span>
      <span class="k">case</span> <span class="s">&quot;landing_page&quot;</span><span class="p">:</span> <span class="kc">self</span><span class="p">.</span><span class="n">window</span><span class="p">?.</span><span class="n">rootViewController</span><span class="p">?.</span><span class="n">present</span><span class="p">(</span> <span class="n">SecondViewController</span><span class="p">(),</span> <span class="n">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="n">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
      <span class="k">case</span> <span class="s">&quot;tutorial&quot;</span><span class="p">:</span> <span class="kc">self</span><span class="p">.</span><span class="n">window</span><span class="p">?.</span><span class="n">rootViewController</span><span class="p">?.</span><span class="n">present</span><span class="p">(</span> <span class="n">SecondViewController</span><span class="p">(),</span> <span class="n">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="n">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
      <span class="k">case</span> <span class="s">&quot;content&quot;</span><span class="p">:</span> <span class="kc">self</span><span class="p">.</span><span class="n">window</span><span class="p">?.</span><span class="n">rootViewController</span><span class="p">?.</span><span class="n">present</span><span class="p">(</span> <span class="n">SecondViewController</span><span class="p">(),</span> <span class="n">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="n">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
      <span class="k">default</span><span class="p">:</span> <span class="k">break</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// within AppDelegate application.didFinishLaunchingWithOptions</span>
<span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">initSessionWithLaunchOptions</span><span class="p">:</span><span class="n">launchOptions</span> <span class="nl">andRegisterDeepLinkHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">params</span><span class="p">,</span> <span class="bp">NSError</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Option 1: read deep link data</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>

  <span class="c1">// Option 2: save deep link data to global model</span>
  <span class="bp">NSUserDefaults</span> <span class="o">*</span><span class="n">defaults</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSUserDefaults</span> <span class="n">standardUserDefaults</span><span class="p">];</span>
  <span class="p">[</span><span class="n">defaults</span> <span class="nl">setObject</span><span class="p">:</span><span class="n">params</span><span class="p">.</span><span class="n">description</span> <span class="nl">forKey</span><span class="p">:</span><span class="s">@&quot;BranchData&quot;</span><span class="p">];</span>
  <span class="p">[</span><span class="n">defaults</span> <span class="n">synchronize</span><span class="p">];</span>

  <span class="c1">// Option 3: display data</span>
  <span class="bp">UIAlertController</span> <span class="o">*</span> <span class="n">alert</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIAlertController</span> <span class="nl">alertControllerWithTitle</span><span class="p">:</span><span class="s">@&quot;Title&quot;</span> <span class="nl">message</span><span class="p">:</span><span class="n">params</span><span class="p">.</span><span class="n">description</span> <span class="nl">preferredStyle</span><span class="p">:</span><span class="n">UIAlertControllerStyleAlert</span><span class="p">];</span>
  <span class="bp">UIAlertAction</span> <span class="o">*</span><span class="n">button</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIAlertAction</span> <span class="nl">actionWithTitle</span><span class="p">:</span><span class="s">@&quot;Deep Link Data&quot;</span> <span class="nl">style</span><span class="p">:</span><span class="n">UIAlertActionStyleDefault</span> <span class="nl">handler</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>
  <span class="p">[</span><span class="n">alert</span> <span class="nl">addAction</span><span class="p">:</span><span class="n">button</span><span class="p">];</span>
  <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span> <span class="nl">presentViewController</span><span class="p">:</span><span class="n">alert</span> <span class="nl">animated</span><span class="p">:</span><span class="nb">YES</span> <span class="nl">completion</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>

  <span class="c1">// Option 4: navigate to view controller</span>
  <span class="k">if</span> <span class="p">([</span><span class="n">params</span> <span class="nl">objectForKey</span><span class="p">:</span><span class="s">@&quot;navHere&quot;</span><span class="p">])</span> <span class="p">{</span>
    <span class="n">ViewController</span> <span class="o">*</span><span class="n">anotherViewController</span> <span class="o">=</span> <span class="p">[[</span><span class="n">ViewController</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithNibName</span><span class="p">:</span><span class="s">@&quot;anotherViewController&quot;</span> <span class="nl">bundle</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>
    <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span> <span class="nl">presentViewController</span><span class="p">:</span><span class="n">anotherViewController</span> <span class="nl">animated</span><span class="p">:</span><span class="nb">YES</span> <span class="nl">completion</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="display">Display<a class="headerlink" href="#display" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>List content on <code>iOS Spotlight</code></p>
</li>
<li>
<p>Needs a <a href="#create-content-reference">Create content reference</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">buo</span><span class="p">.</span><span class="n">automaticallyListOnSpotlight</span> <span class="p">=</span> <span class="kc">true</span>
</pre></div>

</li>
<li>
<p><em>Objective-C</em></p>
<div class="codehilite"><pre><span></span><span class="n">buo</span><span class="p">.</span><span class="n">automaticallyListOnSpotlight</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="track-content">Track content<a class="headerlink" href="#track-content" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Track how many times a piece of content is viewed</p>
</li>
<li>
<p>Needs a <a href="#create-content-reference">Create content reference</a></p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/content">Branch Dashboard</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">buo</span><span class="p">.</span><span class="n">registerView</span><span class="p">()</span>
</pre></div>

</li>
<li>
<p><em>Objective-C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[</span><span class="n">buo</span> <span class="nl">userCompletedAction</span><span class="p">:</span><span class="n">BNCRegisterViewEvent</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="track-users">Track users<a class="headerlink" href="#track-users" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Sets the identity of a user (email, ID, UUID, etc) for events, deep links, and referrals</p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/identities">Branch Dashboard</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// login</span>
<span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">setIdentity</span><span class="p">(</span><span class="s">&quot;your_user_id&quot;</span><span class="p">)</span>

<span class="c1">// logout</span>
<span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">logout</span><span class="p">()</span>
</pre></div>

</li>
<li>
<p><em>Objective-C</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// login</span>
<span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">setIdentity</span><span class="p">:</span><span class="s">@&quot;your_user_id&quot;</span><span class="p">];</span>

<span class="c1">// logout</span>
<span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="n">logout</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="track-events">Track events<a class="headerlink" href="#track-events" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Registers a custom event</p>
</li>
<li>
<p>Events named <code>open</code>, <code>close</code>, <code>install</code>, and <code>referred session</code> are Branch restricted</p>
</li>
<li>
<p>Best to <a href="#track-users">Track users</a> before <a href="#track-events">Track events</a> to associate a custom event to a user</p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/events">Branch Dashboard</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// option 1</span>
<span class="kd">let</span> <span class="nv">action</span> <span class="p">=</span> <span class="s">&quot;signup&quot;</span>
<span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">userCompletedAction</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>

<span class="c1">// option 2</span>
<span class="kd">let</span> <span class="nv">metadata</span><span class="p">:</span> <span class="p">[</span><span class="nb">String</span><span class="p">:</span> <span class="nb">Any</span><span class="p">]</span> <span class="p">=</span> <span class="p">[</span>
  <span class="s">&quot;custom_dictionary&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
  <span class="s">&quot;anything&quot;</span><span class="p">:</span> <span class="s">&quot;everything&quot;</span>
<span class="p">]</span>
<span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">userCompletedAction</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">withState</span><span class="p">:</span> <span class="n">metadata</span><span class="p">)</span>
</pre></div>

</li>
<li>
<p><em>Objective-C</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// option 1</span>
<span class="bp">NSString</span> <span class="o">*</span><span class="n">action</span> <span class="o">=</span> <span class="s">@&quot;signup&quot;</span><span class="p">;</span>
<span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">userCompletedAction</span><span class="p">:</span><span class="n">action</span><span class="p">];</span>

<span class="c1">// option 2</span>
<span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">metadata</span> <span class="o">=</span> <span class="l">@{</span><span class="s">@&quot;custom_dictionary&quot;</span><span class="o">:</span><span class="mi">@123</span><span class="p">,</span> <span class="s">@&quot;anything&quot;</span><span class="o">:</span> <span class="s">@&quot;everything&quot;</span><span class="l">}</span><span class="p">;</span>
<span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">userCompletedAction</span><span class="p">:</span><span class="n">action</span> <span class="nl">withState</span><span class="p">:</span><span class="n">metadata</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="track-commerce">Track commerce<a class="headerlink" href="#track-commerce" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Registers a custom commerce event</p>
</li>
<li>
<p>Uses <a href="#commerce-properties">Track commerce properties</a> for <code>Currency</code> and <code>Category</code></p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/commerce">Branch Dashboard</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// only revenue is required</span>
<span class="kd">let</span> <span class="nv">commerceEvent</span> <span class="p">=</span> <span class="n">BNCCommerceEvent</span><span class="p">.</span><span class="kd">init</span><span class="p">()</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">affiliation</span> <span class="p">=</span> <span class="s">&quot;affiliation&quot;</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">coupon</span> <span class="p">=</span> <span class="s">&quot;coupon&quot;</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">currency</span> <span class="p">=</span> <span class="s">&quot;USD&quot;</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">transactionID</span> <span class="p">=</span> <span class="s">&quot;transactionID&quot;</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">shipping</span> <span class="p">=</span> <span class="mf">11.22</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">revenue</span> <span class="p">=</span> <span class="mf">99.99</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">tax</span> <span class="p">=</span> <span class="mf">4.42</span>

<span class="c1">// optional</span>
<span class="kd">let</span> <span class="nv">product1</span> <span class="p">=</span> <span class="n">BNCProduct</span><span class="p">.</span><span class="kd">init</span><span class="p">()</span>
<span class="n">product1</span><span class="p">.</span><span class="n">sku</span> <span class="p">=</span> <span class="s">&quot;sku1&quot;</span>
<span class="n">product1</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">&quot;name1&quot;</span>
<span class="n">product1</span><span class="p">.</span><span class="n">price</span> <span class="p">=</span> <span class="mf">11.11</span>
<span class="n">product1</span><span class="p">.</span><span class="n">quantity</span> <span class="p">=</span> <span class="mi">1</span>
<span class="n">product1</span><span class="p">.</span><span class="n">brand</span> <span class="p">=</span> <span class="s">&quot;brand1&quot;</span>
<span class="n">product1</span><span class="p">.</span><span class="n">category</span> <span class="p">=</span> <span class="s">&quot;category1&quot;</span>
<span class="n">product1</span><span class="p">.</span><span class="n">variant</span> <span class="p">=</span> <span class="s">&quot;variant1&quot;</span>

<span class="c1">// optional</span>
<span class="kd">let</span> <span class="nv">product2</span> <span class="p">=</span> <span class="n">BNCProduct</span><span class="p">.</span><span class="kd">init</span><span class="p">()</span>
<span class="n">product2</span><span class="p">.</span><span class="n">sku</span> <span class="p">=</span> <span class="s">&quot;sku2&quot;</span>
<span class="n">product2</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">&quot;name2&quot;</span>
<span class="n">product2</span><span class="p">.</span><span class="n">price</span> <span class="p">=</span> <span class="mf">22.22</span>
<span class="n">product2</span><span class="p">.</span><span class="n">quantity</span> <span class="p">=</span> <span class="mi">2</span>
<span class="n">product2</span><span class="p">.</span><span class="n">brand</span> <span class="p">=</span> <span class="s">&quot;brand2&quot;</span>
<span class="n">product2</span><span class="p">.</span><span class="n">category</span> <span class="p">=</span> <span class="s">&quot;category2&quot;</span>
<span class="n">product2</span><span class="p">.</span><span class="n">variant</span> <span class="p">=</span> <span class="s">&quot;variant2&quot;</span>

<span class="n">commerceEvent</span><span class="p">.</span><span class="n">products</span> <span class="p">=</span> <span class="p">[</span><span class="n">product1</span><span class="p">,</span> <span class="n">product2</span><span class="p">]</span>

<span class="c1">// optional</span>
<span class="kd">let</span> <span class="nv">metadata</span><span class="p">:</span> <span class="p">[</span><span class="nb">String</span><span class="p">:</span> <span class="nb">Any</span><span class="p">]</span> <span class="p">=</span> <span class="p">[</span>
  <span class="s">&quot;custom_dictionary&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
  <span class="s">&quot;anything&quot;</span><span class="p">:</span> <span class="s">&quot;everything&quot;</span>
<span class="p">]</span>

<span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">send</span><span class="p">(</span><span class="n">commerceEvent</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">withCompletion</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
  <span class="bp">print</span><span class="p">(</span><span class="n">response</span> <span class="p">??</span> <span class="p">{})</span>
<span class="p">})</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span> <span class="c1">// only revenue is required</span>
<span class="n">BNCCommerceEvent</span> <span class="o">*</span><span class="n">commerceEvent</span> <span class="o">=</span> <span class="p">[</span><span class="n">BNCCommerceEvent</span> <span class="n">new</span><span class="p">];</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">affiliation</span> <span class="o">=</span> <span class="s">@&quot;affiliation&quot;</span><span class="p">;</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">coupon</span> <span class="o">=</span> <span class="s">@&quot;coupon&quot;</span><span class="p">;</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">currency</span> <span class="o">=</span> <span class="s">@&quot;USD&quot;</span><span class="p">;</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">transactionID</span> <span class="o">=</span> <span class="s">@&quot;transactionID&quot;</span><span class="p">;</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">shipping</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSDecimalNumber</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFloat</span><span class="p">:</span><span class="mf">11.22</span><span class="p">];</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">revenue</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSDecimalNumber</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFloat</span><span class="p">:</span><span class="mf">99.99</span><span class="p">];</span>
<span class="n">commerceEvent</span><span class="p">.</span><span class="n">tax</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSDecimalNumber</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFloat</span><span class="p">:</span><span class="mf">4.2</span><span class="p">];;</span>

<span class="c1">// optional</span>
<span class="n">BNCProduct</span> <span class="o">*</span><span class="n">product1</span> <span class="o">=</span> <span class="p">[</span><span class="n">BNCProduct</span> <span class="n">new</span><span class="p">];</span>
<span class="n">product1</span><span class="p">.</span><span class="n">sku</span> <span class="o">=</span> <span class="s">@&quot;sku1&quot;</span><span class="p">;</span>
<span class="n">product1</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;name1&quot;</span><span class="p">;</span>
<span class="n">product1</span><span class="p">.</span><span class="n">price</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSDecimalNumber</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFloat</span><span class="p">:</span><span class="mf">11.11</span><span class="p">];</span>
<span class="n">product1</span><span class="p">.</span><span class="n">quantity</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSDecimalNumber</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFloat</span><span class="p">:</span><span class="mf">1.0</span><span class="p">];</span>
<span class="n">product1</span><span class="p">.</span><span class="n">brand</span> <span class="o">=</span> <span class="s">@&quot;brand1&quot;</span><span class="p">;</span>
<span class="n">product1</span><span class="p">.</span><span class="n">category</span> <span class="o">=</span> <span class="s">@&quot;category1&quot;</span><span class="p">;</span>
<span class="n">product1</span><span class="p">.</span><span class="n">variant</span> <span class="o">=</span> <span class="s">@&quot;variant1&quot;</span><span class="p">;</span>

<span class="c1">// optional</span>
<span class="n">BNCProduct</span> <span class="o">*</span><span class="n">product2</span> <span class="o">=</span> <span class="p">[</span><span class="n">BNCProduct</span> <span class="n">new</span><span class="p">];</span>
<span class="n">product2</span><span class="p">.</span><span class="n">sku</span> <span class="o">=</span> <span class="s">@&quot;sku2&quot;</span><span class="p">;</span>
<span class="n">product2</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;name2&quot;</span><span class="p">;</span>
<span class="n">product2</span><span class="p">.</span><span class="n">price</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSDecimalNumber</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFloat</span><span class="p">:</span><span class="mf">22.22</span><span class="p">];</span>
<span class="n">product2</span><span class="p">.</span><span class="n">quantity</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSDecimalNumber</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFloat</span><span class="p">:</span><span class="mf">2.0</span><span class="p">];</span>
<span class="n">product2</span><span class="p">.</span><span class="n">brand</span> <span class="o">=</span> <span class="s">@&quot;brand2&quot;</span><span class="p">;</span>
<span class="n">product2</span><span class="p">.</span><span class="n">category</span> <span class="o">=</span> <span class="s">@&quot;category2&quot;</span><span class="p">;</span>
<span class="n">product2</span><span class="p">.</span><span class="n">variant</span> <span class="o">=</span> <span class="s">@&quot;variant2&quot;</span><span class="p">;</span>

<span class="n">commerceEvent</span><span class="p">.</span><span class="n">products</span> <span class="o">=</span> <span class="l">@[</span><span class="n">product1</span><span class="p">,</span> <span class="n">product2</span><span class="l">]</span><span class="p">;</span>

<span class="c1">// optional</span>
<span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">metadata</span> <span class="o">=</span> <span class="l">@{</span><span class="s">@&quot;custom_dictionary&quot;</span><span class="o">:</span><span class="mi">@123</span><span class="p">,</span>
                       <span class="s">@&quot;anything&quot;</span><span class="o">:</span> <span class="s">@&quot;everything&quot;</span><span class="l">}</span><span class="p">;</span>

<span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">sendCommerceEvent</span><span class="p">:</span><span class="n">commerceEvent</span> <span class="nl">metadata</span><span class="p">:</span><span class="n">metadata</span>
                     <span class="nl">withCompletion</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="bp">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span><span class="n">response</span><span class="p">);</span>
<span class="p">}];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="handle-referrals">Handle referrals<a class="headerlink" href="#handle-referrals" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Referral points are obtained from referral rules on the <a href="https://dashboard.branch.io/referrals/rules">Branch Dashboard</a></p>
</li>
<li>
<p>Validate on the <a href="https://dashboard.branch.io/referrals/analytics">Branch Dashboard</a></p>
</li>
<li>
<p>Reward credits</p>
<ul>
<li><a href="../../../pages/dashboard/analytics/#referrals">Referral guide</a></li>
</ul>
</li>
<li>
<p>Redeem credits</p>
<ul>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// option 1 (default bucket)</span>
<span class="kd">let</span> <span class="nv">amount</span> <span class="p">=</span> <span class="mi">5</span>
<span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">redeemRewards</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>

<span class="c1">// option 2</span>
<span class="kd">let</span> <span class="nv">bucket</span> <span class="p">=</span> <span class="s">&quot;signup&quot;</span>
<span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">redeemRewards</span><span class="p">(</span><span class="n">amount</span><span class="p">,</span> <span class="n">forBucket</span><span class="p">:</span> <span class="n">bucket</span><span class="p">)</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// option 1 (default bucket)</span>
<span class="n">NSInteger</span> <span class="n">amount</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">redeemRewards</span><span class="p">:</span><span class="n">amount</span><span class="p">];</span>

<span class="c1">// option 2</span>
<span class="bp">NSString</span> <span class="o">*</span><span class="n">bucket</span> <span class="o">=</span> <span class="s">@&quot;signup&quot;</span><span class="p">;</span>
<span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">redeemRewards</span><span class="p">:</span><span class="n">amount</span> <span class="nl">forBucket</span><span class="p">:</span><span class="n">bucket</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<p>Load credits</p>
<ul>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">loadRewards</span> <span class="p">{</span> <span class="p">(</span><span class="n">changed</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
  <span class="c1">// option 1 (defualt bucket)</span>
  <span class="kd">let</span> <span class="nv">credits</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">getCredits</span><span class="p">()</span>

  <span class="c1">// option 2</span>
  <span class="kd">let</span> <span class="nv">bucket</span> <span class="p">=</span> <span class="s">&quot;signup&quot;</span>
  <span class="kd">let</span> <span class="nv">credits</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">getCreditsForBucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">loadRewardsWithCallback</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="kt">BOOL</span> <span class="n">changed</span><span class="p">,</span> <span class="bp">NSError</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">changed</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// option 1 (defualt bucket)</span>
    <span class="n">NSInteger</span> <span class="n">credits</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="n">getCredits</span><span class="p">];</span>

    <span class="c1">// option 2</span>
    <span class="bp">NSString</span> <span class="o">*</span><span class="n">bucket</span> <span class="o">=</span> <span class="s">@&quot;signup&quot;</span><span class="p">;</span>
    <span class="n">NSInteger</span> <span class="n">credit</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">getCreditsForBucket</span><span class="p">:</span><span class="n">bucket</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<p>Load history</p>
<ul>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">getCreditHistory</span> <span class="p">{</span> <span class="p">(</span><span class="n">creditHistory</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
   <span class="bp">print</span><span class="p">(</span><span class="n">creditHistory</span> <span class="p">??</span> <span class="p">{})</span>
 <span class="p">}</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">getCreditHistoryWithCallback</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSArray</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">creditHistory</span><span class="p">,</span> <span class="bp">NSError</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span><span class="n">creditHistory</span><span class="p">);</span>
<span class="p">}];</span>
</pre></div>

</li>
</ul>
</li>
</ul>
</li>
<li>
<h3 id="handle-push-notifications">Handle push notifications<a class="headerlink" href="#handle-push-notifications" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Allows you to track Branch deep links in your push notifications</p>
</li>
<li>
<p>Include the Branch push notification handler in <a href="#initialize-branch">Initialize Branch</a></p>
</li>
<li>
<p>Add a Branch deep link in your push notification  <code>payload</code></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;aps&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;alert&quot;</span><span class="p">:</span> <span class="s2">&quot;Push notification with a Branch deep link&quot;</span><span class="p">,</span>
    <span class="nt">&quot;badge&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
  <span class="p">},</span>
<span class="hll">  <span class="nt">&quot;branch&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example.app.link/u3fzDwyyjF&quot;</span>
</span><span class="p">}</span>
</pre></div>

<ul>
<li>Replace <code>https://example.app.link/u3fzDwyyjF</code> with your deep link</li>
</ul>
</li>
<li>
<p>Read deep link data from <code>initSession</code> <a href="#initialize-branch">Initialize Branch</a> (<a href="../../../img/pages/apps/ios-example.png">example</a>)</p>
</li>
</ul>
</li>
<li>
<h3 id="handle-links-in-your-own-app">Handle links in your own app<a class="headerlink" href="#handle-links-in-your-own-app" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Allows you to deep link into your own from your app itself</p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">handleDeepLink</span><span class="p">(</span><span class="n">withNewSession</span><span class="p">:</span> <span class="n">URL</span><span class="p">(</span><span class="n">string</span><span class="p">:</span> <span class="s">&quot;https://example.app.link/u3fzDwyyjF&quot;</span><span class="p">))</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">handleDeepLinkWithNewSession</span><span class="p">:[</span><span class="bp">NSURL</span> <span class="nl">URLWithString</span><span class="p">:</span><span class="s">@&quot;https://example.app.link/u3fzDwyyjF&quot;</span><span class="p">]];</span>
</pre></div>

</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Handling a new deep link in your app will clear the current session data and a new referred "open" will be attributed.</p>
</div>
<ul>
<li>
<h3 id="track-apple-search-ads">Track Apple Search Ads<a class="headerlink" href="#track-apple-search-ads" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Allows Branch to track Apple Search Ads deep linking analytics</p>
</li>
<li>
<p>Analytics from Apple's API have been slow which will make our analytics lower. Additionally, Apple's API does not send us all the data of an ad every time which will make ads tracked by us to show a generic campaign sometimes.</p>
</li>
<li>
<p>Add before <code>initSession</code> <a href="#initialize-branch">Initialize Branch</a></p>
<ul>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">delayInitToCheckForSearchAds</span><span class="p">()</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="n">delayInitToCheckForSearchAds</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<p>Test with fake campaign params (do not test in production)</p>
<ul>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">setAppleSearchAdsDebugMode</span><span class="p">()</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="n">setAppleSearchAdsDebugMode</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
</ul>
</li>
<li>
<h3 id="enable-100-matching">Enable 100% matching<a class="headerlink" href="#enable-100-matching" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Use the <code>SFSafariViewController</code> to increase the attribution matching success</p>
</li>
<li>
<p>The 100% match is a bit of a misnomer, as it is only 100% match from when a user clicks from the Safari browser. According to our analysis, clicking through Safari happens about 50-75% of the time depending on the use case. For example, clicking from Facebook, Gmail or Chrome won’t trigger a 100% match here. However, it’s still beneficial to the matching accuracy, so we recommend employing it.</p>
</li>
<li>
<p>When using a custom domain, add a <code>branch_app_domain</code> string key in your Info.plist with your custom domain
to enable 100% matching.</p>
</li>
<li>
<p>By default, cookie-based matching is enabled on iOS 9 and 10 if the <code>SafariServices.framework</code>
is included in an app's dependencies, and the app uses an app.link subdomain or sets the <code>branch_app_domain</code>
in the Info.plist. It can be disabled with a call to the SDK.</p>
</li>
<li>
<p>Add before <code>initSession</code> <a href="#initialize-branch">Initialize Branch</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">disableCookieBasedMatching</span><span class="p">()</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="n">disableCookieBasedMatching</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
</ul>
<h2 id="troubleshoot-issues">Troubleshoot issues<a class="headerlink" href="#troubleshoot-issues" title="Permanent link">&para;</a></h2>
<ul>
<li>
<h3 id="submitting-to-the-app-store">Submitting to the App Store<a class="headerlink" href="#submitting-to-the-app-store" title="Permanent link">&para;</a></h3>
<ul>
<li>Need to select <code>app uses IDFA or GAID</code> when publishing your app (for better deep link matching)</li>
</ul>
</li>
<li>
<h3 id="app-not-opening">App not opening<a class="headerlink" href="#app-not-opening" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Double check <a href="#integrate-branch">Integrate Branch</a></p>
</li>
<li>
<p>Investigate if the device disabled universal links (<a href="##re-enable-universal-linking">Re-enable universal linking</a>)</p>
</li>
<li>
<p>Investigate if it is a link related issue (<a href="../pages/links/integrate/#deep-links-do-not-open-app">Deep links do not open app</a>)</p>
</li>
<li>
<p>Use <a href="https://branch.io/resources/universal-links/">Universal links validator</a></p>
</li>
<li>
<p>Use <a href="https://branch.io/resources/aasa-validator/">AASA validator</a></p>
</li>
<li>
<p>Use <a href="#test-deep-link">Test deep link</a></p>
</li>
</ul>
</li>
<li>
<h3 id="app-not-passing-data">App not passing data<a class="headerlink" href="#app-not-passing-data" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>See if issue is related to <a href="#app-not-opening">App not opening</a></p>
</li>
<li>
<p>Investigate Branch console logs (<a href="#enable-logging">Enable logging</a>)</p>
</li>
</ul>
</li>
<li>
<h3 id="simulate-an-install">Simulate an install<a class="headerlink" href="#simulate-an-install" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Delete your app</p>
</li>
<li>
<p>iPhone Device -&gt; Settings -&gt; Privacy -&gt; Advertising -&gt; Reset Advertising Identifier -&gt; Reset Identifier</p>
</li>
<li>
<p>Add <code>Branch.setDebug(true)</code> before <code>initSession</code> (<a href="#initialize-branch-features">Initialize Branch Features</a>)</p>
</li>
<li>
<p>Click on a deep link to navigate to your <code>$fallback_url</code> because your app is not installed</p>
</li>
<li>
<p>Install your app</p>
</li>
<li>
<p>Open your app</p>
</li>
<li>
<p>Read from <code>params</code> within <code>initSession</code> for <code>+is_first_session = true</code></p>
</li>
</ul>
</li>
<li>
<h3 id="deep-links-are-long">Deep links are long<a class="headerlink" href="#deep-links-are-long" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Happens whenever the app cannot make a connection to the Branch servers</p>
</li>
<li>
<p>The long deep links will still open the app and pass data</p>
</li>
</ul>
</li>
<li>
<h3 id="sample-apps">Sample apps<a class="headerlink" href="#sample-apps" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="https://github.com/BranchMetrics/ios-branch-deep-linking/tree/master/Branch-TestBed-Swift">Swift testbed</a></p>
</li>
<li>
<p><a href="https://github.com/BranchMetrics/ios-branch-deep-linking/tree/master/Branch-TestBed">Objective C testbed</a></p>
</li>
</ul>
</li>
<li>
<h3 id="track-content-properties">Track content properties<a class="headerlink" href="#track-content-properties" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Used for <a href="#track-content">Track content</a></p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>BNCRegisterViewEvent</td>
<td>User viewed the object</td>
</tr>
<tr>
<td>BNCAddToWishlistEvent</td>
<td>User added the object to their wishlist</td>
</tr>
<tr>
<td>BNCAddToCartEvent</td>
<td>User added object to cart</td>
</tr>
<tr>
<td>BNCPurchaseInitiatedEvent</td>
<td>User started to check out</td>
</tr>
<tr>
<td>BNCPurchasedEvent</td>
<td>User purchased the item</td>
</tr>
<tr>
<td>BNCShareInitiatedEvent</td>
<td>User started to share the object</td>
</tr>
<tr>
<td>BNCShareCompletedEvent</td>
<td>User completed a share</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<h3 id="enable-logging">Enable logging<a class="headerlink" href="#enable-logging" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Use the Branch test key instead of the live key</p>
</li>
<li>
<p>Add before <code>initSession</code> <a href="#initialize-branch">Initialize Branch</a></p>
</li>
<li>
<p>Remove before releasing to production</p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">setDebug</span><span class="p">()</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="n">setDebug</span><span class="p">];</span>
</pre></div>

</li>
<li>
<p>Make sure <code>OS_ACTIVITY_MODE</code> is not disabled (<a href="https://stackoverflow.com/a/39503602/2690774">link</a>)</p>
</li>
</ul>
</li>
<li>
<h3 id="use-test-key">Use test key<a class="headerlink" href="#use-test-key" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Use the Branch <code>test key</code> instead of the <code>live key</code></p>
</li>
<li>
<p>Add before <code>initSession</code> <a href="#initialize-branch">Initialize Branch</a></p>
</li>
<li>
<p>Update <code>branch_key</code> in your <code>Info.plist</code> to a dictionary (<a href="https://github.com/BranchMetrics/ios-branch-deep-linking/blob/master/Branch-TestBed/Branch-TestBed/Branch-TestBed-Info.plist#L58-L63">example</a>)</p>
</li>
<li>
<p>The <code>test key</code> of your app must match the <code>test key</code> of your deep link</p>
</li>
<li>
<p>Remove before releasing to production</p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span><span class="p">.</span><span class="n">setUseTestBranchKey</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[</span><span class="n">Branch</span> <span class="nl">setUseTestBranchKey</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="re-enable-universal-linking">Re-enable universal linking<a class="headerlink" href="#re-enable-universal-linking" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Apple allows users to disable universal linking on a per app per device level on iOS 9 and iOS 10 (fixed in iOS 11)</p>
</li>
<li>
<p>Use <a href="#test-deep-link">Test deep link</a> to re-enable universal linking on the device</p>
</li>
</ul>
</li>
<li>
<h3 id="deep-link-routing-with-a-branch-viewcontroller">Deep link routing with a Branch ViewController<a class="headerlink" href="#deep-link-routing-with-a-branch-viewcontroller" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Add before <code>initSession</code> <a href="#initialize-branch">Initialize Branch</a></p>
</li>
<li>
<p>Recommend to <a href="#navigate-to-content">Navigate to content</a> instead</p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">registerDeepLinkController</span><span class="p">(</span><span class="n">ViewController</span><span class="p">(),</span> <span class="n">forKey</span><span class="p">:</span> <span class="s">&quot;my-key&quot;</span><span class="p">,</span> <span class="n">withPresentation</span><span class="p">:</span> <span class="p">.</span><span class="n">optionShow</span><span class="p">)</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">registerDeepLinkController</span><span class="p">:</span><span class="n">customViewController</span> <span class="nl">forKey</span><span class="p">:</span><span class="s">@&quot;my-key&quot;</span><span class="nl">withPresentation</span><span class="p">:</span><span class="n">BNCViewControllerOptionShow</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="determine-if-deep-link-is-from-branch-without-network">Determine if deep link is from Branch without network<a class="headerlink" href="#determine-if-deep-link-is-from-branch-without-network" title="Permanent link">&para;</a></h3>
<ul>
<li>Use for Universal Linking if you want to get the <code>true/false</code> response from <code>Branch.getInstance().continue(userActivity)</code> within <code>continueUserActivity</code> without a Branch network call</li>
<li>Use only if you have a custom link domain</li>
<li>
<p>Add <code>branch_universal_link_domains</code> to your <code>info.plist</code> with an array of your link domain from your <a href="https://dashboard.branch.io/settings/link">Branch Dashboard</a></p>
<p><img alt="image" src="../../../img/pages/apps/ios-link-domains.png" /></p>
</li>
</ul>
</li>
<li>
<h3 id="share-to-email-options">Share to email options<a class="headerlink" href="#share-to-email-options" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Change the way your deep links behave when shared to email</p>
</li>
<li>
<p>Needs a <a href="#share-deep-link">Share deep link</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;$email_subject&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;Therapists hate him.&quot;</span><span class="p">)</span>
<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;$email_html_header&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;&lt;style&gt;your awesome CSS&lt;/style&gt;</span><span class="se">\n</span><span class="s">Or Dear Friend,&quot;</span><span class="p">)</span>
<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;$email_html_footer&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;Thanks!&quot;</span><span class="p">)</span>
<span class="n">lp</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;$email_html_link_text&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;Tap here&quot;</span><span class="p">)</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;$email_subject&quot;</span> <span class="nl">withValue</span><span class="p">:</span><span class="s">@&quot;This one weird trick.&quot;</span><span class="p">];</span>
<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;$email_html_header&quot;</span> <span class="nl">withValue</span><span class="p">:</span><span class="s">@&quot;&lt;style&gt;your awesome CSS&lt;/style&gt;</span><span class="se">\n</span><span class="s">Or Dear Friend,&quot;</span><span class="p">];</span>
<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;$email_html_footer&quot;</span> <span class="nl">withValue</span><span class="p">:</span><span class="s">@&quot;Thanks!&quot;</span><span class="p">];</span>
<span class="p">[</span><span class="n">lp</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;$email_html_link_text&quot;</span> <span class="nl">withValue</span><span class="p">:</span><span class="s">@&quot;Tap here&quot;</span><span class="p">];</span>
</pre></div>

</li>
</ul>
</li>
<li>
<h3 id="share-message-dynamically">Share message dynamically<a class="headerlink" href="#share-message-dynamically" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Change the message you share based on the source the users chooses</p>
</li>
<li>
<p>Needs a <a href="#share-deep-link">Share deep link</a></p>
</li>
<li>
<p><em>Swift 3</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// import delegate</span>
<span class="kd">class</span> <span class="nc">ViewController</span><span class="p">:</span> <span class="bp">UITableViewController</span><span class="p">,</span> <span class="n">BranchShareLinkDelegate</span>

<span class="kd">func</span> <span class="nf">branchShareLinkWillShare</span><span class="p">(</span><span class="kc">_</span> <span class="n">shareLink</span><span class="p">:</span> <span class="n">BranchShareLink</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// choose shareSheet.activityType</span>
  <span class="n">shareLink</span><span class="p">.</span><span class="n">shareText</span> <span class="p">=</span> <span class="s">&quot;</span><span class="si">\(</span><span class="n">shareLink</span><span class="p">.</span><span class="n">linkProperties</span><span class="p">.</span><span class="n">channel</span><span class="si">)</span><span class="s">&quot;</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="c1">// import delegate</span>
<span class="k">@interface</span> <span class="nc">ViewController</span> <span class="p">()</span> <span class="o">&lt;</span><span class="n">BranchShareLinkDelegate</span><span class="o">&gt;</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nl">branchShareLinkWillShare</span><span class="p">:(</span><span class="n">BranchShareLink</span><span class="o">*</span><span class="p">)</span><span class="n">shareLink</span> <span class="p">{</span>
  <span class="c1">// choose shareSheet.activityType</span>
  <span class="n">shareLink</span><span class="p">.</span><span class="n">shareText</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSString</span> <span class="nl">stringWithFormat</span><span class="p">:</span><span class="s">@&quot;@%&quot;</span><span class="p">,</span> <span class="n">shareLink</span><span class="p">.</span><span class="n">linkProperties</span><span class="p">.</span><span class="n">channel</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>

</li>
</ul>
</li>
</ul>
                
                  
                
              
              
                
                  <h2 id="__comments">Comments</h2>
                  <div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = "https://docs.branch.io/pages/apps/ios/";
    this.page.identifier =
      "/pages/apps/ios/";
  };
  (function() {
    var d = document, s = d.createElement("script");
    s.src = "//branch-docs.disqus.com/embed.js";
    s.setAttribute("data-timestamp", +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
                
              
            </article>
          </div>
        </div>
      </main>
      
        
        
      
      
        <div class="modals">
          <div id="modal-search" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content" id="algolia-search-container">
              <i class="material-icons modal-close right">close</i>
              <h2>Search</h2>
              <input type="text" placeholder="search docs..." id="algolia-doc-search" autofocus>
            </div>
          </div>
          <div id="modal-unhelpful" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Unhelpful?</h2>
              <p>How can we improve or assist you?</p>
              <a href="#" class="improve-doc" title="Improve This Doc">Improve this doc</a>
              <a href="#" class="contact-support" title="Contact support">Contact support</a>
            </div>
          </div>
          <div id="modal-choose-app" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Choose your app</h2>
              <button type="button">iOS</button>
              <button type="button">Android</button>
              <button type="button">Cordova Ionic PhoneGap</button>
              <button type="button">React Native</button>
            </div>
          </div>
          <div id="modal-helpful" class="modal notification">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Thank you</h2>
            </div>
          </div>
          <div id="modal-image" class="modal dialog image">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Image</h2>
              <a id="modal-image-link" href="#">
                <img id="modal-image-img">
              </a>
            </div>
          </div>
          <div id="modal-code" class="modal dialog code">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Select your platform</h2>
              <div class="flex">
                <button id="modal-code-ios">iOS</button>
                <button id="modal-code-android">Android</button>
              </div>
              <div class="flex">
                <button id="modal-code-adobe">Adobe AIR</button>
                <button id="modal-code-cordova">Cordova PhoneGap Ionic</button>
              </div>
              <div class="flex">
                <button id="modal-code-mparticle-android">mParticle Android</button>
                <button id="modal-code-mparticle-ios">mParticle iOS</button>
              </div>
              <div class="flex">
                <button id="modal-code-titanium">Titanium</button>
                <button id="modal-code-react">React Native</button>
              </div>
              <div class="flex">
                <button id="modal-code-unity">Unity</button>
                <button id="modal-code-xamarin">Xamarin</button>
              </div>
            </div>
          </div>
        </div>
      
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="https://branch.io">Branch</a>
          </div>
        
        All rights reserved
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://branch.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/branchmetrics/docs" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/branchmetrics" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.facebook.com/branchmetrics" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.linkedin.com/company-beta/3813083" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application-26aeb842c9.js"></script>
      <script>app.initialize({url:{base:"../../.."}})</script>
      
        <script src="../../../js/router.js"></script>
      
        <script src="../../../js/events.js"></script>
      
        <script src="../../../js/modals.js"></script>
      
        <script src="../../../js/images.js"></script>
      
        <script src="../../../js/buttons.js"></script>
      
        <script src="../../../js/progress.js"></script>
      
        <script src="../../../js/tabs.js"></script>
      
        <script src="../../../js/languages.js"></script>
      
        <script src="../../../js/utils.js"></script>
      
        <script src="../../../js/main.js"></script>
      
      
        <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
        <script>docsearch({apiKey:"887017d17a2c1e9490ad2c44caa7e817",indexName:"branchmetrics",inputSelector:"#algolia-doc-search",debug:"True",algoliaOptions:{hitsPerPage:"15"}})</script>
      
    
  </body>
</html>