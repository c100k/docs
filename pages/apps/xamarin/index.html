
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Branch documentation for mobile deep linking">
      
      
        <link rel="canonical" href="https://docs.branch.io/pages/apps/xamarin/">
      
      
        <meta name="author" content="Branch">
      
      
        <link rel="shortcut icon" href="../../../img/favicon-96x96.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.10.1">
    
    
      
        <title>Xamarin - Branch documentation</title>
      
    
    
      <script src="../../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <style>.async-hide{opacity:0!important}</style>
      <script>!function(e,n,t,a,o,c,i,s,m){n.className+=" "+t,c.start=1*new Date,c.end=i=function(){n.className=n.className.replace(RegExp(" ?"+t),"")},(e[a]=e[a]||[]).hide=c,setTimeout(function(){i(),c.end=null},o),c.timeout=o}(window,document.documentElement,"async-hide","dataLayer",1e3,{"GTM-PCPBXCN":!0})</script>
    
    
      <script>!function(e,t){if(!t.__SV){var n=window;try{var i,a,p,o=n.location,r=o.hash;i=function(e,t){return(a=e.match(RegExp(t+"=([^&]*)")))?a[1]:null},r&&i(r,"state")&&(p=JSON.parse(decodeURIComponent(i(r,"state"))),"mpeditor"===p.action&&(n.sessionStorage.setItem("_mpcehash",r),history.replaceState(p.desiredHash||"",e.title,o.pathname+o.search)))}catch(e){}var l,s;window.mixpanel=t,t._i=[],t.init=function(e,n,i){function a(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var p=t;for("undefined"!=typeof i?p=t[i]=[]:i="mixpanel",p.people=p.people||[],p.toString=function(e){var t="mixpanel";return"mixpanel"!==i&&(t+="."+i),e||(t+=" (stub)"),t},p.people.toString=function(){return p.toString(1)+".people (stub)"},l="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),s=0;s<l.length;s++)a(p,l[s]);t._i.push([e,n,i])},t.__SV=1.2,n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",i=e.getElementsByTagName("script")[0],i.parentNode.insertBefore(n,i)}}(document,window.mixpanel||[]),mixpanel.init("47ec8ea9ac102b1370221dcda476091c")</script>
    
    
      <script>function getCookie(e){var i="; "+document.cookie,t=i.split("; "+e+"=");if(t.length>=2)return t.pop().split(";").shift()}function setCookie(e,i,t){var o=new Date;o=new Date(o.getTime()+864e5*t),document.cookie=e+"="+i+"; expires="+o.toGMTString()+"; path=/; domain=.branch.io"}var returning_visitor=getCookie("bnc_returning_visitor"),page_url=window.location.host+window.location.pathname;setCookie("bnc_returning_visitor","1",30),function(e,i,t,o,n,a,r){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,a=i.createElement(t),r=i.getElementsByTagName(t)[0],a.async=1,a.src=o,r.parentNode.insertBefore(a,r)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-53307642-1","auto"),ga("require","GTM-PCPBXCN"),ga("send","pageview"),ga("require","linkid","linkid.js"),returning_visitor||ga("set","dimension1",page_url)</script>
    
    
      <script>!function(e,t,n,o,c,a,f){e.fbq||(c=e.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},e._fbq||(e._fbq=c),c.push=c,c.loaded=!0,c.version="2.0",c.queue=[],a=t.createElement(n),a.async=!0,a.src=o,f=t.getElementsByTagName(n)[0],f.parentNode.insertBefore(a,f))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","1040694199304729"),fbq("track","PageView")</script>
      <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1040694199304729&ev=PageView&noscript=1"></noscript>
    
    
      <script>_linkedin_data_partner_id="21211",function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",e.parentNode.insertBefore(t,e)}()</script>
    
    
      <script src="//cdn.bizible.com/scripts/bizible.js" async></script>
    
    
      <script>!function(e,n,s,t,a){var c=n.createElement(s),d=n.getElementsByTagName(s)[0];c.async=1,c.id=a,c.src=t,d.parentNode.insertBefore(c,d)}(window,document,"script","https://scripts.demandbase.com/ucA8pUay.min.js","demandbase_js_lib")</script>
    
    
      <script>!function(){function e(){n===!1&&(n=!0,Munchkin.init("315-FTT-121",{domainLevel:2}))}var n=!1,t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//munchkin.marketo.net/munchkin.js",t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||e()},t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)}()</script>
    
    
      <script>!function(e,t,n,o,c,p){e.qp||(o=e.qp=function(){o.qp?o.qp.apply(o,arguments):o.queue.push(arguments)},o.queue=[],c=document.createElement(t),c.async=!0,c.src=n,p=document.getElementsByTagName(t)[0],p.parentNode.insertBefore(c,p))}(window,"script","https://a.quora.com/qevents.js"),qp("init","247e840cafa44cae9ac4b50a0cc1965a"),qp("track","ViewContent")</script>
      <noscript><img height="1" width="1" style="display:none" src="https://q.quora.com/_/ad/247e840cafa44cae9ac4b50a0cc1965a/pixel?tag=ViewContent&noscript=1"></noscript>
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css">
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application-a20f419c8e.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-23f75ab9c7.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../../css/main.css">
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.branch.io" title="Branch documentation" class="md-header-nav__button md-logo">
          
            
              <img src="../../../img/logo.svg">
            
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <a href="https://docs.branch.io" title="Branch documentation">
            <div class="branch-header-subtitle">&nbsp;|&nbsp;Docs</div>
          </a>
        </div>
      
      
        <div class="md-flex__cell md-flex__cell--stretch">
          <span class="md-flex__ellipsis md-header-nav__title">
            
              
                
                  <span class="md-header-nav__parent">
                    Configure your app
                  </span>
                
              
              Xamarin
            
          </span>
        </div>
      
      
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-helpful" id="header-helpful" title="Helpful">
            <i class="branch-header-icon md-icon material-icons">thumb_up</i>
            <p class="branch-header-label">Helpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-unhelpful" id="header-unhelpful" title="Unhelpful">
            <i class="branch-header-icon md-icon material-icons">thumb_down</i>
            <p class="branch-header-label">Unhelpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="improve-doc" title="Improve This Doc">
            <i class="branch-header-icon md-icon material-icons">mode_edit</i>
            <p class="branch-header-label">Improve</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="contact-support" title="Contact support">
            <i class="branch-header-icon md-icon material-icons">help_outline</i>
            <p class="branch-header-label">Support</p>
          </a>
        </div>
      
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <a href="#dialog-search" id="header-search" title="Search">
              <label class="md-icon md-icon--search md-header-nav__button"></label>
              
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      
        <i class="branch-header-search md-icon material-icons">search</i>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
            </a>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        
          <img src="../../../img/logo.svg">
        
      
    </div>
    Branch documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/branchmetrics/docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Branch documentation
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../.." title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

      
    
      
      
      
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic integration
          </li>
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../dashboard/integrate/" title="Configure your dashboard" class="md-nav__link">
      Configure your dashboard
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Configure your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Configure your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../ios/" title="iOS" class="md-nav__link">
      iOS
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../cordova-phonegap-ionic/" title="Cordova PhoneGap Ionic" class="md-nav__link">
      Cordova PhoneGap Ionic
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../mparticle-android/" title="mParticle Android" class="md-nav__link">
      mParticle Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../mparticle-ios/" title="mParticle iOS" class="md-nav__link">
      mParticle iOS
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../titanium/" title="Titanium" class="md-nav__link">
      Titanium
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../react-native/" title="React Native" class="md-nav__link">
      React Native
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../unity/" title="Unity" class="md-nav__link">
      Unity
    </a>
  </li>

          
        
          
            
            
            

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Xamarin
      </label>
    
    <a href="./" title="Xamarin" class="md-nav__link md-nav__link--active">
      Xamarin
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#integrate-branch" title="Integrate Branch" class="md-nav__link">
    Integrate Branch
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-branch" title="Configure Branch" class="md-nav__link">
    Configure Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-branch" title="Install Branch" class="md-nav__link">
    Install Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-app" title="Configure app" class="md-nav__link">
    Configure app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-branch" title="Initialize Branch" class="md-nav__link">
    Initialize Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-branch-with-xamarin-forms" title="Configure Branch with Xamarin Forms" class="md-nav__link">
    Configure Branch with Xamarin Forms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-deep-link-ios" title="Test deep link iOS" class="md-nav__link">
    Test deep link iOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-deep-link-android" title="Test deep link Android" class="md-nav__link">
    Test deep link Android
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implement-features" title="Implement features" class="md-nav__link">
    Implement features
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-content-reference" title="Create content reference" class="md-nav__link">
    Create content reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-deep-link" title="Create deep link" class="md-nav__link">
    Create deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#share-deep-link" title="Share deep link" class="md-nav__link">
    Share deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-deep-link" title="Read deep link" class="md-nav__link">
    Read deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-users" title="Track users" class="md-nav__link">
    Track users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-events" title="Track events" class="md-nav__link">
    Track events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-commerce" title="Track commerce" class="md-nav__link">
    Track commerce
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-referrals" title="Handle referrals" class="md-nav__link">
    Handle referrals
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshoot-issues" title="Troubleshoot issues" class="md-nav__link">
    Troubleshoot issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unable-to-add-branch-required-nuget-packages-to-the-c-project" title="Unable to add Branch-required NuGet packages to the C# project" class="md-nav__link">
    Unable to add Branch-required NuGet packages to the C# project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android-app-fails-to-build-with-linking-errors" title="Android app fails to build with linking errors" class="md-nav__link">
    Android app fails to build with linking errors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploying-ios-app-to-device-fails-with-provisioning-profile-erros-after-changing-entitlements" title="Deploying iOS app to device fails with Provisioning Profile erros after changing entitlements" class="md-nav__link">
    Deploying iOS app to device fails with Provisioning Profile erros after changing entitlements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-apps" title="Sample apps" class="md-nav__link">
    Sample apps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Configure your deep linking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Configure your deep linking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/universal-links/" title="iOS Universal Links" class="md-nav__link">
      iOS Universal Links
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/android-app-links/" title="Android App Links" class="md-nav__link">
      Android App Links
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/routing/" title="In-app deep link routing" class="md-nav__link">
      In-app deep link routing
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Launch your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Launch your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../ios-launch/" title="Apple App Store" class="md-nav__link">
      Apple App Store
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../android-launch/" title="Google Play" class="md-nav__link">
      Google Play
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../web/integrate/" title="Configure your website" class="md-nav__link">
      Configure your website
    </a>
  </li>

      
    
      
      
      
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic usage
          </li>
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../links/integrate/" title="Create deep links" class="md-nav__link">
      Create deep links
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Track analytics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Track analytics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/analytics/" title="Dashboard analytics" class="md-nav__link">
      Dashboard analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/unified-analytics/" title="New Dashboard Analytics" class="md-nav__link">
      New Dashboard Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/timezone/" title="Time zone support" class="md-nav__link">
      Time zone support
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Advanced usage
          </li>
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Links on your website
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Links on your website
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/deep-views/" title="Deepviews" class="md-nav__link">
      Deepviews
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/journeys/" title="Journeys App Banners" class="md-nav__link">
      Journeys App Banners
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/amp-journeys/" title="AMP Journeys" class="md-nav__link">
      AMP Journeys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/text-me-the-app/" title="Text Me The App" class="md-nav__link">
      Text Me The App
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/hosted-data/" title="Hosted Deep Link Data" class="md-nav__link">
      Hosted Deep Link Data
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Links in your paid ads
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Links in your paid ads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/dynamic-product-feeds/" title="Dynamic Product Feeds" class="md-nav__link">
      Dynamic Product Feeds
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/branch-universal-ads/" title="Branch Universal Ads" class="md-nav__link">
      Branch Universal Ads
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/apple/" title="Apple Search" class="md-nav__link">
      Apple Search
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/doubleclick/" title="Doubleclick" class="md-nav__link">
      Doubleclick
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-ads-overview/" title="Google" class="md-nav__link">
      Google
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/facebook-ads-overview/" title="Facebook" class="md-nav__link">
      Facebook
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/twitter/" title="Twitter" class="md-nav__link">
      Twitter
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Links in your emails
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Links in your emails
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/get-started/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/amazon-ses/" title="Amazon SES" class="md-nav__link">
      Amazon SES
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/betaout/" title="Betaout" class="md-nav__link">
      Betaout
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/blueshift/" title="Blueshift" class="md-nav__link">
      Blueshift
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/braze/" title="Braze (formerly Appboy)" class="md-nav__link">
      Braze (formerly Appboy)
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/bronto/" title="Bronto" class="md-nav__link">
      Bronto
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/campaign-monitor/" title="Campaign Monitor" class="md-nav__link">
      Campaign Monitor
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/epsilon/" title="Epsilon" class="md-nav__link">
      Epsilon
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/kahuna/" title="Kahuna" class="md-nav__link">
      Kahuna
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/leanplum/" title="Leanplum" class="md-nav__link">
      Leanplum
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mailgun/" title="Mailgun" class="md-nav__link">
      Mailgun
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mailjet/" title="Mailjet" class="md-nav__link">
      Mailjet
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mandrill/" title="Mandrill" class="md-nav__link">
      Mandrill
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/postup/" title="PostUp" class="md-nav__link">
      PostUp
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/responsys/" title="Responsys" class="md-nav__link">
      Responsys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sailthru/" title="Sailthru" class="md-nav__link">
      Sailthru
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/salesforce/" title="Salesforce" class="md-nav__link">
      Salesforce
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sendgrid/" title="SendGrid" class="md-nav__link">
      SendGrid
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sparkpost/" title="SparkPost" class="md-nav__link">
      SparkPost
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/vero/" title="Vero" class="md-nav__link">
      Vero
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/zeta/" title="Zeta" class="md-nav__link">
      Zeta
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/support/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/self-serve/" title="Self Serve" class="md-nav__link">
      Self Serve
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../advance/push-notifications/" title="Links in push notifications" class="md-nav__link">
      Links in push notifications
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Links in organic search
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Links in organic search
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/firebase/" title="Firebase App Indexing" class="md-nav__link">
      Firebase App Indexing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/spotlight/" title="Spotlight Search" class="md-nav__link">
      Spotlight Search
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/branch-seo/" title="General SEO Compatibility" class="md-nav__link">
      General SEO Compatibility
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Links for viral & referral
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Links for viral & referral
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/content-sharing/" title="Content sharing" class="md-nav__link">
      Content sharing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/referrals/" title="Referral programs" class="md-nav__link">
      Referral programs
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/facebook-app-invites/" title="Facebook App Invites" class="md-nav__link">
      Facebook App Invites
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Links in new app platforms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        Links in new app platforms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../app-to-app/android-instant-apps/" title="Android Instant Apps" class="md-nav__link">
      Android Instant Apps
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../app-to-app/imessage-apps/" title="iMessage Apps" class="md-nav__link">
      iMessage Apps
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Export Branch data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Export Branch data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16-1" type="checkbox" id="nav-16-1">
    
    <label class="md-nav__link" for="nav-16-1">
      Data Feeds
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-16-1">
        Data Feeds
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/data-feeds/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16-1-2" type="checkbox" id="nav-16-1-2">
    
    <label class="md-nav__link" for="nav-16-1-2">
      Data Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-16-1-2">
        Data Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/data-integrations/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adobe-analytics/" title="Adobe Analytics" class="md-nav__link">
      Adobe Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adjust/" title="Adjust" class="md-nav__link">
      Adjust
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/amplitude/" title="Amplitude" class="md-nav__link">
      Amplitude
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appmetrica/" title="AppMetrica" class="md-nav__link">
      AppMetrica
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appboy/" title="Braze" class="md-nav__link">
      Braze
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appsflyer/" title="Appsflyer" class="md-nav__link">
      Appsflyer
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/clevertap/" title="CleverTap" class="md-nav__link">
      CleverTap
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/fabric-answers/" title="Fabric Answers" class="md-nav__link">
      Fabric Answers
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/google-analytics/" title="Google Analytics" class="md-nav__link">
      Google Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/kochava/" title="Kochava" class="md-nav__link">
      Kochava
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/localytics/" title="Localytics" class="md-nav__link">
      Localytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/mixpanel/" title="Mixpanel" class="md-nav__link">
      Mixpanel
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/mparticle/" title="mParticle" class="md-nav__link">
      mParticle
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/segment/" title="Segment" class="md-nav__link">
      Segment
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/tune/" title="Tune" class="md-nav__link">
      Tune
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/api-v3/" title="Data Export API" class="md-nav__link">
      Data Export API
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/ua-webhooks/" title="Webhooks" class="md-nav__link">
      Webhooks
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/query-api/" title="Query API" class="md-nav__link">
      Query API
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/query-recipe-book/" title="Query Recipe Book" class="md-nav__link">
      Query Recipe Book
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/matching/" title="Branch Matching Overview" class="md-nav__link">
      Branch Matching Overview
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Resources
          </li>
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/validation-tools/" title="Validation Tools" class="md-nav__link">
      Validation Tools
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/case-studies/" title="Case Studies and Infographics" class="md-nav__link">
      Case Studies and Infographics
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#integrate-branch" title="Integrate Branch" class="md-nav__link">
    Integrate Branch
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-branch" title="Configure Branch" class="md-nav__link">
    Configure Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-branch" title="Install Branch" class="md-nav__link">
    Install Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-app" title="Configure app" class="md-nav__link">
    Configure app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-branch" title="Initialize Branch" class="md-nav__link">
    Initialize Branch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-branch-with-xamarin-forms" title="Configure Branch with Xamarin Forms" class="md-nav__link">
    Configure Branch with Xamarin Forms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-deep-link-ios" title="Test deep link iOS" class="md-nav__link">
    Test deep link iOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-deep-link-android" title="Test deep link Android" class="md-nav__link">
    Test deep link Android
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implement-features" title="Implement features" class="md-nav__link">
    Implement features
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-content-reference" title="Create content reference" class="md-nav__link">
    Create content reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-deep-link" title="Create deep link" class="md-nav__link">
    Create deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#share-deep-link" title="Share deep link" class="md-nav__link">
    Share deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-deep-link" title="Read deep link" class="md-nav__link">
    Read deep link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-users" title="Track users" class="md-nav__link">
    Track users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-events" title="Track events" class="md-nav__link">
    Track events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#track-commerce" title="Track commerce" class="md-nav__link">
    Track commerce
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-referrals" title="Handle referrals" class="md-nav__link">
    Handle referrals
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshoot-issues" title="Troubleshoot issues" class="md-nav__link">
    Troubleshoot issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unable-to-add-branch-required-nuget-packages-to-the-c-project" title="Unable to add Branch-required NuGet packages to the C# project" class="md-nav__link">
    Unable to add Branch-required NuGet packages to the C# project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android-app-fails-to-build-with-linking-errors" title="Android app fails to build with linking errors" class="md-nav__link">
    Android app fails to build with linking errors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploying-ios-app-to-device-fails-with-provisioning-profile-erros-after-changing-entitlements" title="Deploying iOS app to device fails with Provisioning Profile erros after changing entitlements" class="md-nav__link">
    Deploying iOS app to device fails with Provisioning Profile erros after changing entitlements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-apps" title="Sample apps" class="md-nav__link">
    Sample apps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/branchmetrics/docs/edit/master/src/pages/apps/xamarin.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Xamarin</h1>
                
                <h2 id="integrate-branch">Integrate Branch<a class="headerlink" href="#integrate-branch" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Inconsistent Universal links behavior on iOS 11.2</p>
<p>After updating a device to iOS 11.2, we found that the app's AASA file is no longer downloaded reliably onto your user’s device after an app install. As a result, clicking on Universal links will no longer open the app consistenly. You can set <a href="../../../pages/links/integrate/#forced-redirections">forced uri redirect mode</a> on your Branch links to open the app with URI schemes. View details of the issue on the <a href="http://www.openradar.me/radar?id=4999496467480576">Apple Bug report</a>.</p>
</div>
<ul>
<li>
<h3 id="configure-branch">Configure Branch<a class="headerlink" href="#configure-branch" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Complete your <a href="https://dashboard.branch.io/settings/link">Branch Dashboard</a></p>
<p><img alt="image" src="../../../img/pages/apps/cordova-configure.png" />
<img alt="image" src="../../../img/pages/apps/cordova-link-domain.png" /></p>
</li>
</ul>
</li>
<li>
<h3 id="install-branch">Install Branch<a class="headerlink" href="#install-branch" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Nuget</strong></p>
<p>The Branch Xamarin SDK is available as a NuGet package. The <a href="https://www.nuget.org/packages/Branch-Xamarin-Linking-SDK">Branch NuGet package</a> must be added to each of the Xamarin projects that will use Branch methods.</p>
<p>To add the Branch NuGet package to a project:</p>
<ol>
<li>Right-click on each project and select <code>Add</code> &gt; <code>Add NuGet Packages</code></li>
<li>If not already present, find the <em>Microsoft BCL Build Components</em> package version 1.0.21 and add it to the project</li>
<li>Find the <em>Branch Xamarin SDK</em> package version 3.0 and add it to the project</li>
</ol>
</li>
<li>
<p><strong>Manually</strong></p>
<p>If, instead of using NuGet, you would rather build and reference the Branch assemblies directly:</p>
<ol>
<li>Clone this repository to the local machine: <code>https://github.com/BranchMetrics/xamarin-branch-deep-linking.git</code></li>
<li>Add the <code>Branch-Xamarin-SDK</code> project to the solution and reference it from the Android, iOS and Forms (if applicable) projects</li>
<li>Add the <code>Branch-Xamarin-SDK.Droid</code> project to the solution and reference it from the Android project, if any</li>
<li>Add the <code>Branch-Xamarin-SDK.iOS</code> project and reference it from the iOS project, if any</li>
</ol>
</li>
</ul>
</li>
<li>
<h3 id="configure-app">Configure app<a class="headerlink" href="#configure-app" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>iOS</strong></p>
<ul>
<li>
<p><strong>Create an Apple device Provisioning Profile for the app</strong></p>
<ol>
<li>Open Xcode and create a new project with the same name as your Xamarin iOS project</li>
<li>On the Xcode project's <strong>General</strong> tab, verify the app's case-sensitive Bundle Identifier is correct and select the appropriate Team (be sure to resolve any errors here)</li>
<li>Select the <strong>Capabilities</strong> tab and enable the <strong>Associated Domains</strong> entitlement</li>
<li>Create 'applinks:' entries for the Branch link domain and the alternate link domain (the link domain can be found at the bottom of the Branch dashboard's <a href="https://dashboard.branch.io/#/settings/link">Link Settings</a> page). For example, the entries for an app with the default link domain 'testiosapp.app.link' would be:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>applinks:testiosapp.app.link</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>applinks:testiosapp-alternate.app.link</code></li>
<li>Use Xcode to run this newly-created app on an iOS device. This will create and install a Provisioning Profile with the proper entitlements on that device.</li>
<li>Close Xcode</li>
</ol>
</li>
<li>
<p><strong>Enter the app's settings on the Branch dashboard</strong></p>
<ol>
<li>On the <a href="https://dashboard.branch.io/#/settings/link">Link Settings</a> page, check the <strong>I have an iOS App</strong> checkbox</li>
<li>Enter the app's URI Scheme in the <strong>iOS URI Scheme</strong> field (for an app with the URI Scheme <em>testbed-xamarin</em>, for example, the entry would be: <code>testbed-xamarin://</code>)</li>
<li>Enter the app's Apple Store name in the <strong>Apple Store Search</strong> field (if the app is not yet available on the App Store select <strong>Custom URL</strong> and enter as a placeholder the URL of an appropriate web site - the exact site does not matter)</li>
<li>Check the <strong>Enable Universal Links</strong> checkbox</li>
<li>Enter the app's case-sensitive Bundle Identifier and Apple App Prefix as shown on the <a href="https://developer.apple.com/account/ios/identifier/bundle">Apple Developer Portal</a></li>
</ol>
</li>
<li>
<p><strong>Configure the Xamarin project's Info.plist file</strong></p>
<ol>
<li>Open the <strong>Info.plist</strong> file</li>
<li>Enter the app's <strong>Bundle Identifier</strong> from the <a href="https://developer.apple.com/account/ios/identifier/bundle">Apple Developer Portal</a> in the <strong>Bundle Identifier</strong> field. <strong>IMPORTANT:</strong> this field will automatically be populated with an all-lowercase value by Xamarin. The value is in fact case sensitive and must match the value in the <a href="https://developer.apple.com/account/ios/identifier/bundle">Apple Developer Portal</a> precisely.</li>
<li>Click on the <strong>Advanced</strong> tab</li>
<li>In the <strong>URL Types</strong> section, click the <strong>Add URL Type</strong> button
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Identifier:</strong> Branch Scheme
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>URL Schemes:</strong> {the app's URI Scheme - 'testiosapp', for example}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Role:</strong> Editor</li>
</ol>
<p><img alt="image" src="../../../img/pages/apps/xamarin/ios_uri_scheme.png" /></p>
</li>
<li>
<p><strong>Configure the Xamarin project's Associated Domains entitlement</strong></p>
<ol>
<li>Open the <strong>Entitlements.plist</strong> file and browse to <strong>Associated Domains</strong></li>
<li>Create entries for both the app's link domain and its alternate link domain. The entries for the TestBed-Xamarin app would be:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>applinks:testiosapp.app.link</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>applinks:testiosapp-alternate.app.link</code></li>
</ol>
<p><img alt="image" src="../../../img/pages/apps/xamarin/ios_associated_domains.png" /></p>
</li>
<li>
<p><strong>Update the project's Signing Identity and Provisioning Profile</strong></p>
<ol>
<li>Right-click on the iOS project and select <strong>Options</strong></li>
<li>Select <strong>iOS Bundle Signing</strong></li>
<li>Set the <strong>Signing Identity</strong> and <strong>Provisioning Profile values</strong> to the values used when deploying the Provisioning Profile to the device above</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Android</strong></p>
<ul>
<li>
<p><strong>Ensure that the Android project is not using the Shared Mono Runtime</strong></p>
<ol>
<li>Right-click on the Android project and select: <strong>Options</strong></li>
<li>Select: <strong>Android Build</strong></li>
<li>On the <strong>General</strong> tab, un-check: <strong>Use Shared Mono Runtime</strong></li>
</ol>
</li>
<li>
<p><strong>Add app capabilities in the app's Manifest file</strong></p>
<p>In the <em>Required permissions</em> section of <strong>AndroidManifest.xml</strong>, configure the following permissions:</p>
<ul>
<li><em>AccessNetworkState</em></li>
<li><em>Internet</em></li>
</ul>
<p>Additional reading on the Android manifest:</p>
<ul>
<li><a href="https://developer.xamarin.com/guides/android/advanced_topics/working_with_androidmanifest.xml/">Working with android manifest.xml</a></li>
<li><a href="https://developer.xamarin.com/recipes/android/general/projects/add_permissions_to_android_manifest/">Add permissions to android manifest</a></li>
</ul>
</li>
<li>
<p><strong>Add the app's Branch key to the Strings.xml file</strong></p>
<p>Add the Branch key to the Android project's <strong>Resources/values/Strings.xml</strong> file. This file contains values that can be accessed by the app's Application class.</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;resources&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;app_name&quot;</span><span class="nt">&gt;</span>TestXamarinFormsApp<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;branch_key&quot;</span><span class="nt">&gt;</span>key_live_liAnF8k7gZUEZv76Rt9a4bffAzlC5zVW<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;/resources&gt;</span>
</pre></div>

</li>
</ul>
</li>
</ul>
</li>
<li>
<h3 id="initialize-branch">Initialize Branch<a class="headerlink" href="#initialize-branch" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>iOS</strong></p>
<p>Branch initialization occurs within the <code>FinishedLaunching</code> method of the <strong>AppDelegate.cs</strong> file. Branch calls are also required in the <code>OpenUrl</code>, <code>ContinueUserActivity</code>, and <code>ReceiveRemoteNotification</code> methods to ensure that Branch link information is handled properly whenever the app becomes active.</p>
<p>Whenever the app becomes active, the Branch SDK will reach out to the Branch back end to retrieve any available link parameters. If the app became active due to a click on a Branch link, the link data will be returned in the <code>InitSessionComplete method</code>. This is where any deep link routing logic should reside. Any error in retrieving Branch link data from the back end will returned in the <code>SessionRequestError</code> method.</p>
<div class="codehilite"><pre><span></span><span class="c1">// AppDelegate.cs</span>

<span class="k">using</span> <span class="nn">Foundation</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UIKit</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">BranchXamarinSDK</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">BranchXamarinSDK.iOS</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">TestiOSApp.iOS</span>
<span class="p">{</span>
<span class="na">    [Register(&quot;AppDelegate&quot;)]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">AppDelegate</span> <span class="p">:</span> <span class="n">UIApplicationDelegate</span><span class="p">,</span> <span class="n">IBranchBUOSessionInterface</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">override</span> <span class="n">UIWindow</span> <span class="n">Window</span>
        <span class="p">{</span>
            <span class="k">get</span><span class="p">;</span>
            <span class="k">set</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">FinishedLaunching</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">application</span><span class="p">,</span> <span class="n">NSDictionary</span> <span class="n">launchOptions</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Debug mode - set to &#39;false&#39; before releasing to production</span>
            <span class="n">BranchIOS</span><span class="p">.</span><span class="n">Debug</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
            <span class="n">BranchIOS</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="s">&quot;key_live_cgEguO4UiDJSL4HIyTu85dkkDAdz38ER&quot;</span><span class="p">,</span> <span class="n">launchOptions</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

            <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// Called when the app is opened via URI scheme</span>
        <span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">OpenUrl</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">application</span><span class="p">,</span> <span class="n">NSUrl</span> <span class="n">url</span><span class="p">,</span> <span class="kt">string</span> <span class="n">sourceApplication</span><span class="p">,</span> <span class="n">NSObject</span> <span class="n">annotation</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">BranchIOS</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">OpenUrl</span><span class="p">(</span><span class="n">url</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Called when the app is opened from a Universal Link</span>
        <span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">ContinueUserActivity</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">application</span><span class="p">,</span> <span class="n">NSUserActivity</span> <span class="n">userActivity</span><span class="p">,</span>
                      <span class="n">UIApplicationRestorationHandler</span> <span class="n">completionHandler</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">BranchIOS</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">ContinueUserActivity</span><span class="p">(</span><span class="n">userActivity</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Called when the app receives a push notification</span>
        <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">ReceivedRemoteNotification</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">application</span><span class="p">,</span> <span class="n">NSDictionary</span> <span class="n">userInfo</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">BranchIOS</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">HandlePushNotification</span><span class="p">(</span><span class="n">userInfo</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Called when the Branch initialization is completed</span>
        <span class="c1">// Put deep-linking logic in this method</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">InitSessionComplete</span><span class="p">(</span><span class="n">BranchUniversalObject</span> <span class="n">buo</span><span class="p">,</span> <span class="n">BranchLinkProperties</span> <span class="n">blp</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">NSObject</span><span class="p">[]</span> <span class="n">keys</span> <span class="p">=</span> <span class="p">{</span>
                <span class="n">NSObject</span><span class="p">.</span><span class="n">FromObject</span><span class="p">(</span><span class="s">&quot;+is_first_session&quot;</span><span class="p">)</span>
            <span class="p">};</span>

            <span class="n">NSObject</span><span class="p">[]</span> <span class="n">values</span> <span class="p">=</span> <span class="p">{</span> <span class="n">NSObject</span><span class="p">.</span><span class="n">FromObject</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">};</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">buo</span><span class="p">.</span><span class="n">metadata</span><span class="p">.</span><span class="n">ContainsKey</span><span class="p">(</span><span class="s">&quot;+is_first_session&quot;</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="n">values</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="n">NSObject</span><span class="p">.</span><span class="n">FromObject</span><span class="p">(</span><span class="n">buo</span><span class="p">.</span><span class="n">metadata</span><span class="p">[</span><span class="s">&quot;+is_first_session&quot;</span><span class="p">]);</span>
            <span class="p">}</span>

            <span class="n">NSDictionary</span> <span class="n">nsData</span> <span class="p">=</span> <span class="n">NSDictionary</span><span class="p">.</span><span class="n">FromObjectsAndKeys</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">keys</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Called when there is an error initializing Branch</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">SessionRequestError</span><span class="p">(</span><span class="n">BranchError</span> <span class="n">error</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Branch error: &quot;</span> <span class="p">+</span> <span class="n">error</span><span class="p">.</span><span class="n">ErrorCode</span><span class="p">);</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">error</span><span class="p">.</span><span class="n">ErrorMessage</span><span class="p">);</span>
        <span class="p">}</span>

    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><strong>Android</strong></p>
<ul>
<li>
<p><em><em>Create the project's *Application.cs</em> class</em>*</p>
<ol>
<li>Right-click on the .Droid project and select <strong>Add &gt; New File...</strong></li>
<li>Select: <strong>General &gt; Empty File</strong></li>
<li>Name the file: <strong>Application.cs</strong></li>
<li>Enter the following code (replace 'TestAndroidApp' with the actual name of the app):</li>
</ol>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.App</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Content</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Runtime</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">BranchXamarinSDK</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">TestAndroidApp.Droid</span>
<span class="p">{</span>
<span class="na">    [Application(AllowBackup = true, Icon = &quot;@mipmap/icon&quot;, Label = &quot;@string/app_name&quot;)]</span>
<span class="na">    [MetaData(&quot;io.branch.sdk.auto_link_disable&quot;, Value = &quot;false&quot;)]</span>
<span class="na">    [MetaData(&quot;io.branch.sdk.TestMode&quot;, Value = &quot;true&quot;)]</span>
<span class="na">    [MetaData(&quot;io.branch.sdk.BranchKey&quot;, Value = &quot;@string/branch_key&quot;)]</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">TestAndroidApp</span> <span class="p">:</span> <span class="n">Application</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">TestAndroidApp</span><span class="p">(</span><span class="n">IntPtr</span> <span class="n">javaReference</span><span class="p">,</span> <span class="n">JniHandleOwnership</span> <span class="n">transfer</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">javaReference</span><span class="p">,</span> <span class="n">transfer</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnCreate</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">base</span><span class="p">.</span><span class="n">OnCreate</span><span class="p">();</span>
            <span class="n">BranchAndroid</span><span class="p">.</span><span class="n">GetAutoInstance</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">ApplicationContext</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>io.branch.sdk.TestMode</td>
<td>Setting this parameter to <em>true</em> enables Debug Mode, which causes simple uninstall/reinstalls of the app to trigger <em>install</em> events. Be sure to disable this before deploying to production. Note that enabling Debug Mode on Android also forces the app to use the Branch <em>Test</em> key if this key has been added to the project. Apps running with a <em>Test</em> key will be unable to receive data from Branch links created with the <em>Live</em> key.</td>
</tr>
<tr>
<td>io.branch.sdk.BranchKey</td>
<td>The app's Branch key. Both a <em>Live</em> key and a <em>Test</em> key can be added to the Strings.xml file. When <em>Test</em> Mode is enabled the app will automatically use the <em>Test</em> key, if one has been specified.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>Create an activity to handle Branch events: BranchActivity</strong></p>
<ol>
<li>Right-click on the .Droid project and select <strong>Add &gt; New File...</strong></li>
<li>Select: <strong>Android &gt; Activity</strong></li>
<li>Rename the file: <strong>BranchActivity.cs</strong></li>
<li>Enter the following code (replace 'TestAndroidApp' with the actual name of the app):</li>
</ol>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Newtonsoft.Json</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">BranchXamarinSDK</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">Android.App</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Content</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.OS</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Runtime</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Views</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Widget</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">TestAndroidApp.Droid</span>
<span class="p">{</span>
<span class="na">    [Activity(Label = &quot;BranchActivity&quot;)]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">BranchActivity</span> <span class="p">:</span> <span class="n">Activity</span>

    <span class="p">{</span>
        <span class="k">private</span> <span class="kt">string</span> <span class="n">logString</span> <span class="p">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>

        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnCreate</span><span class="p">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">base</span><span class="p">.</span><span class="n">OnCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>

            <span class="n">LogMessage</span><span class="p">(</span><span class="s">&quot;Branch initialization completed: &quot;</span><span class="p">);</span>

            <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="n">data</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;&gt;(</span><span class="n">Intent</span><span class="p">.</span><span class="n">GetStringExtra</span><span class="p">(</span><span class="s">&quot;BranchData&quot;</span><span class="p">));</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">key</span> <span class="k">in</span> <span class="n">data</span><span class="p">.</span><span class="n">Keys</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">LogMessage</span><span class="p">(</span><span class="n">key</span> <span class="p">+</span> <span class="s">&quot; : &quot;</span> <span class="p">+</span> <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">].</span><span class="n">ToString</span><span class="p">());</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="cp">#region Utils</span>

        <span class="k">void</span> <span class="nf">LogMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
            <span class="n">logString</span> <span class="p">+=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">ToLongTimeString</span><span class="p">()</span> <span class="p">+</span> <span class="s">&quot;&gt; &quot;</span> <span class="p">+</span> <span class="n">message</span> <span class="p">+</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="cp">#endregion</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><strong>Create an activity to handle Branch errors: BranchErrorActivity</strong></p>
<ol>
<li>Right-click on the .Droid project and select <strong>Add &gt; New File...</strong></li>
<li>Select: <strong>Android &gt; Activity</strong></li>
<li>Rename the file: <strong>BranchErrorActivity.cs</strong></li>
<li>Enter the following code (replace 'TestAndroidApp' with the actual name of the app):</li>
</ol>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">Android.App</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Content</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.OS</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Runtime</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Views</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Widget</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">TestAndroidApp.Droid</span>
<span class="p">{</span>
<span class="na">    [Activity(Label = &quot;BranchErrorActivity&quot;)]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">BranchErrorActivity</span> <span class="p">:</span> <span class="n">Activity</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="kt">string</span> <span class="n">logString</span> <span class="p">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>

        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnCreate</span><span class="p">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">base</span><span class="p">.</span><span class="n">OnCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>

            <span class="n">LogMessage</span><span class="p">(</span><span class="s">&quot;Branch initialization failed&quot;</span><span class="p">);</span>
            <span class="n">LogMessage</span><span class="p">(</span><span class="s">&quot;Error code: &quot;</span> <span class="p">+</span> <span class="n">Intent</span><span class="p">.</span><span class="n">Extras</span><span class="p">.</span><span class="n">GetInt</span><span class="p">(</span><span class="s">&quot;ErrorCode&quot;</span><span class="p">).</span><span class="n">ToString</span><span class="p">());</span>
            <span class="n">LogMessage</span><span class="p">(</span><span class="n">Intent</span><span class="p">.</span><span class="n">Extras</span><span class="p">.</span><span class="n">GetString</span><span class="p">(</span><span class="s">&quot;ErrorMessage&quot;</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="cp">#region Utils</span>

        <span class="k">void</span> <span class="nf">LogMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
            <span class="n">logString</span> <span class="p">+=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">ToLongTimeString</span><span class="p">()</span> <span class="p">+</span> <span class="s">&quot;&gt; &quot;</span> <span class="p">+</span> <span class="n">message</span> <span class="p">+</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="cp">#endregion</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><strong>Initialize Branch and configure Branch session management</strong></p>
<p>Branch must be initilialized in the OnCreate method of either the Application class or the first Activity launched by the app. The OnNewIntent method must be added to retrieve the latest link identifier when the app becomes active due to a Branch link click.</p>
<p>Branch initializes asynchronously, with Branch link parameters being returned following a network call to Branch. If initialization is successful, the InitSessionComplete method will be invoked. If initialization is unsuccessful, the SessionRequestError method will be invoked. Deep link routing logic should be located in the InitSessionComplete method.</p>
<p>In the code example below the following Branch initialization and session management steps have been added to MainActivity.cs:</p>
<ul>
<li>An Activity to respond to the app's URI Scheme</li>
<li>An Activity is launched in <code>singleTask</code> mode</li>
<li>Override the OnCreate method and initialize the Branch SDK</li>
<li>Override the OnNewIntent method</li>
<li>Add an InitSessionComplete method for processing Branch link information (this is where deep link routing code should be located)</li>
<li>Add a SessionRequestError method to handle situations where Branch fails to initialize</li>
</ul>
<p>```csharp
using Android.App;
using Android.Widget;
using Android.OS;
using BranchXamarinSDK;
using System;
using System.Collections.Generic;
using Android.Content;
using Newtonsoft.Json;</p>
<p>namespace TestAndroidApp.Droid
{
    [Activity(Label = "TestAndroidApp", MainLauncher = true, Icon = "@mipmap/icon", LaunchMode = Android.Content.PM.LaunchMode.SingleTask)]</p>
<div class="codehilite"><pre><span></span><span class="cp">[</span><span class="nx">IntentFilter</span><span class="p">(</span><span class="nb">new</span><span class="err">[</span><span class="cp">]</span> <span class="p">{</span> <span class="err">&quot;android.intent.action.VIEW&quot;</span> <span class="p">}</span><span class="o">,</span>
<span class="nt">Categories</span> <span class="o">=</span> <span class="nt">new</span><span class="cp">[]</span> <span class="p">{</span> <span class="err">&quot;android.intent.category.DEFAULT&quot;,</span> <span class="err">&quot;android.intent.category.BROWSABLE&quot;</span> <span class="p">}</span><span class="o">,</span>
<span class="nt">DataScheme</span> <span class="o">=</span> <span class="s2">&quot;testandroidapp&quot;</span><span class="o">,</span>
<span class="nt">DataHost</span> <span class="o">=</span> <span class="s2">&quot;open&quot;</span><span class="o">)]</span>

<span class="cp">[</span><span class="nx">IntentFilter</span><span class="p">(</span><span class="nb">new</span><span class="err">[</span><span class="cp">]</span> <span class="p">{</span> <span class="err">&quot;android.intent.action.VIEW&quot;</span> <span class="p">}</span><span class="o">,</span>
<span class="nt">Categories</span> <span class="o">=</span> <span class="nt">new</span><span class="cp">[]</span> <span class="p">{</span> <span class="err">&quot;android.intent.category.DEFAULT&quot;,</span> <span class="err">&quot;android.intent.category.BROWSABLE&quot;</span> <span class="p">}</span><span class="o">,</span>
<span class="nt">DataScheme</span> <span class="o">=</span> <span class="s2">&quot;https&quot;</span><span class="o">,</span>
<span class="nt">DataHost</span> <span class="o">=</span> <span class="s2">&quot;testandroidapp.app.link&quot;</span><span class="o">)]</span>

<span class="cp">[</span><span class="nx">IntentFilter</span><span class="p">(</span><span class="nb">new</span><span class="err">[</span><span class="cp">]</span> <span class="p">{</span> <span class="err">&quot;android.intent.action.VIEW&quot;</span> <span class="p">}</span><span class="o">,</span>
<span class="nt">Categories</span> <span class="o">=</span> <span class="nt">new</span><span class="cp">[]</span> <span class="p">{</span> <span class="err">&quot;android.intent.category.DEFAULT&quot;,</span> <span class="err">&quot;android.intent.category.BROWSABLE&quot;</span> <span class="p">}</span><span class="o">,</span>
<span class="nt">DataScheme</span> <span class="o">=</span> <span class="s2">&quot;https&quot;</span><span class="o">,</span>
<span class="nt">DataHost</span> <span class="o">=</span> <span class="s2">&quot;testandroidapp-alternate.app.link&quot;</span><span class="o">)]</span>

<span class="nt">public</span> <span class="nt">class</span> <span class="nt">MainActivity</span> <span class="o">:</span> <span class="nt">Activity</span><span class="o">,</span> <span class="nt">IBranchSessionInterface</span>
<span class="p">{</span>

    <span class="err">protected</span> <span class="err">override</span> <span class="err">void</span> <span class="err">OnCreate(Bundle</span> <span class="err">savedInstanceState)</span>
    <span class="err">{</span>
        <span class="err">base.OnCreate(savedInstanceState)</span><span class="p">;</span>

        <span class="err">BranchAndroid.Init(this,</span> <span class="err">Resources.GetString(Resource.String.branch_key),</span> <span class="err">this)</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="nt">Ensure</span> <span class="nt">we</span> <span class="nt">get</span> <span class="nt">the</span> <span class="nt">updated</span> <span class="nt">link</span> <span class="nt">identifier</span> <span class="nt">when</span> <span class="nt">the</span> <span class="nt">app</span> <span class="nt">becomes</span> <span class="nt">active</span>
    <span class="o">//</span> <span class="nt">due</span> <span class="nt">to</span> <span class="nt">a</span> <span class="nt">Branch</span> <span class="nt">link</span> <span class="nt">click</span> <span class="nt">after</span> <span class="nt">having</span> <span class="nt">been</span> <span class="nt">in</span> <span class="nt">the</span> <span class="nt">background</span>
    <span class="nt">protected</span> <span class="nt">override</span> <span class="nt">void</span> <span class="nt">OnNewIntent</span><span class="o">(</span><span class="nt">Intent</span> <span class="nt">intent</span><span class="o">)</span>
    <span class="p">{</span>
        <span class="err">this.Intent</span> <span class="err">=</span> <span class="err">intent</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nt">public</span> <span class="nt">void</span> <span class="nt">InitSessionComplete</span><span class="o">(</span><span class="nt">Dictionary</span><span class="o">&lt;</span><span class="nt">string</span><span class="o">,</span> <span class="nt">object</span><span class="o">&gt;</span> <span class="nt">data</span><span class="o">)</span>
    <span class="p">{</span>
        <span class="err">//Handle</span> <span class="err">custom</span> <span class="err">logic</span> <span class="err">based</span> <span class="err">on</span> <span class="err">deep</span> <span class="err">link</span> <span class="err">data</span> <span class="err">in</span> <span class="err">InitSessionComplete</span>

        <span class="err">//View</span> <span class="err">all</span> <span class="err">the</span> <span class="err">link</span> <span class="err">data</span> <span class="err">in</span> <span class="err">the</span> <span class="err">console</span>
        <span class="err">Console.WriteLine(&quot;My</span> <span class="err">Link</span> <span class="n">Data</span><span class="p">:</span> <span class="err">&quot;</span> <span class="o">+</span> <span class="n">JsonConvert</span><span class="o">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="n">data</span><span class="p">));</span>
</pre></div>


</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>//Preferred method: use BranchActivity created previously to handle the link data
                        //Will need to update BranchActivity with desired custom logic, to open the correct page in the app
                        (this, typeof(BranchActivity));
                        intent.PutExtra("BranchData", JsonConvert.SerializeObject(data));</p>
<div class="codehilite"><pre><span></span>                    <span class="nt">StartActivity</span><span class="o">(</span><span class="nt">intent</span><span class="o">);</span><span class="nt">var</span> <span class="nt">intent</span> <span class="o">=</span> <span class="nt">new</span> <span class="nt">Intent</span>
                <span class="err">}</span>

                <span class="nt">public</span> <span class="nt">void</span> <span class="nt">SessionRequestError</span><span class="o">(</span><span class="nt">BranchError</span> <span class="nt">error</span><span class="o">)</span>
                <span class="p">{</span>
                    <span class="err">Console.WriteLine(&quot;Branch</span> <span class="err">session</span> <span class="err">initialization</span> <span class="n">error</span><span class="p">:</span> <span class="s2">&quot; + error.ErrorCode);</span>
<span class="s2">                    Console.WriteLine(error.ErrorMessage);</span>

<span class="s2">                    var intent = new Intent(this, typeof(BranchErrorActivity));</span>
<span class="s2">                    intent.PutExtra(&quot;</span><span class="n">ErrorCode</span><span class="s2">&quot;, error.ErrorCode);</span>
<span class="s2">                    intent.PutExtra(&quot;</span><span class="n">ErrorMessage</span><span class="err">&quot;</span><span class="p">,</span> <span class="n">error</span><span class="o">.</span><span class="n">ErrorMessage</span><span class="p">);</span>

                    <span class="err">StartActivity(intent)</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="err">}</span>
        <span class="err">}</span>
        <span class="err">```</span>
</pre></div>


<ul>
<li>
<h3 id="configure-branch-with-xamarin-forms">Configure Branch with Xamarin Forms<a class="headerlink" href="#configure-branch-with-xamarin-forms" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Change the C# project's profile to PCL 4.5 - Profile78</strong></p>
<ol>
<li>Right-click on the project name and select: <strong>Options</strong></li>
<li>Browse the menu to <strong>Build &gt; General</strong></li>
<li>Change the <strong>Current Profile</strong> to: <strong>PCL 4.5 - Profile78</strong></li>
</ol>
</li>
<li>
<p><strong>Add the Branch SDK with NuGet</strong></p>
<p>The Branch Xamarin SDK is available as a NuGet package. The <a href="https://www.nuget.org/packages/Branch-Xamarin-Linking-SDK">Branch NuGet package</a> must be added to each of the Xamarin projects that will use Branch methods.</p>
<ol>
<li>Right-click on each project and select <strong>Add &gt; Add NuGet Packages</strong></li>
<li>If not already present, find the <em>Microsoft BCL Build Components</em> package version 1.0.21 and add it to the project</li>
<li>Find the <em>Branch Xamarin SDK</em> package version 3.0 and add it to the project</li>
</ol>
</li>
<li>
<p><strong>Create a class for Branch session handling</strong></p>
<p>Branch initializes asynchronously, with Branch link parameters being returned following a network call to Branch. If initialization is successful, the InitSessionComplete method will be invoked. If initialization is unsuccessful, the SessionRequestError method will be invoked. Deep link routing logic should be located in the InitSessionComplete method.</p>
<ol>
<li>Right-click on the C# project and select <strong>Add &gt; New File...</strong></li>
<li>Select: <strong>General &gt; Empty Class</strong></li>
<li>Rename the file: <strong>TestXamarinFormsApp.cs</strong></li>
<li>Enter the following code (replacing 'TestXamarinFormsApp' with the actual name of the app):</li>
</ol>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">BranchXamarinSDK</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.ComponentModel</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Xamarin.Forms</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">TestXamarinFormsApp</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">TestXamarinFormsApp</span> <span class="p">:</span> <span class="n">Application</span><span class="p">,</span> <span class="n">IBranchSessionInterface</span>
    <span class="p">{</span>

        <span class="k">public</span> <span class="nf">TestXamarinFormsApp</span><span class="p">()</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="cp">#region IBranchSessionInterface implementation</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">InitSessionComplete</span><span class="p">(</span><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="n">data</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">CloseSessionComplete</span><span class="p">()</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">SessionRequestError</span><span class="p">(</span><span class="n">BranchError</span> <span class="n">error</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="cp">#endregion</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><strong>Create a class for handling link data</strong></p>
<p>Branch stores link data in an object referred to as the <strong>Branch Universal Object</strong>, or <strong>BUO</strong>.</p>
<ol>
<li>Right-click on the C# project and select <strong>Add &gt; New File...</strong></li>
<li>Select: <strong>General &gt; Empty Class</strong></li>
<li>Rename the file: <strong>TestXamarinFormsAppBUO.cs</strong></li>
<li>Enter the following code (replace 'TestXamarinFormsApp' with the actual name of the app):</li>
</ol>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">BranchXamarinSDK</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.ComponentModel</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Xamarin.Forms</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">TestXamarinFormsApp</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">TestXamarinFormsAppBUO</span> <span class="p">:</span> <span class="n">Application</span><span class="p">,</span> <span class="n">IBranchBUOSessionInterface</span>
    <span class="p">{</span>

        <span class="k">public</span> <span class="nf">TestXamarinFormsAppBUO</span><span class="p">()</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="cp">#region IBranchBUOSessionInterface implementation</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">InitSessionComplete</span><span class="p">(</span><span class="n">BranchUniversalObject</span> <span class="n">buo</span><span class="p">,</span> <span class="n">BranchLinkProperties</span> <span class="n">blp</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">SessionRequestError</span><span class="p">(</span><span class="n">BranchError</span> <span class="n">error</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="cp">#endregion</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><strong>iOS</strong></p>
<ul>
<li>
<p><strong>Create an Apple device Provisioning Profile for the app</strong></p>
<ol>
<li>Open Xcode and create a new project with the same name as your Xamarin iOS project</li>
<li>On the Xcode project's <strong>General</strong> tab, enter the app's Bundle Identifier and select the appropriate Team (be sure to resolve any errors here)</li>
<li>Select the <strong>Capabilities</strong> tab and enable the <strong>Associated Domains</strong> entitlement</li>
<li>Create 'applinks:' entries for the Branch link domain assigned to the app (the link domain can be found at the bottom of the Branch dashboard's <a href="https://dashboard.branch.io/#/settings/link">Link Settings</a> page). For example, the entries for the app <em>TestXamarinFormsApp</em> would be:
&nbsp;&nbsp;&nbsp;&nbsp;<code>applinks:testxamarinformsapp.app.link</code>
&nbsp;&nbsp;&nbsp;&nbsp;<code>applinks:testxamarinformsapp-alternate.app.link</code></li>
<li>Use Xcode to run this newly-created app on an iOS device. This will create and install a Provisioning Profile with the proper entitlements on that device.</li>
<li>Close Xcode</li>
</ol>
</li>
<li>
<p><strong>Enter the app's settings on the Branch dashboard</strong></p>
<ol>
<li>On the <a href="https://dashboard.branch.io/#/settings/link">Link Settings</a> page, check the <strong>I have an iOS App</strong> checkbox</li>
<li>Enter the app's URI Scheme in the <strong>iOS URI Scheme</strong> field (for an app with the URI Scheme <em>testxamarinformsapp</em>, for example, the entry would be: <code>testxamarinformsapp://</code>)</li>
<li>Enter the app's Apple Store name in the <strong>Apple Store Search</strong> field (if the app is not yet available on the App Store select <strong>Custom URL</strong> and enter as a placeholder the URL of an appropriate web site - the exact site does not matter)</li>
<li>Check the <strong>Enable Universal Links</strong> checkbox</li>
<li>Enter the app's Bundle Identifier and Apple App Prefix as shown on the <a href="https://developer.apple.com/account/ios/identifier/bundle">Apple Developer Portal</a></li>
</ol>
</li>
<li>
<p><strong>Configure the Xamarin project's Info.plist file</strong></p>
<ol>
<li>Open the <strong>Info.plist</strong> file</li>
<li>Enter the app's <strong>Bundle Identifier</strong> from the <a href="https://developer.apple.com/account/ios/identifier/bundle">Apple Developer Portal</a> in the <strong>Bundle Identifier</strong> field. <strong>IMPORTANT:</strong> this field will automatically be populated with an all-lowercase value by Xamarin. The value is in fact case sensitive and must match the value in the <a href="https://developer.apple.com/account/ios/identifier/bundle">Apple Developer Portal</a> precisely.</li>
<li>Click on the <strong>Advanced</strong> tab</li>
<li>In the <strong>URL Types</strong> section, click the <strong>Add URL Type</strong> button
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Identifier:</strong> Branch Scheme
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>URL Schemes:</strong> {the app's URI Scheme - 'testxamarinformsapp', for example}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Role:</strong> Editor</li>
</ol>
<p><img alt="image" src="../../../img/pages/apps/xamarin/ios_uri_scheme.png" /></p>
</li>
<li>
<p><strong>Configure the Xamarin project's Associated Domains entitlement</strong></p>
<ol>
<li>Open the <strong>Entitlements.plist</strong> file and browse to <strong>Associated Domains</strong> (if this file does not already exist, create it)</li>
<li>Create entries for both the app's link domain and its alternate link domain. The entries for the TestBed-Xamarin app would be:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>applinks:testxamarinformsapp.app.link</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>applinks:testxamarinformsapp-alternate.app.link</code></li>
</ol>
<p><img alt="image" src="../../../img/pages/apps/xamarin/ios_associated_domains.png" /></p>
</li>
<li>
<p><strong>Add Branch calls to the AppDelegate.cs file</strong></p>
<p>To ensure that the Branch SDK initializes when the app starts and can retrieve link parameters whenever the app becomes active, Branch initialization occurs within the <code>FinishedLaunching</code> method of the AppDelegate.cs file. Branch calls are also required in the OpenUrl, ContinueUserActivity, and ReceiveRemoteNotification methods to ensure that Branch link information is handled properly whenever the app becomes active. The <strong>AppDelegate.cs</strong> file should look like this:</p>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">Foundation</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UIKit</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">BranchXamarinSDK</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">TestXamarinFormsApp</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">TestXamarinFormsApp.iOS</span>
<span class="p">{</span>
<span class="na">    [Register(&quot;AppDelegate&quot;)]</span>
    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">AppDelegate</span> <span class="p">:</span> <span class="k">global</span><span class="p">::</span><span class="n">Xamarin</span><span class="p">.</span><span class="n">Forms</span><span class="p">.</span><span class="n">Platform</span><span class="p">.</span><span class="n">iOS</span><span class="p">.</span><span class="n">FormsApplicationDelegate</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">FinishedLaunching</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">app</span><span class="p">,</span> <span class="n">NSDictionary</span> <span class="n">options</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">global</span><span class="p">::</span><span class="n">Xamarin</span><span class="p">.</span><span class="n">Forms</span><span class="p">.</span><span class="n">Forms</span><span class="p">.</span><span class="n">Init</span><span class="p">();</span>

            <span class="c1">// Debug mode - set to &#39;false&#39; before releasing to production</span>
            <span class="n">BranchIOS</span><span class="p">.</span><span class="n">Debug</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>

            <span class="n">TestXamarinFormsAppBUO</span> <span class="n">appBUO</span> <span class="p">=</span> <span class="k">new</span> <span class="n">TestXamarinFormsAppBUO</span><span class="p">();</span>
            <span class="n">BranchIOS</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="s">&quot;key_live_liAnF8k7gZUEZv76Rt9a4bffAzlC5zVW&quot;</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">appBUO</span><span class="p">);</span>
            <span class="n">LoadApplication</span><span class="p">(</span><span class="n">appBUO</span><span class="p">);</span>

            <span class="k">return</span> <span class="k">base</span><span class="p">.</span><span class="n">FinishedLaunching</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Called when the app is opened via URI scheme</span>
        <span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">OpenUrl</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">application</span><span class="p">,</span> <span class="n">NSUrl</span> <span class="n">url</span><span class="p">,</span> <span class="kt">string</span> <span class="n">sourceApplication</span><span class="p">,</span> <span class="n">NSObject</span> <span class="n">annotation</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">BranchIOS</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">OpenUrl</span><span class="p">(</span><span class="n">url</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Called when the app is opened from a Universal Link</span>
        <span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">ContinueUserActivity</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">application</span><span class="p">,</span> <span class="n">NSUserActivity</span> <span class="n">userActivity</span><span class="p">,</span> <span class="n">UIApplicationRestorationHandler</span> <span class="n">completionHandler</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">BranchIOS</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">ContinueUserActivity</span><span class="p">(</span><span class="n">userActivity</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Called when the app receives a push notification</span>
        <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">ReceivedRemoteNotification</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">application</span><span class="p">,</span> <span class="n">NSDictionary</span> <span class="n">userInfo</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">BranchIOS</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">HandlePushNotification</span><span class="p">(</span><span class="n">userInfo</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</li>
</ul>
</li>
<li>
<p><strong>Android</strong></p>
<ul>
<li>
<p><strong>Ensure that the Android project is not using the Shared Mono Runtime</strong></p>
<ol>
<li>Right-click on the Android project and select: <strong>Options</strong></li>
<li>Select: <strong>Android Build</strong></li>
<li>On the <strong>General</strong> tab, un-check: <strong>Use Shared Mono Runtime</strong></li>
</ol>
</li>
<li>
<p><strong>Add app capabilities in the AndroidManifest.xml file</strong></p>
<p>In the <em>Required permissions</em> section of <strong>AndroidManifest.xml</strong>, configure the following permissions:</p>
<ul>
<li><em>AccessNetworkState</em></li>
<li><em>Internet</em></li>
</ul>
<p>Additional reading on the Android manifest</p>
<ul>
<li><a href="https://developer.xamarin.com/guides/android/advanced_topics/working_with_androidmanifest.xml/">Working with android manifest.xml</a></li>
<li><a href="https://developer.xamarin.com/recipes/android/general/projects/add_permissions_to_android_manifest/">Add permissions to android manifest</a></li>
</ul>
</li>
<li>
<p><strong>Add the app's Branch key to the Strings.xml file</strong></p>
<p>Create a <strong>Resources/values/Strings.xml</strong> file that can be accessed by the app's Application class for the Android project and add the Branch key to this file.</p>
<ol>
<li>In the Android project, browse to <strong>Resources/values</strong></li>
<li>Right-click on the <strong>values</strong> folder and select: <strong>Add &gt; New File...</strong></li>
<li>Select: <strong>XML &gt; Empty XML File</strong></li>
<li>Name the file: <strong>Strings</strong></li>
<li>Enter the following values:</li>
</ol>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;resources&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;app_name&quot;</span><span class="nt">&gt;</span>TestXamarinFormsApp<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;branch_key&quot;</span><span class="nt">&gt;</span>key_live_liAnF8k7gZUEZv76Rt9a4bffAzlC5zVW<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;/resources&gt;</span>
</pre></div>

</li>
<li>
<p><strong>Configure the .Droid project's Application class</strong></p>
<p>Within the .Droid project's Application class:</p>
<ul>
<li>Set the Branch SDK's initialization parameters</li>
<li>Override the <code>OnCreate()</code> method to call <code>BranchAndroid.GetAutoInstance</code></li>
</ul>
<p>If an Appplication class does not already exist for the project, create one:</p>
<ol>
<li>Right-click on the .Droid project and select: <strong>Add &gt; New File...</strong></li>
<li>Select: <strong>General &gt; Empty Class</strong></li>
<li>Name the file: <em>{app name}</em> ('TestXamarinFormsApp', for example)</li>
</ol>
<p>The file should have the following contents:</p>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.App</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Content</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Runtime</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">BranchXamarinSDK</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">TestXamarinFormsApp.Droid</span>
<span class="p">{</span>

<span class="na">    [Application (AllowBackup = true, Icon = &quot;@drawable/icon&quot;, Label = &quot;@string/app_name&quot;)]</span>
<span class="na">    [MetaData(&quot;io.branch.sdk.auto_link_disable&quot;, Value = &quot;false&quot;)]</span>
<span class="na">    [MetaData(&quot;io.branch.sdk.TestMode&quot;, Value = &quot;true&quot;)]</span>
<span class="na">    [MetaData(&quot;io.branch.sdk.BranchKey&quot;, Value = &quot;@string/branch_key&quot;)]</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">App</span> <span class="p">:</span> <span class="n">Application</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">App</span><span class="p">(</span><span class="n">IntPtr</span> <span class="n">javaReference</span><span class="p">,</span> <span class="n">JniHandleOwnership</span> <span class="n">transfer</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">javaReference</span><span class="p">,</span> <span class="n">transfer</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnCreate</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">base</span><span class="p">.</span><span class="n">OnCreate</span><span class="p">();</span>
            <span class="n">BranchAndroid</span><span class="p">.</span><span class="n">GetAutoInstance</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">ApplicationContext</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>io.branch.sdk.TestMode</td>
<td>Setting this parameter to <em>true</em> enables Debug Mode, which causes simple uninstall/reinstalls of the app to trigger <em>install</em> events. Be sure to disable this before deploying to production. Note that enabling Debug Mode on Android also forces the app to use the Branch <em>Test</em> key if this key has been added to the project. Apps running with a <em>Test</em> key will be unable to receive data from Branch links created with the <em>Live</em> key.</td>
</tr>
<tr>
<td>io.branch.sdk.BranchKey</td>
<td>The app's Branch key. Both a <em>Live</em> key and a <em>Test</em> key can be added to the Strings.xml file. When <em>Test</em> Mode is enabled the app will automatically use the <em>Test</em> key, if one has been specified.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>Initialize Branch</strong></p>
<p>Branch must be initilialized in the OnCreate method of either the Application class or the first Activity launched by the app. The OnNewIntent method must be added to retrieve the latest link identifier when the app becomes active due to a Branch link click.</p>
<p>In the code example below the following Branch initialization and session management steps have been added to MainActivity.cs:</p>
<ul>
<li>Register an Activity to respond to the app's URI Scheme</li>
<li>Ensure the Activity is launched in <code>singleTask</code> mode</li>
<li>Override the OnCreate method and initialize the Branch SDK</li>
<li>Override the OnNewIntent method</li>
</ul>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">Android.App</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Content</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Content.PM</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Runtime</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Views</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Widget</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.OS</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">BranchXamarinSDK</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">TestXamarinFormsApp</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">TestXamarinFormsApp.Droid</span>
<span class="p">{</span>
<span class="na">    [Activity(Label = &quot;TestXamarinFormsApp.Droid&quot;, LaunchMode = LaunchMode.SingleTask, Icon = &quot;@drawable/icon&quot;, Theme = &quot;@style/MyTheme&quot;, MainLauncher = true, ConfigurationChanges = ConfigChanges.ScreenSize | ConfigChanges.Orientation)]</span>

<span class="na">    [IntentFilter(new[]</span> <span class="p">{</span> <span class="s">&quot;android.intent.action.VIEW&quot;</span> <span class="p">},</span>
        <span class="n">Categories</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> <span class="p">{</span> <span class="s">&quot;android.intent.category.DEFAULT&quot;</span><span class="p">,</span> <span class="s">&quot;android.intent.category.BROWSABLE&quot;</span> <span class="p">},</span>
        <span class="n">DataScheme</span> <span class="p">=</span> <span class="s">&quot;testxamarinformsapp&quot;</span><span class="p">,</span>
        <span class="n">DataHost</span> <span class="p">=</span> <span class="s">&quot;open&quot;</span><span class="p">)]</span>

<span class="na">    [IntentFilter(new[]</span> <span class="p">{</span> <span class="s">&quot;android.intent.action.VIEW&quot;</span> <span class="p">},</span>
        <span class="n">Categories</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> <span class="p">{</span> <span class="s">&quot;android.intent.category.DEFAULT&quot;</span><span class="p">,</span> <span class="s">&quot;android.intent.category.BROWSABLE&quot;</span> <span class="p">},</span>
        <span class="n">DataScheme</span> <span class="p">=</span> <span class="s">&quot;https&quot;</span><span class="p">,</span>
        <span class="n">DataHost</span> <span class="p">=</span> <span class="s">&quot;testxamarinformsapp.app.link&quot;</span><span class="p">)]</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">MainActivity</span> <span class="p">:</span> <span class="k">global</span><span class="p">::</span><span class="n">Xamarin</span><span class="p">.</span><span class="n">Forms</span><span class="p">.</span><span class="n">Platform</span><span class="p">.</span><span class="n">Android</span><span class="p">.</span><span class="n">FormsApplicationActivity</span>
    <span class="p">{</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnCreate</span><span class="p">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">base</span><span class="p">.</span><span class="n">OnCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>

            <span class="k">global</span><span class="p">::</span><span class="n">Xamarin</span><span class="p">.</span><span class="n">Forms</span><span class="p">.</span><span class="n">Forms</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">savedInstanceState</span><span class="p">);</span>

            <span class="n">TestXamarinFormsAppBUO</span> <span class="n">linkData</span> <span class="p">=</span> <span class="k">new</span> <span class="n">TestXamarinFormsAppBUO</span><span class="p">();</span>
            <span class="n">BranchAndroid</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">GetString</span><span class="p">(</span><span class="n">Resource</span><span class="p">.</span><span class="n">String</span><span class="p">.</span><span class="n">branch_key</span><span class="p">),</span> <span class="n">linkData</span><span class="p">);</span>
            <span class="n">LoadApplication</span><span class="p">(</span><span class="n">linkData</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnNewIntent</span><span class="p">(</span><span class="n">Intent</span> <span class="n">intent</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Intent</span> <span class="p">=</span> <span class="n">intent</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</li>
</ul>
</li>
</ul>
</li>
<li>
<h3 id="test-deep-link-ios">Test deep link iOS<a class="headerlink" href="#test-deep-link-ios" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Create a deep link from the <a href="https://dashboard.branch.io/marketing">Branch Marketing Dashboard</a></p>
</li>
<li>
<p>Delete your app from the device</p>
</li>
<li>
<p>Compile your app with Xcode</p>
</li>
<li>
<p>Paste deep link in <code>Apple Notes</code></p>
</li>
<li>
<p>Long press on the deep link <em>(not 3D Touch)</em></p>
</li>
<li>
<p>Click <code>Open in "APP_NAME"</code> to open your app <em>(<a href="../../../img/pages/apps/ios-notes.png">example</a>)</em></p>
</li>
</ul>
</li>
<li>
<h3 id="test-deep-link-android">Test deep link Android<a class="headerlink" href="#test-deep-link-android" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Create a deep link from the <a href="https://dashboard.branch.io/marketing">Branch Marketing Dashboard</a></p>
</li>
<li>
<p>Delete your app from the device</p>
</li>
<li>
<p>Compile your app with Android Studio</p>
</li>
<li>
<p>Paste deep link in <code>Google Hangouts</code></p>
</li>
<li>
<p>Click on the deep link to open your app</p>
</li>
</ul>
</li>
</ul>
<h2 id="implement-features">Implement features<a class="headerlink" href="#implement-features" title="Permanent link">&para;</a></h2>
<ul>
<li>
<h3 id="create-content-reference">Create content reference<a class="headerlink" href="#create-content-reference" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>The <code>Branch Universal Object</code> encapsulates the thing you want to share</p>
</li>
<li>
<p>Uses <a href="../../../pages/links/integrate/#universal-object">Universal Object properties</a></p>
</li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">BranchUniversalObject</span> <span class="n">universalObject</span> <span class="p">=</span> <span class="k">new</span> <span class="n">BranchUniversalObject</span><span class="p">();</span>
<span class="n">universalObject</span><span class="p">.</span><span class="n">canonicalIdentifier</span> <span class="p">=</span> <span class="s">&quot;id12345&quot;</span><span class="p">;</span>
<span class="n">universalObject</span><span class="p">.</span><span class="n">title</span> <span class="p">=</span> <span class="s">&quot;id12345 title&quot;</span><span class="p">;</span>
<span class="n">universalObject</span><span class="p">.</span><span class="n">contentDescription</span> <span class="p">=</span> <span class="s">&quot;My awesome piece of content!&quot;</span><span class="p">;</span>
<span class="n">universalObject</span><span class="p">.</span><span class="n">imageUrl</span> <span class="p">=</span> <span class="s">&quot;https://s3-us-west-1.amazonaws.com/branchhost/mosaic_og.png&quot;</span><span class="p">;</span>
<span class="n">universalObject</span><span class="p">.</span><span class="n">metadata</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar&quot;</span><span class="p">);</span>
</pre></div>

</li>
<li>
<h3 id="create-deep-link">Create deep link<a class="headerlink" href="#create-deep-link" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Generates a deep link within your app</p>
</li>
<li>
<p>Needs a <a href="#create-content-reference">Create content reference</a></p>
</li>
<li>
<p>Needs a <a href="#create-link-reference">Create link reference</a></p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/links">Branch Dashboard</a></p>
</li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">BranchLinkProperties</span> <span class="n">linkProperties</span> <span class="p">=</span> <span class="k">new</span> <span class="n">BranchLinkProperties</span><span class="p">();</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">tags</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;tag1&quot;</span><span class="p">);</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">tags</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;tag2&quot;</span><span class="p">);</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">feature</span> <span class="p">=</span> <span class="s">&quot;sharing&quot;</span><span class="p">;</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">channel</span> <span class="p">=</span> <span class="s">&quot;facebook&quot;</span><span class="p">;</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">controlParams</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;$desktop_url&quot;</span><span class="p">,</span> <span class="s">&quot;http://example.com&quot;</span><span class="p">);</span>

<span class="n">Branch</span><span class="p">.</span><span class="n">GetInstance</span><span class="p">().</span><span class="n">GetShortURL</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span>
                                  <span class="n">universalObject</span><span class="p">,</span>
                                  <span class="n">linkProperties</span><span class="p">);</span>
</pre></div>

</li>
<li>
<h3 id="share-deep-link">Share deep link<a class="headerlink" href="#share-deep-link" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Will generate a Branch deep link and tag it with the channel the user selects</p>
</li>
<li>
<p>Needs a <a href="#create-content-reference">Create content reference</a></p>
</li>
<li>
<p>Needs a <a href="#create-link-reference">Create link reference</a></p>
</li>
<li>
<p>Uses <a href="../../../pages/links/integrate/">Deep Link Properties</a></p>
</li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">ShareLink</span> <span class="p">(</span><span class="n">IBranchLinkShareInterface</span> <span class="n">callback</span><span class="p">,</span>
           <span class="n">BranchUniversalObject</span> <span class="n">universalObject</span><span class="p">,</span>
           <span class="n">BranchLinkProperties</span> <span class="n">linkProperties</span><span class="p">,</span>
           <span class="kt">string</span> <span class="n">message</span><span class="p">)</span>
</pre></div>

</li>
<li>
<h3 id="read-deep-link">Read deep link<a class="headerlink" href="#read-deep-link" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Retrieve Branch data from a deep link</p>
</li>
<li>
<p>Best practice to receive data from the <code>listener</code> (to prevent a race condition)</p>
</li>
<li>
<p>Returns <a href="../../../pages/links/integrate/#read-deep-links">deep link properties</a></p>
</li>
</ul>
<div class="codehilite"><pre><span></span><span class="c1">// latest</span>
<span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="n">sessionParams</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">GetInstance</span><span class="p">().</span><span class="n">GetLatestReferringParams</span><span class="p">();</span>

<span class="c1">// first</span>
<span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="n">installParams</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">GetInstance</span><span class="p">().</span><span class="n">GetFirstReferringParams</span><span class="p">();</span>
</pre></div>

</li>
<li>
<h3 id="track-users">Track users<a class="headerlink" href="#track-users" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Sets the identity of a user (email, ID, UUID, etc) for events, deep links, and referrals</p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/identities">Branch Dashboard</a></p>
</li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">Branch</span> <span class="n">branch</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">GetInstance</span> <span class="p">();</span>
<span class="n">branch</span><span class="p">.</span><span class="n">SetIdentity</span><span class="p">(</span><span class="s">&quot;the user id&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>  <span class="c1">// Where this implements IBranchIdentityInterface</span>
<span class="n">branch</span><span class="p">.</span><span class="n">Logout</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// Where this implements IBranchIdentityInterface</span>
</pre></div>

</li>
<li>
<h3 id="track-events">Track events<a class="headerlink" href="#track-events" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Registers a custom event</p>
</li>
<li>
<p>Events named <code>open</code>, <code>close</code>, <code>install</code>, and <code>referred session</code> are Branch restricted</p>
</li>
<li>
<p>Best to <a href="#track-users">Track users</a> before <a href="#track-events">Track events</a> to associate a custom event to a user</p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/events">Branch Dashboard</a></p>
</li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">Branch</span> <span class="n">branch</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">GetInstance</span> <span class="p">();</span>
<span class="n">branch</span><span class="p">.</span><span class="n">UserCompletedAction</span><span class="p">(</span><span class="s">&quot;the_custom_event&quot;</span><span class="p">);</span>
</pre></div>

</li>
<li>
<h3 id="track-commerce">Track commerce<a class="headerlink" href="#track-commerce" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Registers a custom commerce event</p>
</li>
<li>
<p>Uses <a href="#commerce-properties">Track commerce properties</a> for <code>Currency</code> and <code>Category</code></p>
</li>
<li>
<p>Validate with the <a href="https://dashboard.branch.io/liveview/commerce">Branch Dashboard</a></p>
</li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">Branch</span> <span class="n">branch</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">GetInstance</span> <span class="p">();</span>
<span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="n">data</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;();</span>
<span class="n">data</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;sku&quot;</span><span class="p">,</span> <span class="s">&quot;123456789&quot;</span><span class="p">);</span>
<span class="n">branch</span><span class="p">.</span><span class="n">UserCompletedAction</span><span class="p">(</span><span class="s">&quot;purchase_event&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>
</pre></div>

</li>
<li>
<h3 id="handle-referrals">Handle referrals<a class="headerlink" href="#handle-referrals" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Referral points are obtained from referral rules on the <a href="https://dashboard.branch.io/referrals/rules">Branch Dashboard</a></p>
</li>
<li>
<p>Validate on the <a href="https://dashboard.branch.io/referrals/analytics">Branch Dashboard</a></p>
</li>
<li>
<p>Reward credits</p>
<ul>
<li><a href="../../../pages/dashboard/analytics/#referrals">Referral guide</a></li>
</ul>
</li>
<li>
<p>Redeem credits</p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span> <span class="n">branch</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">GetInstance</span> <span class="p">();</span>
<span class="n">branch</span><span class="p">.</span><span class="n">RedeemRewards</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">bucket</span><span class="p">);</span>

<span class="cp">#region IBranchRewardsInterface implementation</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">RewardsLoaded</span> <span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Do something with the data...</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">RewardsRedeemed</span> <span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Do something with the data...</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">CreditHistory</span> <span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">CreditHistoryEntry</span><span class="p">&gt;</span> <span class="n">history</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Do something with the data...</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">RewardsRequestError</span> <span class="p">(</span><span class="n">BranchError</span> <span class="n">error</span><span class="p">)</span>
        <span class="p">{</span>
         <span class="c1">// Do something with the data...</span>
        <span class="p">}</span>

        <span class="cp">#endregion</span>
</pre></div>

</li>
<li>
<p>Load credits</p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span> <span class="n">branch</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">GetInstance</span> <span class="p">();</span>
<span class="n">branch</span><span class="p">.</span><span class="n">LoadRewards</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

<span class="cp">#region IBranchRewardsInterface implementation</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">RewardsLoaded</span> <span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Do something with the data...</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">RewardsRedeemed</span> <span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Do something with the data...</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">CreditHistory</span> <span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">CreditHistoryEntry</span><span class="p">&gt;</span> <span class="n">history</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Do something with the data...</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">RewardsRequestError</span> <span class="p">(</span><span class="n">BranchError</span> <span class="n">error</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Do something with the data...</span>
        <span class="p">}</span>

<span class="cp">#endregion</span>
</pre></div>

</li>
<li>
<p>Load history</p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span> <span class="n">branch</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">GetInstance</span> <span class="p">();</span>
<span class="n">branch</span><span class="p">.</span><span class="n">GetCreditHistory</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</pre></div>

</li>
</ul>
</li>
</ul>
<h2 id="troubleshoot-issues">Troubleshoot issues<a class="headerlink" href="#troubleshoot-issues" title="Permanent link">&para;</a></h2>
<ul>
<li>
<h3 id="unable-to-add-branch-required-nuget-packages-to-the-c-project">Unable to add Branch-required NuGet packages to the C# project<a class="headerlink" href="#unable-to-add-branch-required-nuget-packages-to-the-c-project" title="Permanent link">&para;</a></h3>
<p>Adding required NuGet packages to the C# project may fail if the project has not been configured to use <strong>PCL 4.5 - Profile78</strong></p>
<ol>
<li>Right-click on the project name and select: <strong>Options</strong></li>
<li>Browse the menu to <strong>Build &gt; General</strong></li>
<li>Change the <strong>Current Profile</strong> to: <strong>PCL 4.5 - Profile78</strong></li>
</ol>
</li>
<li>
<h3 id="android-app-fails-to-build-with-linking-errors">Android app fails to build with linking errors<a class="headerlink" href="#android-app-fails-to-build-with-linking-errors" title="Permanent link">&para;</a></h3>
<p>The Newtonsoft JSON NuGet package is automatically added to a project when the Branch Xamarin SDK NuGet package is added. There is a known issue with this package that results in linking errors when building a project.</p>
<p>error XA0009: Error while loading assembly: /Users/david/Projects/TestXamarinFormsApp/Droid/obj/Debug/android/assets/mscorlib.dll</p>
<p>To resolve this issue with the Newtonsoft JSON NuGet package:</p>
<ol>
<li>Right-click on the project and select Options</li>
<li>Go to <strong>Android Build</strong> and select the <strong>Linker</strong> tab</li>
<li>Select: <strong>Release</strong></li>
<li>Go to the <strong>Ignore assemblies</strong> box</li>
<li>Add: <strong>System.Core</strong></li>
<li>Rebuild the app</li>
</ol>
</li>
<li>
<h3 id="deploying-ios-app-to-device-fails-with-provisioning-profile-erros-after-changing-entitlements">Deploying iOS app to device fails with Provisioning Profile erros after changing entitlements<a class="headerlink" href="#deploying-ios-app-to-device-fails-with-provisioning-profile-erros-after-changing-entitlements" title="Permanent link">&para;</a></h3>
<p>Xamarin automatically populates the <strong>Bundle Identifier</strong> field in the <strong>Info.plist</strong> file with an all-lowercase value derived from the app's name. This value is in fact case sensitive and must match the value in the <a href="https://developer.apple.com/account/ios/identifier/bundle">Apple Developer Portal</a> precisely. The default Xamarin configuration may work when there are no entitlements configured and then suddenly begin failing after entitlements have been added.</p>
<p>This issue can be resolved by ensuring that the <strong>Bundle Identifier</strong> in the <strong>Info.plist</strong> matches the <strong>Bundle Identifier</strong> shown on the <a href="https://developer.apple.com/account/ios/identifier/bundle">Apple Developer Portal</a>.</p>
<ol>
<li>Open the <strong>Info.plist</strong> file</li>
<li>Enter the app's <strong>Bundle Identifier</strong> from the <a href="https://developer.apple.com/account/ios/identifier/bundle">Apple Developer Portal</a> in the <strong>Bundle Identifier</strong> field</li>
</ol>
</li>
<li>
<h3 id="sample-apps">Sample apps<a class="headerlink" href="#sample-apps" title="Permanent link">&para;</a></h3>
<p>There are four fully-functional demo apps included in this repository: a Xamarin Native and Xamarin Forms apps for both iOS and Android platforms. Use these apps as reference models for integrating the Branch SDK.</p>
<ul>
<li>
<p><strong>Testbed-Xamarin (Native apps)</strong></p>
<ul>
<li><a href="https://github.com/BranchMetrics/xamarin-branch-deep-linking/tree/master/Examples/ios_example">iOS</a></li>
<li><a href="https://github.com/BranchMetrics/xamarin-branch-deep-linking/tree/master/Examples/droid_example">Android</a></li>
</ul>
</li>
<li>
<p><strong>Testbed-XamarinForms (Forms apps)</strong></p>
<ul>
<li><a href="https://github.com/BranchMetrics/xamarin-branch-deep-linking/tree/master/Branch-Xamarin-Testbed.iOS">iOS</a></li>
<li><a href="https://github.com/BranchMetrics/xamarin-branch-deep-linking/tree/master/Branch-Xamarin-Testbed.Droid">Android</a></li>
</ul>
</li>
</ul>
</li>
</ul>
                
                  
                
              
              
                
                  <h2 id="__comments">Comments</h2>
                  <div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = "https://docs.branch.io/pages/apps/xamarin/";
    this.page.identifier =
      "/pages/apps/xamarin/";
  };
  (function() {
    var d = document, s = d.createElement("script");
    s.src = "//branch-docs.disqus.com/embed.js";
    s.setAttribute("data-timestamp", +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
                
              
            </article>
          </div>
        </div>
      </main>
      
        
        
      
      
        <div class="modals">
          <div id="modal-search" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content" id="algolia-search-container">
              <i class="material-icons modal-close right">close</i>
              <h2>Search</h2>
              <input type="text" placeholder="search docs..." id="algolia-doc-search" autofocus>
            </div>
          </div>
          <div id="modal-unhelpful" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Unhelpful?</h2>
              <p>How can we improve or assist you?</p>
              <a href="#" class="improve-doc" title="Improve This Doc">Improve this doc</a>
              <a href="#" class="contact-support" title="Contact support">Contact support</a>
            </div>
          </div>
          <div id="modal-choose-app" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Choose your app</h2>
              <button type="button">iOS</button>
              <button type="button">Android</button>
              <button type="button">Cordova Ionic PhoneGap</button>
              <button type="button">React Native</button>
            </div>
          </div>
          <div id="modal-helpful" class="modal notification">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Thank you</h2>
            </div>
          </div>
          <div id="modal-image" class="modal dialog image">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Image</h2>
              <a id="modal-image-link" href="#">
                <img id="modal-image-img">
              </a>
            </div>
          </div>
          <div id="modal-code" class="modal dialog code">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Select your platform</h2>
              <div class="flex">
                <button id="modal-code-ios">iOS</button>
                <button id="modal-code-android">Android</button>
              </div>
              <div class="flex">
                <button id="modal-code-cordova">Cordova PhoneGap Ionic</button>
                <button id="modal-code-react">React Native</button>
              </div>
              <div class="flex">
                <button id="modal-code-mparticle-android">mParticle Android</button>
                <button id="modal-code-mparticle-ios">mParticle iOS</button>
              </div>
              <div class="flex">
                <button id="modal-code-titanium">Titanium</button>
                <button id="modal-code-unity">Unity</button>
              </div>
              <div class="flex">
                <button id="modal-code-xamarin">Xamarin</button>
                <button id="modal-code-adobe" class="vanish">Adobe</button>
              </div>
            </div>
          </div>
        </div>
      
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="https://branch.io">Branch</a>
          </div>
        
        All rights reserved
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://branch.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/branchmetrics/docs" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/branchmetrics" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.facebook.com/branchmetrics" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.linkedin.com/company-beta/3813083" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application-26aeb842c9.js"></script>
      <script>app.initialize({url:{base:"../../.."}})</script>
      
        <script src="../../../js/router.js"></script>
      
        <script src="../../../js/events.js"></script>
      
        <script src="../../../js/modals.js"></script>
      
        <script src="../../../js/images.js"></script>
      
        <script src="../../../js/buttons.js"></script>
      
        <script src="../../../js/progress.js"></script>
      
        <script src="../../../js/tabs.js"></script>
      
        <script src="../../../js/languages.js"></script>
      
        <script src="../../../js/utils.js"></script>
      
        <script src="../../../js/main.js"></script>
      
      
        <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
        <script>docsearch({apiKey:"887017d17a2c1e9490ad2c44caa7e817",indexName:"branchmetrics",inputSelector:"#algolia-doc-search",debug:"True",algoliaOptions:{hitsPerPage:"15"}})</script>
      
    
  </body>
</html>