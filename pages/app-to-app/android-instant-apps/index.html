
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="A guide to enable Branch links to your Android Instant App, in addition to deferred deep linking to your full Android app.">
      
      
        <link rel="canonical" href="https://docs.branch.io/pages/app-to-app/android-instant-apps/">
      
      
        <meta name="author" content="Branch">
      
      
        <link rel="shortcut icon" href="../../../img/favicon-96x96.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.10.1">
    
    
      
        <title>Deep Linking and Attributing your Android Instant App</title>
      
    
    
      <script src="../../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <style>.async-hide{opacity:0!important}</style>
      <script>!function(e,n,t,a,o,c,i,s,m){n.className+=" "+t,c.start=1*new Date,c.end=i=function(){n.className=n.className.replace(RegExp(" ?"+t),"")},(e[a]=e[a]||[]).hide=c,setTimeout(function(){i(),c.end=null},o),c.timeout=o}(window,document.documentElement,"async-hide","dataLayer",1e3,{"GTM-PCPBXCN":!0})</script>
    
    
      <script>!function(e,t){if(!t.__SV){var n=window;try{var i,a,p,o=n.location,r=o.hash;i=function(e,t){return(a=e.match(RegExp(t+"=([^&]*)")))?a[1]:null},r&&i(r,"state")&&(p=JSON.parse(decodeURIComponent(i(r,"state"))),"mpeditor"===p.action&&(n.sessionStorage.setItem("_mpcehash",r),history.replaceState(p.desiredHash||"",e.title,o.pathname+o.search)))}catch(e){}var l,s;window.mixpanel=t,t._i=[],t.init=function(e,n,i){function a(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var p=t;for("undefined"!=typeof i?p=t[i]=[]:i="mixpanel",p.people=p.people||[],p.toString=function(e){var t="mixpanel";return"mixpanel"!==i&&(t+="."+i),e||(t+=" (stub)"),t},p.people.toString=function(){return p.toString(1)+".people (stub)"},l="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),s=0;s<l.length;s++)a(p,l[s]);t._i.push([e,n,i])},t.__SV=1.2,n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",i=e.getElementsByTagName("script")[0],i.parentNode.insertBefore(n,i)}}(document,window.mixpanel||[]),mixpanel.init("47ec8ea9ac102b1370221dcda476091c")</script>
    
    
      <script>function getCookie(e){var i="; "+document.cookie,t=i.split("; "+e+"=");if(t.length>=2)return t.pop().split(";").shift()}function setCookie(e,i,t){var o=new Date;o=new Date(o.getTime()+864e5*t),document.cookie=e+"="+i+"; expires="+o.toGMTString()+"; path=/; domain=.branch.io"}var returning_visitor=getCookie("bnc_returning_visitor"),page_url=window.location.host+window.location.pathname;setCookie("bnc_returning_visitor","1",30),function(e,i,t,o,n,a,r){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,a=i.createElement(t),r=i.getElementsByTagName(t)[0],a.async=1,a.src=o,r.parentNode.insertBefore(a,r)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-53307642-1","auto"),ga("require","GTM-PCPBXCN"),ga("send","pageview"),ga("require","linkid","linkid.js"),returning_visitor||ga("set","dimension1",page_url)</script>
    
    
      <script>!function(e,t,n,o,c,a,f){e.fbq||(c=e.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},e._fbq||(e._fbq=c),c.push=c,c.loaded=!0,c.version="2.0",c.queue=[],a=t.createElement(n),a.async=!0,a.src=o,f=t.getElementsByTagName(n)[0],f.parentNode.insertBefore(a,f))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","1040694199304729"),fbq("track","PageView")</script>
      <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1040694199304729&ev=PageView&noscript=1"></noscript>
    
    
      <script>_linkedin_data_partner_id="21211",function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",e.parentNode.insertBefore(t,e)}()</script>
    
    
      <script src="//cdn.bizible.com/scripts/bizible.js" async></script>
    
    
      <script>!function(e,n,s,t,a){var c=n.createElement(s),d=n.getElementsByTagName(s)[0];c.async=1,c.id=a,c.src=t,d.parentNode.insertBefore(c,d)}(window,document,"script","https://scripts.demandbase.com/ucA8pUay.min.js","demandbase_js_lib")</script>
    
    
      <script>!function(){function e(){n===!1&&(n=!0,Munchkin.init("315-FTT-121",{domainLevel:2}))}var n=!1,t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//munchkin.marketo.net/munchkin.js",t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||e()},t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)}()</script>
    
    
      <script>!function(e,t,n,o,c,p){e.qp||(o=e.qp=function(){o.qp?o.qp.apply(o,arguments):o.queue.push(arguments)},o.queue=[],c=document.createElement(t),c.async=!0,c.src=n,p=document.getElementsByTagName(t)[0],p.parentNode.insertBefore(c,p))}(window,"script","https://a.quora.com/qevents.js"),qp("init","247e840cafa44cae9ac4b50a0cc1965a"),qp("track","ViewContent")</script>
      <noscript><img height="1" width="1" style="display:none" src="https://q.quora.com/_/ad/247e840cafa44cae9ac4b50a0cc1965a/pixel?tag=ViewContent&noscript=1"></noscript>
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css">
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application-a20f419c8e.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-23f75ab9c7.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../../css/main.css">
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.branch.io" title="Branch documentation" class="md-header-nav__button md-logo">
          
            
              <img src="../../../img/logo.svg">
            
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <a href="https://docs.branch.io" title="Branch documentation">
            <div class="branch-header-subtitle">&nbsp;|&nbsp;Docs</div>
          </a>
        </div>
      
      
        <div class="md-flex__cell md-flex__cell--stretch">
          <span class="md-flex__ellipsis md-header-nav__title">
            
              
                
                  <span class="md-header-nav__parent">
                    Links in new app platforms
                  </span>
                
              
              Android Instant Apps
            
          </span>
        </div>
      
      
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-helpful" id="header-helpful" title="Helpful">
            <i class="branch-header-icon md-icon material-icons">thumb_up</i>
            <p class="branch-header-label">Helpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-unhelpful" id="header-unhelpful" title="Unhelpful">
            <i class="branch-header-icon md-icon material-icons">thumb_down</i>
            <p class="branch-header-label">Unhelpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="improve-doc" title="Improve This Doc">
            <i class="branch-header-icon md-icon material-icons">mode_edit</i>
            <p class="branch-header-label">Improve</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="contact-support" title="Contact support">
            <i class="branch-header-icon md-icon material-icons">help_outline</i>
            <p class="branch-header-label">Support</p>
          </a>
        </div>
      
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <a href="#dialog-search" id="header-search" title="Search">
              <label class="md-icon md-icon--search md-header-nav__button"></label>
              
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      
        <i class="branch-header-search md-icon material-icons">search</i>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
            </a>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        
          <img src="../../../img/logo.svg">
        
      
    </div>
    Branch documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/branchmetrics/docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Branch documentation
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../.." title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

      
    
      
      
      
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic integration
          </li>
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../dashboard/integrate/" title="Configure your dashboard" class="md-nav__link">
      Configure your dashboard
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Configure your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Configure your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/ios/" title="iOS" class="md-nav__link">
      iOS
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/adobe-air/" title="Adobe AIR" class="md-nav__link">
      Adobe AIR
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/cordova-phonegap-ionic/" title="Cordova PhoneGap Ionic" class="md-nav__link">
      Cordova PhoneGap Ionic
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/mparticle-android/" title="mParticle Android" class="md-nav__link">
      mParticle Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/mparticle-ios/" title="mParticle iOS" class="md-nav__link">
      mParticle iOS
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/titanium/" title="Titanium" class="md-nav__link">
      Titanium
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/react-native/" title="React Native" class="md-nav__link">
      React Native
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/unity/" title="Unity" class="md-nav__link">
      Unity
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/xamarin/" title="Xamarin" class="md-nav__link">
      Xamarin
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Configure your deep linking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Configure your deep linking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/universal-links/" title="iOS Universal Links" class="md-nav__link">
      iOS Universal Links
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/android-app-links/" title="Android App Links" class="md-nav__link">
      Android App Links
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/routing/" title="In-app deep link routing" class="md-nav__link">
      In-app deep link routing
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Launch your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Launch your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/ios-launch/" title="Apple App Store" class="md-nav__link">
      Apple App Store
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/android-launch/" title="Google Play" class="md-nav__link">
      Google Play
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../web/integrate/" title="Configure your website" class="md-nav__link">
      Configure your website
    </a>
  </li>

      
    
      
      
      
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic usage
          </li>
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../links/integrate/" title="Create deep links" class="md-nav__link">
      Create deep links
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Track analytics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Track analytics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/analytics/" title="Dashboard analytics" class="md-nav__link">
      Dashboard analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/unified-analytics/" title="New Dashboard Analytics" class="md-nav__link">
      New Dashboard Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/timezone/" title="Time zone support" class="md-nav__link">
      Time zone support
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Advanced usage
          </li>
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Links on your website
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Links on your website
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/deep-views/" title="Deepviews" class="md-nav__link">
      Deepviews
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/journeys/" title="Journeys App Banners" class="md-nav__link">
      Journeys App Banners
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/amp-journeys/" title="AMP Journeys" class="md-nav__link">
      AMP Journeys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/text-me-the-app/" title="Text Me The App" class="md-nav__link">
      Text Me The App
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/hosted-data/" title="Hosted Deep Link Data" class="md-nav__link">
      Hosted Deep Link Data
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Links in your paid ads
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Links in your paid ads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/dynamic-product-feeds/" title="Dynamic Product Feeds" class="md-nav__link">
      Dynamic Product Feeds
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/branch-universal-ads/" title="Branch Universal Ads" class="md-nav__link">
      Branch Universal Ads
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/apple/" title="Apple Search" class="md-nav__link">
      Apple Search
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/doubleclick/" title="Doubleclick" class="md-nav__link">
      Doubleclick
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-ads-overview/" title="Google" class="md-nav__link">
      Google
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/facebook-ads-overview/" title="Facebook" class="md-nav__link">
      Facebook
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/twitter/" title="Twitter" class="md-nav__link">
      Twitter
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Links in your emails
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Links in your emails
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/get-started/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/amazon-ses/" title="Amazon SES" class="md-nav__link">
      Amazon SES
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/betaout/" title="Betaout" class="md-nav__link">
      Betaout
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/blueshift/" title="Blueshift" class="md-nav__link">
      Blueshift
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/braze/" title="Braze (formerly Appboy)" class="md-nav__link">
      Braze (formerly Appboy)
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/bronto/" title="Bronto" class="md-nav__link">
      Bronto
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/campaign-monitor/" title="Campaign Monitor" class="md-nav__link">
      Campaign Monitor
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/epsilon/" title="Epsilon" class="md-nav__link">
      Epsilon
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/kahuna/" title="Kahuna" class="md-nav__link">
      Kahuna
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/leanplum/" title="Leanplum" class="md-nav__link">
      Leanplum
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mailgun/" title="Mailgun" class="md-nav__link">
      Mailgun
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mailjet/" title="Mailjet" class="md-nav__link">
      Mailjet
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mandrill/" title="Mandrill" class="md-nav__link">
      Mandrill
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/postup/" title="PostUp" class="md-nav__link">
      PostUp
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/responsys/" title="Responsys" class="md-nav__link">
      Responsys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sailthru/" title="Sailthru" class="md-nav__link">
      Sailthru
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/salesforce/" title="Salesforce" class="md-nav__link">
      Salesforce
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sendgrid/" title="SendGrid" class="md-nav__link">
      SendGrid
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sparkpost/" title="SparkPost" class="md-nav__link">
      SparkPost
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/vero/" title="Vero" class="md-nav__link">
      Vero
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/zeta/" title="Zeta" class="md-nav__link">
      Zeta
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/support/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/self-serve/" title="Self Serve" class="md-nav__link">
      Self Serve
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../advance/push-notifications/" title="Links in push notifications" class="md-nav__link">
      Links in push notifications
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Links in organic search
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Links in organic search
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/firebase/" title="Firebase App Indexing" class="md-nav__link">
      Firebase App Indexing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/spotlight/" title="Spotlight Search" class="md-nav__link">
      Spotlight Search
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/branch-seo/" title="General SEO Compatibility" class="md-nav__link">
      General SEO Compatibility
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Links for viral & referral
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Links for viral & referral
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/content-sharing/" title="Content sharing" class="md-nav__link">
      Content sharing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/referrals/" title="Referral programs" class="md-nav__link">
      Referral programs
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/facebook-app-invites/" title="Facebook App Invites" class="md-nav__link">
      Facebook App Invites
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15" checked>
    
    <label class="md-nav__link" for="nav-15">
      Links in new app platforms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        Links in new app platforms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Android Instant Apps
      </label>
    
    <a href="./" title="Android Instant Apps" class="md-nav__link md-nav__link--active">
      Android Instant Apps
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-use-branch-for-your-instant-apps" title="Why use Branch for your Instant Apps" class="md-nav__link">
    Why use Branch for your Instant Apps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integrating-branch-for-your-instant-app" title="Integrating Branch for your Instant App" class="md-nav__link">
    Integrating Branch for your Instant App
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-the-branch-sdk" title="Initialize the Branch SDK" class="md-nav__link">
    Initialize the Branch SDK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-your-branch-keys-and-register-for-install-referrer" title="Add your Branch keys and register for Install Referrer" class="md-nav__link">
    Add your Branch keys and register for Install Referrer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-your-branch-links-as-android-app-links" title="Configure your Branch links as Android App Links" class="md-nav__link">
    Configure your Branch links as Android App Links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieve-branch-deep-link-data" title="Retrieve Branch deep link data" class="md-nav__link">
    Retrieve Branch deep link data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-deep-linking-from-instant-app-to-your-full-app" title="Configure the deep linking from Instant App to your Full App" class="md-nav__link">
    Configure the deep linking from Instant App to your Full App
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-instant-apps" title="Test Instant Apps" class="md-nav__link">
    Test Instant Apps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
        <li class="md-nav__item">
          <a href="#__source" title="Source" class="md-nav__link md-nav__link--active">
            Source
          </a>
        </li>
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../imessage-apps/" title="iMessage Apps" class="md-nav__link">
      iMessage Apps
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Export Branch data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Export Branch data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16-1" type="checkbox" id="nav-16-1">
    
    <label class="md-nav__link" for="nav-16-1">
      Data Feeds
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-16-1">
        Data Feeds
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/data-feeds/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16-1-2" type="checkbox" id="nav-16-1-2">
    
    <label class="md-nav__link" for="nav-16-1-2">
      Data Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-16-1-2">
        Data Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/data-integrations/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adobe-analytics/" title="Adobe Analytics" class="md-nav__link">
      Adobe Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adjust/" title="Adjust" class="md-nav__link">
      Adjust
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/amplitude/" title="Amplitude" class="md-nav__link">
      Amplitude
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appmetrica/" title="AppMetrica" class="md-nav__link">
      AppMetrica
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appboy/" title="Appboy" class="md-nav__link">
      Appboy
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appsflyer/" title="Appsflyer" class="md-nav__link">
      Appsflyer
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/clevertap/" title="CleverTap" class="md-nav__link">
      CleverTap
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/fabric-answers/" title="Fabric Answers" class="md-nav__link">
      Fabric Answers
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/google-analytics/" title="Google Analytics" class="md-nav__link">
      Google Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/kochava/" title="Kochava" class="md-nav__link">
      Kochava
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/localytics/" title="Localytics" class="md-nav__link">
      Localytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/mixpanel/" title="Mixpanel" class="md-nav__link">
      Mixpanel
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/tune/" title="Tune" class="md-nav__link">
      Tune
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/api-v3/" title="Data Export API" class="md-nav__link">
      Data Export API
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/ua-webhooks/" title="Webhooks" class="md-nav__link">
      Webhooks
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/matching/" title="Branch Matching Overview" class="md-nav__link">
      Branch Matching Overview
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Resources
          </li>
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/validation-tools/" title="Validation Tools" class="md-nav__link">
      Validation Tools
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/case-studies/" title="Case Studies and Infographics" class="md-nav__link">
      Case Studies and Infographics
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-use-branch-for-your-instant-apps" title="Why use Branch for your Instant Apps" class="md-nav__link">
    Why use Branch for your Instant Apps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integrating-branch-for-your-instant-app" title="Integrating Branch for your Instant App" class="md-nav__link">
    Integrating Branch for your Instant App
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-the-branch-sdk" title="Initialize the Branch SDK" class="md-nav__link">
    Initialize the Branch SDK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-your-branch-keys-and-register-for-install-referrer" title="Add your Branch keys and register for Install Referrer" class="md-nav__link">
    Add your Branch keys and register for Install Referrer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-your-branch-links-as-android-app-links" title="Configure your Branch links as Android App Links" class="md-nav__link">
    Configure your Branch links as Android App Links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieve-branch-deep-link-data" title="Retrieve Branch deep link data" class="md-nav__link">
    Retrieve Branch deep link data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-deep-linking-from-instant-app-to-your-full-app" title="Configure the deep linking from Instant App to your Full App" class="md-nav__link">
    Configure the deep linking from Instant App to your Full App
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-instant-apps" title="Test Instant Apps" class="md-nav__link">
    Test Instant Apps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
        <li class="md-nav__item">
          <a href="#__source" title="Source" class="md-nav__link md-nav__link--active">
            Source
          </a>
        </li>
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/branchmetrics/docs/edit/master/src/pages/app-to-app/android-instant-apps.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Android Instant Apps</h1>
                
                <h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>At the 2017 Google IO, Google launched the public version of Instant Apps for developers to adopt and build on. Instant Apps are a way to load a partial section (or <code>split</code> as Google refers to them), without the user having to visit the Play Store and install your app. In effect, it's instant access to your native app. If you have been using a website as a fallback when your full Android app is not installed, an Instant App is an alternative. You'll have to choose between mobile web and your Instant App on Android so make sure you plan out your integration!</p>
<p>Branch has made it incredibly easy to start using your basic Branch links in your Instant Apps as shown below. The guide on this page will walk you through the full configuration process to enable Branch in your new Instant App.</p>
<p><img alt="Instant Apps Diagram" class="full-width" src="../../../img/pages/app-to-app/android-instant-apps/android_instant_apps.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This guide is not about how to configure your Android app to be an Instant App. Please see <a href="https://developer.android.com/topic/instant-apps/index.html">Google's documentation for detailed instructions</a> on how to do this. Come back to this guide when you're ready to enable Branch.</p>
</div>
<h3 id="why-use-branch-for-your-instant-apps">Why use Branch for your Instant Apps<a class="headerlink" href="#why-use-branch-for-your-instant-apps" title="Permanent link">&para;</a></h3>
<p>If you follow Google's guide, they'll have you integrate your own web links as Android App Links, that will trigger Instant Apps. What can Branch do for you then? First off, let me explain how Branch works with Instant Apps. Branch will act as a <em>new</em> web domain that you'll register for Android App Links in addition to your own web domain or as your only domain in the manifest. We act as your link.</p>
<p>Here's a list of the potential use cases for Branch links and Instant Apps:</p>
<ol>
<li>Branch will host personalized web links for you since we provision a custom domain (yourapp.app.link or whitelabeled) for every app. If you don't have a website, this means that we can take care of all your Android App Links needs, automatically configuring and hosting the assetlinks.json file on your behalf.</li>
<li>If you have a popular website and have configured Android App Links, you likely don't want 100% of your web links triggering your Instant App. Your Instant App will only support a fraction of your full app functionality. You can configure your Instant App to only trigger on your Branch link domains and paths, then use the usage of Branch to control when users are linked to Instant Apps.</li>
<li>Branch can measure and attribute <code>clicks</code>, <code>installs</code> and custom conversion events back to the Branch tracking link for <em>all visits to your Instant App</em>, which are visible on the dashboard.</li>
<li>You can use Branch links to deferred deep link from the Android Instant App to the full Android App. You'll likely build a feature that pushes users from the Instant App to the full Android app, and Branch can do its magic on this transition.</li>
<li>Branch can measure and attribute <code>clicks</code>, <code>installs</code> and custom conversion events inside your full native Android App for users who were referred from an Instant App, showing the conversion from click -&gt; Instant App -&gt; Full App on the dashboard.</li>
</ol>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">&para;</a></h2>
<h3 id="integrating-branch-for-your-instant-app">Integrating Branch for your Instant App<a class="headerlink" href="#integrating-branch-for-your-instant-app" title="Permanent link">&para;</a></h3>
<p>So you're convinced. Let's get started! If at any time, you need a real example, you can check out a <a href="https://github.com/BranchMetrics/Branch-Monster-Factory-Example-Android-Instant-Apps" target="_blank">full demo application</a> on our Github. We've replicated our <a href="https://github.com/BranchMetrics/Branch-Example-Deep-Linking-Branchster-Android" target="_blank">original Android demo application</a> and modified it to support Android Instant Apps.</p>
<h3 id="initialize-the-branch-sdk">Initialize the Branch SDK<a class="headerlink" href="#initialize-the-branch-sdk" title="Permanent link">&para;</a></h3>
<p>Head to your <em>core library project</em>, where your Application class is defined and drop in the snippet of code to the onCreate() method as follows. If you plan on deep linking from your Android Instant App to your full Android app after its installed, you'll need to add the line <code>enablePlayStoreReferrer</code>. This adds a delay to the initialization to wait for the Google Play Referrer, which can take up to a second.</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">()</span> <span class="o">{</span>
  <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">();</span>
  <span class="c1">// This is needed to deferred deep link from an Android Instant App to a full app</span>
  <span class="c1">// It tells the Branch initialization to wait for the Google Play Referrer before proceeding.</span>
  <span class="n">Branch</span><span class="o">.</span><span class="na">enablePlayStoreReferrer</span><span class="o">(</span><span class="mi">1000L</span><span class="o">);</span>

  <span class="c1">// Initialize the Branch SDK</span>
  <span class="n">Branch</span><span class="o">.</span><span class="na">getAutoInstance</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>

<h3 id="add-your-branch-keys-and-register-for-install-referrer">Add your Branch keys and register for Install Referrer<a class="headerlink" href="#add-your-branch-keys-and-register-for-install-referrer" title="Permanent link">&para;</a></h3>
<p>Instant Apps can be rather confusing as there are many different manifests, but you want to find the Manifest that contains your <code>application</code> tags. Make sure your Application class name is defined here, and then specify the Branch keys <em>inside</em> the <code>application</code> element.</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;application</span>
        <span class="na">android:allowBackup=</span><span class="s">&quot;true&quot;</span>
        <span class="na">android:label=</span><span class="s">&quot;@string/app_name&quot;</span>
        <span class="na">android:theme=</span><span class="s">&quot;@style/AppTheme&quot;</span>
        <span class="na">android:supportsRtl=</span><span class="s">&quot;true&quot;</span>
        <span class="na">android:name=</span><span class="s">&quot;.MyApplication&quot;</span><span class="nt">&gt;</span>

  <span class="nt">&lt;meta-data</span> <span class="na">android:name=</span><span class="s">&quot;io.branch.sdk.TestMode&quot;</span> <span class="na">android:value=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- Set to true to use Branch_Test_Key --&gt;</span>
  <span class="nt">&lt;meta-data</span> <span class="na">android:name=</span><span class="s">&quot;io.branch.sdk.BranchKey&quot;</span> <span class="na">android:value=</span><span class="s">&quot;key_live_my_live_key&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;meta-data</span> <span class="na">android:name=</span><span class="s">&quot;io.branch.sdk.BranchKey.test&quot;</span> <span class="na">android:value=</span><span class="s">&quot;key_test_my_test_key&quot;</span> <span class="nt">/&gt;</span>

  <span class="nt">&lt;receiver</span> <span class="na">android:name=</span><span class="s">&quot;io.branch.referral.InstallListener&quot;</span> <span class="na">android:exported=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;intent-filter&gt;</span>
       <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">&quot;com.android.vending.INSTALL_REFERRER&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/intent-filter&gt;</span>
  <span class="nt">&lt;/receiver&gt;</span>
<span class="nt">&lt;/application&gt;</span>
</pre></div>

<h3 id="configure-your-branch-links-as-android-app-links">Configure your Branch links as Android App Links<a class="headerlink" href="#configure-your-branch-links-as-android-app-links" title="Permanent link">&para;</a></h3>
<p>This guide presumes that you've already configured Branch for Android App Links in the past. If you haven't configured your full native app to use Branch as Android App Links, <a href="../../../pages/apps/universal-app-links/">please complete this guide</a> which will correctly configure the dashboard and manifest.</p>
<p>Now, you simply need to edit the above manifest and paste in the following snippet <em>inside</em> the desired <code>activity.</code> Then you'll need to replace the <code>xxxx</code> with your own custom subdomain which will be visible on <a href="https://dashboard.branch.io/link-settings" target="_blank">the Branch link settings dashboard</a> at the bottom of the page. If you're using a custom subdomain, you can find the advanced instructions in the above link regarding configuring Android App Links.</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;application</span>
  <span class="err">......</span><span class="nt">&gt;</span>

<span class="nt">&lt;activity...</span>
  <span class="err">&lt;intent-filter</span> <span class="na">android:autoVerify=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.action.VIEW&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.category.DEFAULT&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.category.BROWSABLE&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;data</span> <span class="na">android:scheme=</span><span class="s">&quot;https&quot;</span> <span class="na">android:host=</span><span class="s">&quot;xxxx.app.link&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;data</span> <span class="na">android:scheme=</span><span class="s">&quot;https&quot;</span> <span class="na">android:host=</span><span class="s">&quot;xxxx-alternate.app.link&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/intent-filter&gt;</span>
<span class="nt">&lt;/activity&gt;</span>

<span class="nt">&lt;/application&gt;</span>
</pre></div>

<h3 id="retrieve-branch-deep-link-data">Retrieve Branch deep link data<a class="headerlink" href="#retrieve-branch-deep-link-data" title="Permanent link">&para;</a></h3>
<p>Add Branch initSession in Activities which are configured to open from a link click in order to receive the deep link params. This will return the deep link data from the referring link.</p>
<div class="codehilite"><pre><span></span><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onStart</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">onStart</span><span class="o">();</span>
    <span class="n">Branch</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">initSession</span><span class="o">(</span><span class="k">new</span> <span class="n">Branch</span><span class="o">.</span><span class="na">BranchReferralInitListener</span><span class="o">()</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitFinished</span><span class="o">(</span><span class="n">JSONObject</span> <span class="n">referringParams</span><span class="o">,</span> <span class="n">BranchError</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="s">&quot;Branch&quot;</span><span class="o">,</span> <span class="s">&quot;onInitFinished() with deep link data: &quot;</span> <span class="o">+</span> <span class="n">referringParams</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">});</span>
<span class="o">}</span>
</pre></div>

<h3 id="configure-the-deep-linking-from-instant-app-to-your-full-app">Configure the deep linking from Instant App to your Full App<a class="headerlink" href="#configure-the-deep-linking-from-instant-app-to-your-full-app" title="Permanent link">&para;</a></h3>
<p>Now, the user has arrived in your Instant App and you're ready to convert them to install your full native app. Don't worry, Branch as got your covered! We have overridden the default <code>showInstallPrompt</code> with a method that auto configures the Google Play prompt with all of the deep link data you need to carry context through install. Additionally, we can provide you the full set of attribution on how many users convert through this prompt.</p>
<p>Branch SDK provides convenient methods to check for app types and full app conversion. This eliminates the dependency on Google IA support SDK ('com.google.android.instantapp'). Here are some of the methods that makes life easy</p>
<ul>
<li><code>Branch#isInstantApp()</code></li>
</ul>
<p>This convenience methods checks whether the current version of app running is Instant App or Full Android App to allow you convenience</p>
<ul>
<li><code>Branch#showInstallPrompt()</code></li>
</ul>
<p>This methods shows an install prompt for the full Android app, allowing you an easy way to pass Branch referring deep data to the full app through the install process. Similar to how deferred deep linking works for Branch normally, the full app will receive the deep link params in the handle callback.</p>
<p>The below example shows how to create a custom Branch Universal Object, the associate it with the installation prompt that will be passed through to your full native Android app after the user installs.</p>
<div class="codehilite"><pre><span></span><span class="k">if</span> <span class="o">(</span><span class="n">Branch</span><span class="o">.</span><span class="na">isInstantApp</span><span class="o">(</span><span class="k">this</span><span class="o">))</span> <span class="o">{</span>
  <span class="n">myFullAppInstallButton</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>
  <span class="n">myFullAppInstallButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
       <span class="n">BranchUniversalObject</span> <span class="n">branchUniversalObject</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BranchUniversalObject</span><span class="o">()</span>
            <span class="o">.</span><span class="na">setCanonicalIdentifier</span><span class="o">(</span><span class="s">&quot;item/12345&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">&quot;My Content Title&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">setContentDescription</span><span class="o">(</span><span class="s">&quot;My Content Description&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">setContentImageUrl</span><span class="o">(</span><span class="s">&quot;https://example.com/mycontent-12345.png&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">addContentMetadata</span><span class="o">(</span><span class="s">&quot;property1&quot;</span><span class="o">,</span> <span class="s">&quot;blue&quot;</span><span class="o">)</span>
            <span class="o">.</span><span class="na">addContentMetadata</span><span class="o">(</span><span class="s">&quot;property2&quot;</span><span class="o">,</span> <span class="s">&quot;red&quot;</span><span class="o">);</span>

      <span class="n">Branch</span><span class="o">.</span><span class="na">showInstallPrompt</span><span class="o">(</span><span class="n">myActivity</span><span class="o">,</span> <span class="n">activity_ret_code</span><span class="o">,</span> <span class="n">branchUniversalObject</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">});</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
  <span class="n">myFullAppInstallButton</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>

<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="test-instant-apps">Test Instant Apps<a class="headerlink" href="#test-instant-apps" title="Permanent link">&para;</a></h3>
<p>You can create Branch links in a variety of ways, but to quickly test your Branch integration, head to the <a href="https://dashboard.branch.io/quick-links" target="_blank">quick links section</a> on our dashboard and create a link. If you configured deep linking via a specific key in the deep link data, make sure that you add it to your quick link to properly simulate a real live Branch link.</p>
                
                  
                    <h2 id="__source">Source</h2>
                    
                    
                      <a href="https://github.com/branchmetrics/docs/tree/master/src/pages/app-to-app/android-instant-apps.md" title="android-instant-apps.md" class="md-source-file">
                        android-instant-apps.md
                      </a>
                    
                  
                
              
              
                
                  <h2 id="__comments">Comments</h2>
                  <div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = "https://docs.branch.io/pages/app-to-app/android-instant-apps/";
    this.page.identifier =
      "/pages/app-to-app/android-instant-apps/";
  };
  (function() {
    var d = document, s = d.createElement("script");
    s.src = "//branch-docs.disqus.com/embed.js";
    s.setAttribute("data-timestamp", +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
                
              
            </article>
          </div>
        </div>
      </main>
      
        
        
      
      
        <div class="modals">
          <div id="modal-search" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content" id="algolia-search-container">
              <i class="material-icons modal-close right">close</i>
              <h2>Search</h2>
              <input type="text" placeholder="search docs..." id="algolia-doc-search" autofocus>
            </div>
          </div>
          <div id="modal-unhelpful" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Unhelpful?</h2>
              <p>How can we improve or assist you?</p>
              <a href="#" class="improve-doc" title="Improve This Doc">Improve this doc</a>
              <a href="#" class="contact-support" title="Contact support">Contact support</a>
            </div>
          </div>
          <div id="modal-choose-app" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Choose your app</h2>
              <button type="button">iOS</button>
              <button type="button">Android</button>
              <button type="button">Cordova Ionic PhoneGap</button>
              <button type="button">React Native</button>
            </div>
          </div>
          <div id="modal-helpful" class="modal notification">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Thank you</h2>
            </div>
          </div>
          <div id="modal-image" class="modal dialog image">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Image</h2>
              <a id="modal-image-link" href="#">
                <img id="modal-image-img">
              </a>
            </div>
          </div>
          <div id="modal-code" class="modal dialog code">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Select your platform</h2>
              <div class="flex">
                <button id="modal-code-ios">iOS</button>
                <button id="modal-code-android">Android</button>
              </div>
              <div class="flex">
                <button id="modal-code-adobe">Adobe AIR</button>
                <button id="modal-code-cordova">Cordova PhoneGap Ionic</button>
              </div>
              <div class="flex">
                <button id="modal-code-mparticle-android">mParticle Android</button>
                <button id="modal-code-mparticle-ios">mParticle iOS</button>
              </div>
              <div class="flex">
                <button id="modal-code-titanium">Titanium</button>
                <button id="modal-code-react">React Native</button>
              </div>
              <div class="flex">
                <button id="modal-code-unity">Unity</button>
                <button id="modal-code-xamarin">Xamarin</button>
              </div>
            </div>
          </div>
        </div>
      
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="https://branch.io">Branch</a>
          </div>
        
        All rights reserved
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://branch.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/branchmetrics/docs" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/branchmetrics" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.facebook.com/branchmetrics" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.linkedin.com/company-beta/3813083" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application-26aeb842c9.js"></script>
      <script>app.initialize({url:{base:"../../.."}})</script>
      
        <script src="../../../js/router.js"></script>
      
        <script src="../../../js/events.js"></script>
      
        <script src="../../../js/modals.js"></script>
      
        <script src="../../../js/images.js"></script>
      
        <script src="../../../js/buttons.js"></script>
      
        <script src="../../../js/progress.js"></script>
      
        <script src="../../../js/tabs.js"></script>
      
        <script src="../../../js/languages.js"></script>
      
        <script src="../../../js/utils.js"></script>
      
        <script src="../../../js/main.js"></script>
      
      
        <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
        <script>docsearch({apiKey:"887017d17a2c1e9490ad2c44caa7e817",indexName:"branchmetrics",inputSelector:"#algolia-doc-search",debug:"True",algoliaOptions:{hitsPerPage:"15"}})</script>
      
    
  </body>
</html>